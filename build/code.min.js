'use strict';var view,demos,user,UIL,exports,define,module,performance,CodeMirror,getComputedStyle,require,requirejs,esprima,global;(function(h,r){"object"===typeof exports&&"undefined"!==typeof module?r(exports):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.UIL={}))})(this,function(h){function r(g,a){this.x=g||0;this.y=a||0}function x(g){g=g||{};this.css=w.css;this.colors=w.colors;this.defaultBorderColor=this.colors.border;this.svgs=w.svgs;this.zone={x:0,y:0,w:0,h:0};this.local=(new r).neg();this.isCanvasOnly=!1;this.main=g.main||null;this.isUI=g.isUI||!1;this.parentGroup=null;this.p=void 0!==g.p?
g.p:w.size.p;this.w=this.isUI?this.main.size.w:w.size.w;void 0!==g.w&&(this.w=g.w);this.h=this.isUI?this.main.size.h:w.size.h;void 0!==g.h&&(this.h=g.h);this.h=11>this.h?11:this.h;this.autoWidth=g.auto||!0;this.isOpen=!1;this.radius=g.radius||0;this.isEdit=this.mono=this.isNumber=!1;if(this.simple=g.simple||!1)this.sa=0;this.setSize(this.w);void 0!==g.sa&&(this.sa=g.sa);void 0!==g.sb&&(this.sb=g.sb);this.simple&&(this.sb=this.w-this.sa);this.sc=void 0===g.sc?47:g.sc;this.objectLink=null;this.isSend=
!1;this.val=null;this.bg=this.isUI?this.main.bg:w.colors.background;this.bgOver=w.colors.backgroundOver;void 0!==g.bg&&(this.bgOver=this.bg=g.bg);void 0!==g.bgOver&&(this.bgOver=g.bgOver);this.titleColor=g.titleColor||w.colors.text;this.fontColor=g.fontColor||w.colors.text;void 0!==g.color&&("n"===g.color&&(g.color="#ff0000"),"no"!==g.color&&(isNaN(g.color)?this.fontColor=g.color:this.fontColor=w.hexToHtml(g.color),this.titleColor=this.fontColor));this.colorPlus=w.ColorLuma(this.fontColor,0.3);this.txt=
g.name||"Proto";this.rename=g.rename||"";this.target=g.target||null;this.callback=void 0===g.callback?null:g.callback;this.endCallback=null;null===this.callback&&this.isUI&&null!==this.main.callback&&(this.callback=this.main.callback);this.c=[];this.s=[];this.c[0]=w.dom("div",w.css.basic+"position:relative; height:20px; float:left; overflow:hidden;");this.s[0]=this.c[0].style;this.isUI&&(this.s[0].marginBottom="1px");this.simple||(this.c[1]=w.dom("div",w.css.txt),this.s[1]=this.c[1].style,this.c[1].textContent=
""===this.rename?this.txt:this.rename,this.s[1].color=this.titleColor);if(g.pos){this.s[0].position="absolute";for(var a in g.pos)this.s[0][a]=g.pos[a];this.mono=!0}g.css&&(this.s[0].cssText=g.css)}function s(g){x.call(this,g);this.value=g.value||!1;this.buttonColor=g.bColor||this.colors.button;this.inh=g.inh||this.h;g=Math.floor(0.5*this.h)-0.5*(this.inh-2);this.c[2]=this.dom("div",this.css.basic+"background:"+this.colors.boolbg+"; height:"+(this.inh-2)+"px; width:36px; top:"+g+"px; border-radius:10px; border:2px solid "+
this.boolbg);this.c[3]=this.dom("div",this.css.basic+"height:"+(this.inh-6)+"px; width:16px; top:"+(g+2)+"px; border-radius:10px; background:"+this.buttonColor+";");this.init();this.update()}function q(g){x.call(this,g);this.value=!1;this.values=g.value||this.txt;"string"===typeof this.values&&(this.values=[this.values]);this.isDown=!1;this.buttonColor=g.bColor||this.colors.button;this.isLoadButton=g.loader||!1;if(this.isDragButton=g.drag||!1)this.isLoadButton=!0;this.lng=this.values.length;this.tmp=
[];this.stat=[];for(g=0;g<this.lng;g++)this.c[g+2]=this.dom("div",this.css.txt+"text-align:center; top:1px; background:"+this.buttonColor+"; height:"+(this.h-2)+"px; border-radius:"+this.radius+"px; line-height:"+(this.h-4)+"px;"),this.c[g+2].style.color=this.fontColor,this.c[g+2].innerHTML=this.values[g],this.stat[g]=1;void 0!==this.c[1]&&(this.c[1].textContent="");this.isLoadButton&&this.initLoader();this.isDragButton&&(this.lng++,this.initDrager());this.init()}function u(g){x.call(this,g);this.autoWidth=
!1;this.buttonColor=this.colors.button;this.setTypeNumber(g);this.radius=0.5*this.w;this.twoPi=2*Math.PI;this.pi90=0.5*Math.PI;this.offset=new r;this.h=g.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.cmode=this.percent=0;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[3]=this.getCircular();
this.setSvg(this.c[3],"d",this.makePath(),1);this.setSvg(this.c[3],"stroke",this.fontColor,1);this.setSvg(this.c[3],"viewBox","0 0 "+this.w+" "+this.w);this.setCss(this.c[3],{width:this.w,height:this.w,left:0,top:this.top});this.init();this.update()}function n(g){x.call(this,g);this.ctype=g.ctype||"array";this.wfixe=256<this.sb?256:this.sb;this.side=g.side||"down";this.up="down"===this.side?0:1;this.baseH=this.h;this.offset=new r;this.decal=new r;this.pi90=0.5*Math.PI;this.c[2]=this.dom("div",this.css.txt+
"height:"+(this.h-4)+"px;border-radius:"+this.radius+"px; line-height:"+(this.h-8)+"px;");this.s[2]=this.c[2].style;this.up&&(this.s[2].top="auto",this.s[2].bottom="2px");this.c[3]=this.getColorRing();this.c[3].style.visibility="hidden";this.hsl=null;this.value="#ffffff";void 0!==g.value&&(g.value instanceof Array?this.value=w.rgbToHex(g.value):isNaN(g.value)?this.value=g.value:this.value=w.hexToHtml(g.value));this.bcolor=null;this.isDown=!1;this.setColor(this.value);this.init();void 0!==g.open&&
this.open()}function G(g){x.call(this,g);this.round=Math.round;this.autoHeight=!0;this.baseH=this.h;this.hplus=50;this.res=g.res||40;this.l=1;this.pa1=[];this.pa2=[];this.pa3=[];for(var a=this.res+1;a--;)this.pa1.push(50),this.pa2.push(50),this.pa3.push(50);a=Math.floor(0.5*this.h)-6;this.c[1].textContent="FPS";this.c[0].style.cursor="pointer";this.c[0].style.pointerEvents="auto";this.c[2]=this.dom("path",this.css.basic+("display:none; left:10px; top:"+this.h+"px; height:"+(this.hplus-8)+"px; background: rgba(0, 0, 0, 0.2);border:1px solid rgba(255, 255, 255, 0.2); "),
{fill:"rgba(200,200,200,0.3)","stroke-width":1,stroke:this.fontColor,"vector-effect":"non-scaling-stroke"});this.c[2].setAttribute("viewBox","0 0 "+this.res+" 42");this.c[2].setAttribute("height","100%");this.c[2].setAttribute("width","100%");this.c[2].setAttribute("preserveAspectRatio","none");this.dom("path",null,{fill:"rgba(255,255,0,0.3)","stroke-width":1,stroke:"#FF0","vector-effect":"non-scaling-stroke"},this.c[2]);this.dom("path",null,{fill:"rgba(0,255,255,0.3)","stroke-width":1,stroke:"#0FF",
"vector-effect":"non-scaling-stroke"},this.c[2]);this.c[3]=this.dom("div",this.css.basic+"width:100%; bottom:0px; height:1px; background: rgba(255, 255, 255, 0.2);");this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+a+"px;",{d:"M 3 8 L 8 5 3 2 3 8 Z",fill:this.fontColor,stroke:"none"});this.isShow=g.show||!1;this.c[1].style.marginLeft="10px";this.now=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now;this.prevTime=
this.startTime=this.now();this.frames=0;this.isMem=!1;this.mm=this.mem=this.fps=this.ms=0;self.performance&&self.performance.memory&&(this.isMem=!0);this.init()}function C(g){x.call(this,g);this.value=void 0!==g.value?g.value:[0,0,0];this.lng=this.value.length;this.precision=void 0!==g.precision?g.precision:2;this.multiplicator=g.multiplicator||1;this.neg=g.neg||!1;this.autoWidth=void 0!==g.autoWidth?g.autoWidth:!0;this.isDown=this.isNumber=!1;this.h=g.h||138;this.rh=this.h-10;this.top=0;this.c[0].style.width=
this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.top=10,this.h+=10);this.gh=this.rh-28;this.gw=this.w-28;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[2].textContent=this.value;g=this.dom("svg",this.css.basic,{viewBox:"0 0 "+this.w+" "+this.rh,width:this.w,height:this.rh,preserveAspectRatio:"none"});this.setCss(g,{width:this.w,height:this.rh,left:0,top:this.top});this.dom("path","",{d:"",stroke:this.colors.text,
"stroke-width":2,fill:"none","stroke-linecap":"butt"},g);this.dom("rect","",{x:10,y:10,width:this.gw+8,height:this.gh+8,stroke:"rgba(0,0,0,0.3)","stroke-width":1,fill:"none"},g);this.iw=(this.gw-4*(this.lng-1))/this.lng;var a=[];this.cMode=[];this.v=[];for(var b=0;b<this.lng;b++)a[b]=[14+b*this.iw+4*b,this.iw],a[b][2]=a[b][0]+a[b][1],this.cMode[b]=0,this.v[b]=this.neg?0.5*(1+this.value[b]/this.multiplicator):this.value[b]/this.multiplicator,this.dom("rect","",{x:a[b][0],y:14,width:a[b][1],height:1,
fill:this.fontColor,"fill-opacity":0.3},g);this.tmp=a;this.c[3]=g;console.log(this.w);this.init();void 0!==this.c[1]&&(this.c[1].style.top="0px",this.c[1].style.height="20px",this.s[1].lineHeight="15px");this.update(!1)}function l(g){x.call(this,g);this.uis=[];this.autoHeight=!0;this.current=-1;this.target=null;this.decal=0;this.baseH=this.h;var a=Math.floor(0.5*this.h)-6;this.isLine=void 0!==g.line?g.line:!1;this.c[2]=this.dom("div",this.css.basic+"width:100%; left:0; height:auto; overflow:hidden; top:"+
this.h+"px");this.c[3]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:0; top:"+a+"px;",{d:this.svgs.group,fill:this.fontColor,stroke:"none"});this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+a+"px;",{d:this.svgs.arrow,fill:this.fontColor,stroke:"none"});this.isLine&&(this.c[5]=this.dom("div",this.css.basic+"background:rgba(255, 255, 255, 0.2); width:100%; left:0; height:1px; bottom:0px"));a=this.s;a[0].height=this.h+
"px";a[1].height=this.h+"px";this.c[1].name="group";this.s[1].marginLeft="10px";this.s[1].lineHeight=this.h-4;this.s[1].color=this.fontColor;this.s[1].fontWeight="bold";this.init();void 0!==g.bg&&this.setBG(g.bg);void 0!==g.open&&this.open()}function d(g){x.call(this,g);this.autoWidth=!1;this.value=[0,0];this.joyType="analogique";this.model=void 0!==g.mode?g.mode:0;this.precision=g.precision||2;this.multiplicator=g.multiplicator||1;this.pos=new r;this.tmp=new r;this.interval=null;this.radius=0.5*
this.w;this.distance=0.25*this.radius;this.h=g.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[2].textContent=this.value;this.c[3]=this.getJoystick(this.model);this.setSvg(this.c[3],"viewBox","0 0 "+this.w+" "+this.w);this.setCss(this.c[3],{width:this.w,
height:this.w,left:0,top:this.top});this.ratio=128/this.w;this.init();this.update(!1)}function a(g){x.call(this,g);this.autoWidth=!1;this.buttonColor=this.colors.button;this.setTypeNumber(g);this.mPI=0.8*Math.PI;this.toDeg=180/Math.PI;this.cirRange=2*this.mPI;this.offset=new r;this.radius=0.5*this.w;this.h=g.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.cmode=this.percent=
0;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[3]=this.getKnob();this.setSvg(this.c[3],"stroke",this.fontColor,1);this.setSvg(this.c[3],"stroke",this.fontColor,3);this.setSvg(this.c[3],"d",this.makeGrad(),3);this.setSvg(this.c[3],"viewBox","0 0 "+this.ww+" "+this.ww);this.setCss(this.c[3],{width:this.w,height:this.w,left:0,top:this.top});this.r=0;this.init();this.update()}function b(g){x.call(this,g);this.path=
g.path||"";this.format=g.format||"";this.imageSize=g.imageSize||[20,20];this.isWithImage=""!==this.path?!0:!1;this.preLoadComplete=!1;this.tmpImage={};this.tmpUrl=[];this.autoHeight=!1;var a=g.align||"center";this.tMode=this.sMode=0;this.buttonColor=g.bColor||this.colors.button;var b=Math.floor(0.5*this.h)-5;this.c[2]=this.dom("div",this.css.basic+"top:0; display:none;");this.c[3]=this.dom("div",this.css.txt+"text-align:"+a+"; line-height:"+(this.h-4)+"px; top:1px; background:"+this.buttonColor+"; height:"+
(this.h-2)+"px; border-radius:"+this.radius+"px;");this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; top:"+b+"px;",{d:this.svgs.arrow,fill:this.fontColor,stroke:"none"});this.scroller=this.dom("div",this.css.basic+"right:5px;  width:10px; background:#666; display:none;");this.c[3].style.color=this.fontColor;this.list=g.list||[];this.items=[];this.prevName="";this.baseH=this.h;this.itemHeight=g.itemHeight||this.h-3;this.full=g.full||!1;this.py=0;this.ww=this.sb;
this.isDown=this.scroll=!1;this.current=null;this.side=g.side||"down";(this.up="down"===this.side?0:1)?(this.c[2].style.top="auto",this.c[3].style.top="auto",this.c[4].style.top="auto",this.c[2].style.bottom=this.h-2+"px",this.c[3].style.bottom="1px",this.c[4].style.bottom=b+"px"):this.c[2].style.top=this.baseH+"px";this.listIn=this.dom("div",this.css.basic+"left:0; top:0; width:100%; background:rgba(0,0,0,0.2);");this.listIn.name="list";this.topList=0;this.c[2].appendChild(this.listIn);this.c[2].appendChild(this.scroller);
void 0!==g.value?isNaN(g.value)?this.value=g.value:this.value=this.list[g.value]:this.value=this.list[0];this.isOpenOnStart=g.open||!1;this.isWithImage&&this.preloadImage();this.setList(this.list);this.init();this.isOpenOnStart&&this.open()}function c(g){x.call(this,g);this.setTypeNumber(g);this.isDown=!1;this.value=[0];this.toRad=1;this.isNumber=!0;this.isVector=this.isAngle=!1;void 0!==g.value&&(isNaN(g.value)?g.value instanceof Array?(this.value=g.value,this.isNumber=!1):g.value instanceof Object&&
(this.value=[],g.value.x&&(this.value[0]=g.value.x),g.value.y&&(this.value[1]=g.value.y),g.value.z&&(this.value[2]=g.value.z),g.value.w&&(this.value[3]=g.value.w),this.isVector=!0):this.value=[g.value]);this.lng=this.value.length;this.tmp=[];g.isAngle&&(this.isAngle=!0,this.toRad=Math.PI/180);this.current=-1;this.prev={x:0,y:0,d:0,v:0};this.cMode=[];for(var a=this.lng;a--;)this.isAngle&&(this.value[a]=(180*this.value[a]/Math.PI).toFixed(this.precision)),this.c[2+a]=this.dom("div",this.css.txtselect+
"letter-spacing:-1px; height:"+(this.h-4)+"px; line-height:"+(this.h-8)+"px;"),g.center&&(this.c[2+a].style.textAlign="center"),this.c[2+a].textContent=this.value[a],this.c[2+a].style.color=this.fontColor,this.c[2+a].isNum=!0,this.cMode[a]=0;this.init()}function m(g){x.call(this,g);this.setTypeNumber(g);this.model=g.stype||0;void 0!==g.mode&&(this.model=g.mode);this.buttonColor=g.bColor||this.colors.button;this.defaultBorderColor=this.colors.hide;this.isOver=this.isDown=!1;this.allway=g.allway||!1;
this.firstImput=!1;this.c[2]=this.dom("div",this.css.txtselect+"text-align:right; width:47px; border:1px dashed "+this.defaultBorderColor+"; color:"+this.fontColor);this.c[3]=this.dom("div",this.css.basic+" top:0; height:"+this.h+"px;");this.c[4]=this.dom("div",this.css.basic+"background:"+this.colors.scrollback+"; top:2px; height:"+(this.h-4)+"px;");this.c[5]=this.dom("div",this.css.basic+"left:4px; top:5px; height:"+(this.h-10)+"px; background:"+this.fontColor+";");this.c[2].isNum=!0;this.c[2].style.height=
this.h-2+"px";this.c[2].style.lineHeight=this.h-10+"px";if(0!==this.model){if(1===this.model||3===this.model)var a=4,b=8,c=this.h-4,d=20;2===this.model&&(a=4,b=8,d=2,c=0.5*(this.h-4));3===this.model&&(this.c[5].style.visible="none");this.c[4].style.borderRadius=a+"px";this.c[4].style.height=b+"px";this.c[4].style.top=0.5*this.h-a+"px";this.c[5].style.borderRadius=0.5*a+"px";this.c[5].style.height=a+"px";this.c[5].style.top=0.5*this.h-0.5*a+"px";this.c[6]=this.dom("div",this.css.basic+"border-radius:"+
d+"px; margin-left:"+0.5*-c+"px; border:1px solid "+this.colors.border+"; background:"+this.buttonColor+"; left:4px; top:2px; height:"+(this.h-4)+"px; width:"+c+"px;")}this.init()}function F(g){x.call(this,g);this.cmode=0;this.value=g.value||"";this.allway=g.allway||!1;this.firstImput=!1;this.c[2]=this.dom("div",this.css.txtselect);this.c[2].textContent=this.value;this.init()}function K(g){x.call(this,g);g=g.prefix||"";this.c[2]=this.dom("div",this.css.txt+"text-align:right; width:60px; line-height:"+
(this.h-8)+"px; color:"+this.fontColor);31===this.h&&(this.s[0].height=this.h+"px",this.s[1].top="8px",this.c[2].style.top="8px");this.c[1].textContent=this.txt.substring(0,1).toUpperCase()+this.txt.substring(1).replace("-"," ");this.c[2].textContent=g;this.init()}function U(){var g=arguments,M,O,h=!1,t=null;"string"===typeof g[0]?(M=g[0],O=g[1]||{}):"object"===typeof g[0]&&(h=!0,void 0===g[2]&&[].push.call(g,{}),M=g[2].type?g[2].type:"slide",O=g[2],O.name=g[1],O.value=g[0][g[1]]);switch(M.toLowerCase()){case "bool":t=
new s(O);break;case "button":t=new q(O);break;case "circular":t=new u(O);break;case "color":t=new n(O);break;case "fps":t=new G(O);break;case "graph":t=new C(O);break;case "group":t=new l(O);break;case "joystick":t=new d(O);break;case "knob":t=new a(O);break;case "list":t=new b(O);break;case "numeric":case "number":t=new c(O);break;case "slide":t=new m(O);break;case "textInput":case "string":t=new F(O);break;case "title":t=new K(O)}if(null!==t)return h&&t.setReferency(g[0],g[1]),t}function $(g){this.canvas=
null;g=g||{};void 0!==g.transparent&&(w.colors.background="none",w.colors.backgroundOver="none");this.isReset=!0;this.tmpAdd=null;this.tmpH=0;this.isCanvas=g.isCanvas||!1;this.isCanvasOnly=!1;this.css=void 0!==g.css?g.css:"";this.callback=void 0===g.callback?null:g.callback;this.forceHeight=g.maxHeight||0;this.cn="";this.size=w.size;void 0!==g.p&&(this.size.p=g.p);void 0!==g.w&&(this.size.w=g.w);void 0!==g.h&&(this.size.h=g.h);void 0!==g.s&&(this.size.s=g.s);this.size.h=11>this.size.h?11:this.size.h;
this.local=(new r).neg();this.zone={x:0,y:0,w:this.size.w,h:0};this.mouse=(new r).neg();this.h=0;this.prevY=-1;this.sw=0;this.colors=w.colors;this.bg=g.bg||w.colors.background;this.bh=(this.isWithClose=void 0!==g.close?g.close:!0)?this.size.h:0;this.autoResize=void 0===g.autoResize?!0:g.autoResize;this.isCenter=g.center||!1;this.isOpen=!0;this.isScroll=this.isDown=!1;this.uis=[];this.current=-1;this.target=null;this.decal=0;this.ratio=1;this.oy=0;this.isNewTarget=!1;this.content=w.dom("div",w.css.basic+
" width:0px; height:auto; top:0px; "+this.css);this.innerContent=w.dom("div",w.css.basic+"width:100%; top:0; left:0; height:auto; overflow:hidden;");this.content.appendChild(this.innerContent);this.inner=w.dom("div",w.css.basic+"width:100%; left:0; ");this.innerContent.appendChild(this.inner);this.scrollBG=w.dom("div",w.css.basic+"right:0; top:0; width:"+(this.size.s-1)+"px; height:10px; display:none; background:"+this.bg+";");this.content.appendChild(this.scrollBG);this.scroll=w.dom("div",w.css.basic+
"background:"+this.colors.scroll+"; right:2px; top:0; width:"+(this.size.s-4)+"px; height:10px;");this.scrollBG.appendChild(this.scroll);this.bottom=w.dom("div",w.css.txt+"width:100%; top:auto; bottom:0; left:0; border-bottom-right-radius:10px;  border-bottom-left-radius:10px; text-align:center; height:"+this.bh+"px; line-height:"+(this.bh-5)+"px; border-top:1px solid "+w.colors.stroke+";");this.content.appendChild(this.bottom);this.bottom.textContent="close";this.bottom.style.background=this.bg;
this.parent=void 0!==g.parent?g.parent:null;null!==this.parent||this.isCanvas||(this.parent=document.body,this.isCenter||(this.content.style.right="10px"));null!==this.parent&&this.parent.appendChild(this.content);this.isCanvas&&null===this.parent&&(this.isCanvasOnly=!0);this.isCanvasOnly||(this.content.style.pointerEvents="auto");this.setWidth();this.isCanvas&&this.makeCanvas();B.add(this)}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(g){return 0>
g?-1:0<g?1:+g});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(g){if(void 0===g||null===g)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(g),b=1;b<arguments.length;b++){var c=arguments[b];if(void 0!==c&&null!==c)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}}();
var z={frag:document.createDocumentFragment(),colorRing:null,joystick_0:null,joystick_1:null,circular:null,knob:null,svgns:"http://www.w3.org/2000/svg",htmls:"http://www.w3.org/1999/xhtml",DOM_SIZE:"height width top left bottom right margin-left margin-right margin-top margin-bottom".split(" "),SVG_TYPE_D:"pattern defs transform stop animate radialGradient linearGradient animateMotion".split(" "),SVG_TYPE_G:"svg rect circle path polygon text g line foreignObject".split(" "),TwoPI:6.283185307179586,
size:{w:240,h:20,p:30,s:20},colors:{text:"#C0C0C0",textOver:"#FFFFFF",background:"rgba(44,44,44,0.3)",backgroundOver:"rgba(11,11,11,0.5)",input:"#005AAA",border:"#454545",borderOver:"#5050AA",borderSelect:"#308AFF",scrollback:"rgba(44,44,44,0.2)",scrollbackover:"rgba(44,44,44,0.5)",button:"#404040",boolbg:"#181818",select:"#308AFF",moving:"#03afff",down:"#024699",stroke:"rgba(11,11,11,0.5)",scroll:"#333333",hide:"rgba(0,0,0,0)"},css:{basic:"position:absolute; pointer-events:none; box-sizing:border-box; margin:0; padding:0; overflow:hidden; -o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select:none;"},
svgs:{group:"M 7 7 L 7 8 8 8 8 7 7 7 M 5 7 L 5 8 6 8 6 7 5 7 M 3 7 L 3 8 4 8 4 7 3 7 M 7 5 L 7 6 8 6 8 5 7 5 M 6 6 L 6 5 5 5 5 6 6 6 M 7 3 L 7 4 8 4 8 3 7 3 M 6 4 L 6 3 5 3 5 4 6 4 M 3 5 L 3 6 4 6 4 5 3 5 M 3 3 L 3 4 4 4 4 3 3 3 Z",arrow:"M 3 8 L 8 5 3 2 3 8 Z",arrowDown:"M 5 8 L 8 3 2 3 5 8 Z",arrowUp:"M 5 2 L 2 7 8 7 5 2 Z"},setText:function(g,a,b,c){a=a||"#CCC";z.colors.text=a;z.css.txt=z.css.basic+"font-family:"+(b||"Consolas,monaco,monospace;")+"; font-size:"+(g||13)+"px; color:"+a+"; padding:2px 10px; left:0; top:2px; height:16px; width:100px; overflow:hidden; white-space: nowrap;";
c&&(z.css.txt+=" text-shadow:"+c+"; ");z.css.txtselect=z.css.txt+"padding:2px 5px; border:1px dashed "+z.colors.border+";";z.css.item=z.css.txt+"position:relative; background:rgba(0,0,0,0.2); margin-bottom:1px;"},clone:function(g){return g.cloneNode(!0)},setSvg:function(g,a,b,c){-1===c?g.setAttributeNS(null,a,b):g.childNodes[c||0].setAttributeNS(null,a,b)},setCss:function(g,a){for(var b in a)-1!==z.DOM_SIZE.indexOf(b)?g.style[b]=a[b]+"px":g.style[b]=a[b]},set:function(g,a){for(var b in a)"txt"===
b&&(g.textContent=a[b]),g.setAttributeNS(null,b,a[b])},get:function(g,a){if(void 0===a)return g;if(!isNaN(a))return g.childNodes[a];if(a instanceof Array){if(2===a.length)return g.childNodes[a[0]].childNodes[a[1]];if(3===a.length)return g.childNodes[a[0]].childNodes[a[1]].childNodes[a[2]]}},dom:function(g,a,b,c,d){g=g||"div";-1!==z.SVG_TYPE_D.indexOf(g)||-1!==z.SVG_TYPE_G.indexOf(g)?"svg"===g?(c=document.createElementNS(z.svgns,"svg"),z.set(c,b)):(void 0===c&&(c=document.createElementNS(z.svgns,"svg")),
z.addAttributes(c,g,b,d)):c=void 0===c?document.createElementNS(z.htmls,g):c.appendChild(document.createElementNS(z.htmls,g));a&&(c.style.cssText=a);return void 0===d?c:c.childNodes[d||0]},addAttributes:function(g,a,b,c){var d=document.createElementNS(z.svgns,a);z.set(d,b);z.get(g,c).appendChild(d);-1!==z.SVG_TYPE_G.indexOf(a)&&(d.style.pointerEvents="none");return d},clear:function(g){for(z.purge(g);g.firstChild;)g.firstChild.firstChild&&z.clear(g.firstChild),g.removeChild(g.firstChild)},purge:function(g){var a=
g.attributes,b,c;if(a)for(b=a.length;b--;)c=a[b].name,"function"===typeof g[c]&&(g[c]=null);if(a=g.childNodes)for(b=a.length;b--;)z.purge(g.childNodes[b])},clamp:function(g,a,b){return g<a?a:g>b?b:g},ColorLuma:function(g,a){g=String(g).replace(/[^0-9a-f]/gi,"");6>g.length&&(g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2]);a=a||0;var b="#",c,d;for(d=0;3>d;d++)c=parseInt(g.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*a),255)).toString(16),b+=("00"+c).substr(c.length);return b},findDeepInver:function(g){return 0.6>=
0.3*g[0]+0.59*g[1]+0.11*g[2]},hexToHtml:function(g){return"#"+("000000"+(void 0===g?0:g).toString(16)).substr(-6)},htmlToHex:function(g){return g.toUpperCase().replace("#","0x")},u255:function(g,a){return parseInt(g.substring(a,a+2),16)/255},u16:function(g,a){return parseInt(g.substring(a,a+1),16)/15},unpack:function(g){if(7==g.length)return[z.u255(g,1),z.u255(g,3),z.u255(g,5)];if(4==g.length)return[z.u16(g,1),z.u16(g,2),z.u16(g,3)]},htmlRgb:function(g){return"rgb("+Math.round(255*g[0])+","+Math.round(255*
g[1])+","+Math.round(255*g[2])+")"},rgbToHex:function(g){return"#"+("000000"+(255*g[0]<<16^255*g[1]<<8^255*g[2]<<0).toString(16)).slice(-6)},hueToRgb:function(g,a,b){0>b&&(b+=1);1<b&&(b-=1);return b<1/6?g+6*(a-g)*b:0.5>b?a:b<2/3?g+6*(a-g)*(2/3-b):g},rgbToHsl:function(g){var a=g[0],b=g[1];g=g[2];var c=Math.min(a,b,g),d=Math.max(a,b,g),m=d-c,l=0,n=0,c=(c+d)/2;0<c&&1>c&&(n=m/(0.5>c?2*c:2-2*c));0<m&&(d==a&&d!=b&&(l+=(b-g)/m),d==b&&d!=g&&(l+=2+(g-a)/m),d==g&&d!=a&&(l+=4+(a-b)/m),l/=6);return[l,n,c]},hslToRgb:function(g){var a,
b=g[0];a=g[1];g=g[2];if(0===a)return[g,g,g];a=0.5>=g?g*(a+1):g+a-g*a;g=2*g-a;return[z.hueToRgb(g,a,b+0.33333),z.hueToRgb(g,a,b),z.hueToRgb(g,a,b-0.33333)]},makeGradiant:function(g,a,b,c){z.dom(g,null,a,b,0);g=b.childNodes[0].childNodes.length-1;for(var d=0;d<c.length;d++)a=c[d],z.dom("stop",null,{offset:a[0]+"%",style:"stop-color:"+a[1]+"; stop-opacity:"+a[2]+";"},b,[0,g])},makeKnob:function(g){g=z.dom("svg",z.css.basic,{viewBox:"0 0 128 128",width:128,height:128,preserveAspectRatio:"none"});z.dom("circle",
"",{cx:64,cy:64,r:34,fill:z.colors.button,stroke:"rgba(0,0,0,0.3)","stroke-width":8},g);z.dom("path","",{d:"",stroke:z.colors.text,"stroke-width":4,fill:"none","stroke-linecap":"round"},g);z.dom("circle","",{cx:64,cy:64,r:41,stroke:"rgba(0,0,0,0.1)","stroke-width":7,fill:"none"},g);z.dom("path","",{d:"",stroke:"rgba(255,255,255,0.3)","stroke-width":2,fill:"none","stroke-linecap":"round","stroke-opacity":0.5},g);z.knob=g},makeCircular:function(g){g=z.dom("svg",z.css.basic,{viewBox:"0 0 128 128",width:128,
height:128,preserveAspectRatio:"none"});z.dom("circle","",{cx:64,cy:64,r:40,stroke:"rgba(0,0,0,0.1)","stroke-width":10,fill:"none"},g);z.dom("path","",{d:"",stroke:z.colors.text,"stroke-width":7,fill:"none","stroke-linecap":"butt"},g);z.circular=g},makeJoystick:function(g){var a=Math.floor(49),b=Math.floor(0.6*a),c=z.dom("svg",z.css.basic,{viewBox:"0 0 128 128",width:128,height:128,preserveAspectRatio:"none"});z.dom("defs",null,{},c);z.dom("g",null,{},c);if(0===g){var d=[[40,"rgb(0,0,0)",0.3],[80,
"rgb(0,0,0)",0],[90,"rgb(50,50,50)",0.4],[100,"rgb(50,50,50)",0]];z.makeGradiant("radialGradient",{id:"grad",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);d=[[60,"rgb(0,0,0)",0.5],[100,"rgb(0,0,0)",0]];z.makeGradiant("radialGradient",{id:"gradS",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);d=["rgb(40,40,40)","rgb(48,48,48)","rgb(30,30,30)"];g=["rgb(1,90,197)","rgb(3,95,207)","rgb(0,65,167)"];d=[[30,d[0],1],[60,d[1],1],[80,d[1],1],[100,d[2],1]];z.makeGradiant("radialGradient",{id:"gradIn",
cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);d=[[30,g[0],1],[60,g[1],1],[80,g[1],1],[100,g[2],1]];z.makeGradiant("radialGradient",{id:"gradIn2",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);z.dom("circle","",{cx:64,cy:64,r:a,fill:"url(#grad)"},c);z.dom("circle","",{cx:69,cy:74,r:b+10,fill:"url(#gradS)"},c);z.dom("circle","",{cx:64,cy:64,r:b,fill:"url(#gradIn)"},c);z.joystick_0=c}else d=[[69,"rgb(0,0,0)",0],[70,"rgb(0,0,0)",0.3],[100,"rgb(0,0,0)",0]],z.makeGradiant("radialGradient",{id:"gradX",
cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d),z.dom("circle","",{cx:64,cy:64,r:a,fill:"none",stroke:"rgba(100,100,100,0.25)","stroke-width":"4"},c),z.dom("circle","",{cx:64,cy:64,r:b+14,fill:"url(#gradX)"},c),z.dom("circle","",{cx:64,cy:64,r:b,fill:"none",stroke:"rgb(100,100,100)","stroke-width":"4"},c),z.joystick_1=c},makeColorRing:function(){var g=z.dom("svg",z.css.basic,{viewBox:"0 0 256 256",width:256,height:256,preserveAspectRatio:"none"});z.dom("defs",null,{},g);z.dom("g",null,{},g);var a=
8/108/24*Math.PI,b=0,c,d,m,l,n,h=[];for(n=0;24>=n;++n){m=n/24;l=m*z.TwoPI;c=0.5*(b+l);d=1/Math.cos(0.5*(l-b));b=[Math.sin(b),-Math.cos(b),Math.sin(c)*d,-Math.cos(c)*d,Math.sin(l),-Math.cos(l)];h[1]=z.rgbToHex(z.hslToRgb([m,1,0.5]));if(0<n){for(m=6;m--;)b[m]=(108*b[m]+128).toFixed(2);m=" M"+b[0]+" "+b[1]+" Q"+b[2]+" "+b[3]+" "+b[4]+" "+b[5];c=[[0,h[0],1],[100,h[1],1]];z.makeGradiant("linearGradient",{id:"G"+n,x1:b[0],y1:b[1],x2:b[4],y2:b[5],gradientUnits:"userSpaceOnUse"},g,c);z.dom("path","",{d:m,
"stroke-width":40,stroke:"url(#G"+n+")","stroke-linecap":"butt"},g,1)}b=l-a;h[0]=h[1]}c=[[0,"#FFFFFF",1],[50,"#FFFFFF",0],[50,"#000000",0],[100,"#000000",1]];z.makeGradiant("linearGradient",{id:"GL1",x1:68,y1:68,x2:68,y2:188,gradientUnits:"userSpaceOnUse"},g,c);c=[[0,"#7f7f7f",0],[50,"#7f7f7f",0.5],[100,"#7f7f7f",1]];z.makeGradiant("linearGradient",{id:"GL2",x1:68,y1:68,x2:188,y2:68,gradientUnits:"userSpaceOnUse"},g,c);z.dom("circle","",{cx:128,cy:128,r:90,fill:"red"},g);z.dom("circle","",{cx:128,
cy:128,r:90,fill:"url(#GL2)"},g);z.dom("circle","",{cx:128,cy:128,r:90,fill:"url(#GL1)"},g);z.dom("circle","",{cx:0,cy:0,r:6,"stroke-width":3,stroke:"#FFF",fill:"none"},g);z.dom("circle","",{cx:0,cy:0,r:6,"stroke-width":3,stroke:"#000",fill:"none"},g);z.colorRing=g},icon:function(g,a,b){b=b||40;a=a||"#DEDEDE";b=["<svg xmlns='"+z.svgns+"' version='1.1' xmlns:xlink='"+z.htmls+"' style='pointer-events:none;' preserveAspectRatio='xMinYMax meet' x='0px' y='0px' width='"+b+"px' height='"+b+"px' viewBox='0 0 256 256'><g>"];
switch(g){case "logo":b[1]="<path id='logoin' stroke='"+a+"' stroke-width='16' stroke-linejoin='round' stroke-linecap='square' fill='none' d='M 192 44 L 192 148 Q 192 174.5 173.3 193.25 154.55 212 128 212 101.5 212 82.75 193.25 64 174.5 64 148 L 64 44 M 160 44 L 160 148 Q 160 161.25 150.65 170.65 141.25 180 128 180 114.75 180 105.35 170.65 96 161.25 96 148 L 96 44'/>";break;case "save":b[1]="<path stroke='"+a+"' stroke-width='4' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 26.125 17 L 20 22.95 14.05 17 M 20 9.95 L 20 22.95'/><path stroke='"+
a+"' stroke-width='2.5' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 32.6 23 L 32.6 25.5 Q 32.6 28.5 29.6 28.5 L 10.6 28.5 Q 7.6 28.5 7.6 25.5 L 7.6 23'/>"}b[2]="</g></svg>";return b.join("\n")}};z.setText();var w=z,t={ui:[],ID:null,lock:!1,wlock:!1,current:-1,needReZone:!0,isEventsInit:!1,prevDefault:["contextmenu","mousedown","mousemove","mouseup"],xmlserializer:new XMLSerializer,tmpTime:null,tmpImage:null,oldCursor:"auto",input:null,parent:null,firstImput:!0,callbackImput:null,
isLoop:!1,listens:[],e:{type:null,clientX:0,clientY:0,keyCode:NaN,key:null,delta:0},isMobile:!1,add:function(g){t.ui.push(g);t.getZone(g);t.isEventsInit||t.initEvents()},testMobile:function(){var g=navigator.userAgent;return g.match(/Android/i)||g.match(/webOS/i)||g.match(/iPhone/i)||g.match(/iPad/i)||g.match(/iPod/i)||g.match(/BlackBerry/i)||g.match(/Windows Phone/i)?!0:!1},remove:function(g){var a=t.ui.indexOf(g);-1!==a&&(t.removeListen(g),t.ui.splice(a,1));0===t.ui.length&&t.removeEvents()},initEvents:function(){if(!t.isEventsInit){var g=
document.body;t.isMobile=t.testMobile();t.isMobile?(g.addEventListener("touchstart",t,!1),g.addEventListener("touchend",t,!1),g.addEventListener("touchmove",t,!1)):(g.addEventListener("mousedown",t,!1),g.addEventListener("contextmenu",t,!1),g.addEventListener("wheel",t,!1),document.addEventListener("mousemove",t,!1),document.addEventListener("mouseup",t,!1));window.addEventListener("keydown",t,!1);window.addEventListener("resize",t.resize,!1);t.isEventsInit=!0}},removeEvents:function(){if(t.isEventsInit){var g=
document.body;t.isMobile?(g.removeEventListener("touchstart",t,!1),g.removeEventListener("touchend",t,!1),g.removeEventListener("touchmove",t,!1)):(g.removeEventListener("mousedown",t,!1),g.removeEventListener("contextmenu",t,!1),g.removeEventListener("wheel",t,!1),document.removeEventListener("mousemove",t,!1),document.removeEventListener("mouseup",t,!1));window.removeEventListener("keydown",t);window.removeEventListener("resize",t.resize);t.isEventsInit=!1}},resize:function(){t.needReZone=!0;for(var g=
t.ui.length,a;g--;)a=t.ui[g],a.isGui&&!a.isCanvasOnly&&a.autoResize&&a.setHeight()},handleEvent:function(g){-1!==g.type.indexOf(t.prevDefault)&&g.preventDefault();if("contextmenu"!==g.type){t.findZone();var a=t.e;"keydown"===g.type&&t.editText(g);a.delta="wheel"===g.type?0<g.deltaY?1:-1:0;a.clientX=g.clientX||0;a.clientY=g.clientY||0;a.type=g.type;t.isMobile&&(g.touches&&0<g.touches.length&&(a.clientX=g.touches[0].clientX||0,a.clientY=g.touches[0].clientY||0),"touchstart"===g.type&&(a.type="mousedown"),
"touchend"===g.type&&(a.type="mouseup"),"touchmove"===g.type&&(a.type="mousemove"));"mousedown"===a.type&&(t.lock=!0);"mouseup"===a.type&&(t.lock=!1);t.isMobile&&"mousedown"===a.type&&t.findID(a);"mousemove"!==a.type||t.lock||t.findID(a);null!==t.ID&&(t.ID.isCanvasOnly&&(a.clientX=t.ID.mouse.x,a.clientY=t.ID.mouse.y),t.ID.handleEvent(a));t.isMobile&&"mouseup"===a.type&&t.clearOldID()}},findID:function(g){for(var a=t.ui.length,b=-1,c,d,m;a--;)if(c=t.ui[a],c.isCanvasOnly?(d=c.mouse.x,m=c.mouse.y):(d=
g.clientX,m=g.clientY),t.onZone(c,d,m)){b=a;b!==t.current&&(t.clearOldID(),t.current=b,t.ID=c);break}-1===b&&t.clearOldID()},clearOldID:function(){t.ID&&(t.current=-1,t.ID.reset(),t.ID=null,t.cursor())},calcUis:function(g,a,b){var c=g.length,d,m,l=0,n=0;for(m=0;m<c;m++)d=g[m],d.zone.w=d.w,d.zone.h=d.h,d.autoWidth?(d.zone.x=a.x,d.zone.y=b,b+=d.h+1):(0===l&&(b+=d.h+1),d.zone.x=a.x+l,d.zone.y=0===l?b-d.h:n,n=d.zone.y,l+=d.w,l+d.w>a.w&&(l=0)),d.isGroup&&d.calcUis()},findTarget:function(g,a){for(var b=
g.length;b--;)if(t.onZone(g[b],a.clientX,a.clientY))return b;return-1},findZone:function(g){if(t.needReZone||g){g=t.ui.length;for(var a;g--;)a=t.ui[g],t.getZone(a),a.isGui&&a.calcUis();t.needReZone=!1}},onZone:function(g,a,b){if(void 0===a||void 0===b)return!1;var c=g.zone;a-=c.x;b-=c.y;(c=0<=a&&0<=b&&a<=c.w&&b<=c.h)?g.local.set(a,b):g.local.neg();return c},getZone:function(g){if(!g.isCanvasOnly){var a=g.getDom().getBoundingClientRect();g.zone={x:a.left,y:a.top,w:a.width,h:a.height}}},cursor:function(g){g=
g?g:"auto";g!==t.oldCursor&&(document.body.style.cursor=g,t.oldCursor=g)},toCanvas:function(g,a,b,c){c&&null!==t.tmpTime&&(clearTimeout(t.tmpTime),t.tmpTime=null);if(null===t.tmpTime){t.lock&&(t.tmpTime=setTimeout(function(){t.tmpTime=null},10));var d=!1;if(a!==g.canvas.width||b!==g.canvas.height)d=!0;null===t.tmpImage&&(t.tmpImage=new Image);c=t.tmpImage;var m=t.xmlserializer.serializeToString(g.content);c.onload=function(){var c=g.canvas.getContext("2d");d?(g.canvas.width=a,g.canvas.height=b):c.clearRect(0,
0,a,b);c.drawImage(this,0,0);g.onDraw()};c.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="'+a+'" height="'+b+'"><foreignObject style="pointer-events: none; left:0;" width="100%" height="100%">'+m+"</foreignObject></svg>");c.crossOrigin=""}},clearInput:function(){null!==t.input&&(t.firstImput||t.callbackImput(),t.input.style.borderColor=t.parent.defaultBorderColor,t.parent.isEdit=!1,t.callbackImput=null,t.input=null,t.parent=null,t.firstImput=
!0)},setInput:function(g,a,b,c){t.clearInput();t.callbackImput=a;t.input=g;t.parent=c;t.input.style.borderColor=b},select:function(){document.execCommand("selectall",null,!1)},editText:function(g){if(null!==t.input)if(t.parent.isEdit=!0,g.preventDefault(),13===g.keyCode)t.callbackImput(),t.clearInput();else if(8===g.keyCode)t.input.textContent="";else if(t.input.isNum){if(95<g.keyCode&&106>g.keyCode||110===g.keyCode||109===g.keyCode)t.firstImput?(t.input.textContent=g.key,t.firstImput=!1):t.input.textContent+=
g.key}else t.firstImput?(t.input.textContent=g.key,t.firstImput=!1):t.input.textContent+=g.key},loop:function(){t.isLoop&&requestAnimationFrame(t.loop);t.update()},update:function(){for(var g=t.listens.length;g--;)t.listens[g].listening()},removeListen:function(g){g=t.listens.indexOf(g);-1!==g&&t.listens.splice(g,1);0===t.listens.length&&(t.isLoop=!1)},addListen:function(g){-1===t.listens.indexOf(g)&&(t.listens.push(g),t.isLoop||(t.isLoop=!0,t.loop()))}},B=t;Object.assign(r.prototype,{set:function(g,
a){this.x=g;this.y=a;return this},divide:function(g){this.x/=g.x;this.y/=g.y;return this},multiply:function(g){this.x*=g.x;this.y*=g.y;return this},multiplyScalar:function(g){this.x*=g;this.y*=g;return this},divideScalar:function(g){return this.multiplyScalar(1/g)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},angle:function(){var g=Math.atan2(this.y,this.x);0>g&&(g+=2*Math.PI);return g},addScalar:function(g){this.x+=g;this.y+=g;return this},negate:function(){this.x*=-1;this.y*=
-1;return this},neg:function(){this.y=this.x=-1;return this},isZero:function(){return 0===this.x&&0===this.y},copy:function(g){this.x=g.x;this.y=g.y;return this},equals:function(g){return g.x===this.x&&g.y===this.y},nearEquals:function(g,a){return g.x.toFixed(a)===this.x.toFixed(a)&&g.y.toFixed(a)===this.y.toFixed(a)},lerp:function(g,a){null===g?(this.x-=this.x*a,this.y-=this.y*a):(this.x+=(g.x-this.x)*a,this.y+=(g.y-this.y)*a);return this}});Object.assign(x.prototype,{constructor:x,init:function(){var g=
this.s,a=this.c;g[0].height=this.h+"px";this.zone.h=this.h;this.isUI&&(g[0].background=this.bg);void 0!==a[1]&&this.autoWidth&&(g[1]=a[1].style,g[1].height=this.h-4+"px",g[1].lineHeight=this.h-8+"px");for(var b=w.frag,c=1,d=a.length;c!==d;c++)void 0!==a[c]&&(b.appendChild(a[c]),g[c]=a[c].style);null!==this.target?this.target.appendChild(a[0]):this.isUI?this.main.inner.appendChild(a[0]):document.body.appendChild(a[0]);a[0].appendChild(b);this.rSize();this.isUI||(this.c[0].style.pointerEvents="auto",
B.add(this))},dom:function(a,b,c,d,m){return w.dom(a,b,c,d,m)},setSvg:function(a,b,c,d){w.setSvg(a,b,c,d)},setCss:function(a,b){w.setCss(a,b)},clamp:function(a,b,c){return w.clamp(a,b,c)},getColorRing:function(){w.colorRing||w.makeColorRing();return w.clone(w.colorRing)},getJoystick:function(a){w["joystick_"+a]||w.makeJoystick(a);return w.clone(w["joystick_"+a])},getCircular:function(a){w.circular||w.makeCircular(a);return w.clone(w.circular)},getKnob:function(a){w.knob||w.makeKnob(a);return w.clone(w.knob)},
cursor:function(a){B.cursor(a)},setInput:function(a,b){B.setInput(a,b,w.colors.input,this)},update:function(){},reset:function(){},getDom:function(){return this.c[0]},uiout:function(){this.s[0].background=this.bg},uiover:function(){this.s[0].background=this.bgOver},rename:function(a){void 0!==this.c[1]&&(this.c[1].textContent=a)},listen:function(){B.addListen(this);return this},listening:function(){null!==this.objectLink&&(this.isSend||this.isEdit||this.setValue(this.objectLink[this.val]))},setValue:function(a){this.value=
this.isNumber?this.numValue(a):a;this.update()},onChange:function(a){this.callback=a;return this},onFinishChange:function(a){this.callback=null;this.endCallback=a;return this},send:function(a){this.isSend=!0;null!==this.objectLink&&(this.objectLink[this.val]=a||this.value);this.callback&&this.callback(a||this.value);this.isSend=!1},sendEnd:function(a){this.endCallback&&this.endCallback(a||this.value);null!==this.objectLink&&(this.objectLink[this.val]=a||this.value)},clear:function(){w.clear(this.c[0]);
null!==this.target?this.target.removeChild(this.c[0]):this.isUI?this.main.clearOne(this):document.body.removeChild(this.c[0]);this.isUI||B.remove(this);this.target=this.callback=this.s=this.c=null},setSize:function(a){this.autoWidth&&(this.w=a,this.simple?this.sb=this.w-this.sa:(a=this.p/100*this.w,this.sa=Math.floor(a+10),this.sb=Math.floor(this.w-a-20)))},rSize:function(){this.autoWidth&&(this.s[0].width=this.w+"px",this.simple||(this.s[1].width=this.sa+"px"))},setTypeNumber:function(a){this.isNumber=
!0;this.value=0;void 0!==a.value&&(this.value="string"===typeof a.value?1*a.value:a.value);this.min=void 0===a.min?-Infinity:a.min;this.max=void 0===a.max?Infinity:a.max;this.precision=void 0===a.precision?2:a.precision;var b;switch(this.precision){case 0:b=1;break;case 1:b=0.1;break;case 2:b=0.01;break;case 3:b=0.001;break;case 4:b=1E-4}this.step=void 0===a.step?b:a.step;this.range=this.max-this.min;this.value=this.numValue(this.value)},numValue:function(a){return 1*Math.min(this.max,Math.max(this.min,
a)).toFixed(this.precision)},handleEvent:function(a){return this[a.type](a)},wheel:function(a){return!1},mousedown:function(a){return!1},mousemove:function(a){return!1},mouseup:function(a){return!1},keydown:function(a){return!1},setReferency:function(a,b){this.objectLink=a;this.val=b},display:function(a){this.s[0].display=a?"block":"none"},open:function(){this.isOpen||(this.isOpen=!0)},close:function(){this.isOpen&&(this.isOpen=!1)},needZone:function(){B.needReZone=!0}});s.prototype=Object.assign(Object.create(x.prototype),
{constructor:s,mousemove:function(a){this.cursor("pointer")},mousedown:function(a){this.value=this.value?!1:!0;this.update();this.send();return!0},update:function(){var a=this.s;this.value?(a[2].background=this.fontColor,a[2].borderColor=this.fontColor,a[3].marginLeft="17px"):(a[2].background=this.colors.boolbg,a[2].borderColor=this.colors.boolbg,a[3].marginLeft="2px")},rSize:function(){x.prototype.rSize.call(this);var a=this.s;a[2].left=this.sa+"px";a[3].left=this.sa+1+"px"}});q.prototype=Object.assign(Object.create(x.prototype),
{constructor:q,testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";for(var b=this.lng,c=this.tmp;b--;)if(a.x>c[b][0]&&a.x<c[b][2])return b+2;return""},mouseup:function(a){return this.isDown?(this.isDown=this.value=!1,this.mousemove(a)):!1},mousedown:function(a){var b=this.testZone(a);if(!b)return!1;this.isDown=!0;this.value=this.values[b-2];this.isLoadButton||this.send();return this.mousemove(a)},mousemove:function(a){var b=!1;a=this.testZone(a);""!==a?(this.cursor("pointer"),b=this.modes(this.isDown?
3:2,a)):b=this.reset();return b},modes:function(a,b){for(var c,d=!1,m=0;m<this.lng;m++)(c=m===b-2?this.mode(a,m+2):this.mode(1,m+2))&&(d=!0);return d},mode:function(a,b){var c=!1,d=b-2;if(this.stat[d]!==a){switch(a){case 1:this.stat[d]=1;this.s[d+2].color=this.fontColor;this.s[d+2].background=this.buttonColor;break;case 2:this.stat[d]=2;this.s[d+2].color="#FFF";this.s[d+2].background=this.colors.select;break;case 3:this.stat[d]=3,this.s[d+2].color="#FFF",this.s[d+2].background=this.colors.down}c=
!0}return c},reset:function(){this.cursor();return this.modes(1,2)},dragover:function(a){a.preventDefault();this.s[4].borderColor=this.colors.select;this.s[4].color=this.colors.select},dragend:function(a){a.preventDefault();this.s[4].borderColor=this.fontColor;this.s[4].color=this.fontColor},drop:function(a){a.preventDefault();this.dragend(a);this.fileSelect(a.dataTransfer.files[0])},initDrager:function(){this.c[4]=this.dom("div",this.css.txt+" text-align:center; line-height:"+(this.h-8)+"px; border:1px dashed "+
this.fontColor+"; top:2px;  height:"+(this.h-4)+"px; border-radius:"+this.radius+"px; pointer-events:auto;");this.c[4].textContent="DRAG";this.c[4].addEventListener("dragover",function(a){this.dragover(a)}.bind(this),!1);this.c[4].addEventListener("dragend",function(a){this.dragend(a)}.bind(this),!1);this.c[4].addEventListener("dragleave",function(a){this.dragend(a)}.bind(this),!1);this.c[4].addEventListener("drop",function(a){this.drop(a)}.bind(this),!1)},initLoader:function(){this.c[3]=this.dom("input",
this.css.basic+"top:0px; opacity:0; height:"+this.h+"px; pointer-events:auto; cursor:pointer;");this.c[3].name="loader";this.c[3].type="file";this.c[3].addEventListener("change",function(a){this.fileSelect(a.target.files[0])}.bind(this),!1)},fileSelect:function(a){var b=["png","jpg","mp4","webm","ogg"],c=["sea","z","hex","bvh","BVH"];if(void 0!==a){var d=new FileReader,m=a.name,l=m.substring(m.lastIndexOf(".")+1,m.length);-1!==b.indexOf(l)?d.readAsDataURL(a):-1!==c.indexOf(l)?d.readAsArrayBuffer(a):
d.readAsText(a);d.onload=function(a){this.callback&&this.callback(a.target.result,m,l)}.bind(this)}},label:function(a,b){this.c[b||2].textContent=a},icon:function(a,b,c){c=c||2;this.s[c].padding=(b||0)+"px 0px";this.c[c].innerHTML=a},rSize:function(){x.prototype.rSize.call(this);for(var a=this.s,b=this.sa,c=this.lng,d=Math.floor((this.sb-3*(c-1))/c);c--;)this.tmp[c]=[Math.floor(b+d*c+3*c),d],this.tmp[c][2]=this.tmp[c][0]+this.tmp[c][1],a[c+2].left=this.tmp[c][0]+"px",a[c+2].width=this.tmp[c][1]+"px";
this.isDragButton&&(a[4].left=b+d+3+"px",a[4].width=d+"px");this.isLoadButton&&(a[3].left=b+"px",a[3].width=d+"px")}});u.prototype=Object.assign(Object.create(x.prototype),{constructor:u,mode:function(a){if(this.cmode===a)return!1;switch(a){case 0:this.s[2].color=this.fontColor;this.setSvg(this.c[3],"stroke","rgba(0,0,0,0.1)",0);this.setSvg(this.c[3],"stroke",this.fontColor,1);break;case 1:this.s[2].color=this.colorPlus,this.setSvg(this.c[3],"stroke","rgba(0,0,0,0.3)",0),this.setSvg(this.c[3],"stroke",
this.colorPlus,1)}this.cmode=a;return!0},reset:function(){this.isDown=!1},mouseup:function(a){this.isDown=!1;this.sendEnd();return this.mode(0)},mousedown:function(a){this.isDown=!0;this.old=this.value;this.oldr=null;this.mousemove(a);return this.mode(1)},mousemove:function(a){if(this.isDown){var b=this.offset;b.x=this.radius-(a.clientX-this.zone.x);b.y=this.radius-(a.clientY-this.zone.y-this.top);this.r=b.angle()-this.pi90;this.r=(this.r%this.twoPi+this.twoPi)%this.twoPi;null!==this.oldr&&(a=this.r-
this.oldr,this.r=Math.abs(a)>Math.PI?this.oldr:this.r,6<a&&(this.r=0),-6>a&&(this.r=this.twoPi));a=1/this.twoPi*this.range*this.r+this.min-this.old;if(a>=this.step||a<=this.step)a=~~(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value,this.oldr=this.r}},makePath:function(){var a=this.percent*this.twoPi-0.001,b=40*Math.sin(a)+64,c=40-40*Math.cos(a)+24;return"M 64,24 A 40,40 0 "+(a>Math.PI?1:0)+" 1 "+b+","+c},update:function(a){this.c[2].textContent=this.value;
this.percent=(this.value-this.min)/this.range;this.setSvg(this.c[3],"d",this.makePath(),1);a&&this.send()}});n.prototype=Object.assign(Object.create(x.prototype),{constructor:n,testZone:function(a,b){var c=this.local;if(-1===c.x&&-1===c.y)return"";if(this.up&&this.isOpen)return c.y>this.wfixe?"title":"color";if(c.y<this.baseH+2)return"title";if(this.isOpen)return"color"},mouseup:function(a){this.isDown=!1},mousedown:function(a){var b=this.testZone(a.clientX,a.clientY);if("title"===b)return this.isOpen?
this.close():this.open(),!0;"color"===b&&(this.isDown=!0,this.mousemove(a))},mousemove:function(a){var b=this.testZone(a.clientX,a.clientY);"title"===b&&this.cursor("pointer");"color"===b&&(this.cursor("crosshair"),this.isDown&&(b=this.offset,b.x=a.clientX-(this.zone.x+this.decal.x+this.mid),b.y=a.clientY-(this.zone.y+this.decal.y+this.mid),a=b.length()*this.ratio,128>a&&(88<a?(b=(b.angle()+this.pi90)/6.28,this.setHSL([(b+1)%1,this.hsl[1],this.hsl[2]])):(a=Math.max(0,Math.min(1,0.5-b.x*this.square*
0.5)),b=Math.max(0,Math.min(1,0.5-b.y*this.square*0.5)),this.setHSL([this.hsl[0],a,b])))))},setHeight:function(){this.h=this.isOpen?this.wfixe+this.baseH+5:this.baseH;this.s[0].height=this.h+"px";this.zone.h=this.h},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&this.main.calc(a)},open:function(){x.prototype.open.call(this);this.setHeight();this.up&&(this.zone.y-=this.wfixe+5);var a=this.h-this.baseH;this.s[3].visibility="visible";this.parentHeight(a)},close:function(){x.prototype.close.call(this);
this.up&&(this.zone.y+=this.wfixe+5);var a=this.h-this.baseH;this.setHeight();this.s[3].visibility="hidden";this.parentHeight(-a)},update:function(a){var b=w.rgbToHex(w.hslToRgb([this.hsl[0],1,0.5]));this.moveMarkers();this.value=this.bcolor;this.setSvg(this.c[3],"fill",b,2);this.s[2].background=this.bcolor;this.c[2].textContent=w.htmlToHex(this.bcolor);this.invert=w.findDeepInver(this.rgb);this.s[2].color=this.invert?"#fff":"#000";a&&("array"===this.ctype&&this.send(this.rgb),"rgb"===this.ctype&&
this.send(w.htmlRgb(this.rgb)),"hex"===this.ctype&&this.send(w.htmlToHex(this.value)),"html"===this.ctype&&this.send())},setColor:function(a){var b=w.unpack(a);this.bcolor!=a&&b&&(this.bcolor=a,this.rgb=b,this.hsl=w.rgbToHsl(this.rgb),this.update());return this},setHSL:function(a){this.hsl=a;this.rgb=w.hslToRgb(a);this.bcolor=w.rgbToHex(this.rgb);this.update(!0);return this},moveMarkers:function(){var a=this.invert?"#fff":"#000",b=6.28*this.hsl[0],b=(new r(108*Math.sin(b),108*-Math.cos(b))).addScalar(128);
this.setSvg(this.c[3],"cx",b.x,5);this.setSvg(this.c[3],"cy",b.y,5);b.set(120*(0.5-this.hsl[1]),120*(0.5-this.hsl[2])).addScalar(128);this.setSvg(this.c[3],"cx",b.x,6);this.setSvg(this.c[3],"cy",b.y,6);this.setSvg(this.c[3],"stroke",a,6)},rSize:function(){x.prototype.rSize.call(this);var a=this.s;a[2].width=this.sb+"px";a[2].left=this.sa+"px";this.decal.x=Math.floor(0.5*(this.w-this.wfixe));this.decal.y="up"===this.side?2:this.baseH+2;this.mid=Math.floor(0.5*this.wfixe);this.setSvg(this.c[3],"viewBox",
"0 0 "+this.wfixe+" "+this.wfixe);a[3].width=this.wfixe+"px";a[3].height=this.wfixe+"px";a[3].left=this.decal.x+"px";a[3].top=this.decal.y+"px";this.ratio=256/this.wfixe;this.square=1/(this.wfixe/256*60);this.setHeight()}});G.prototype=Object.assign(Object.create(x.prototype),{constructor:G,mousedown:function(a){this.isShow?this.hide():this.show()},mode:function(a){var b=this.s;switch(a){case 0:b[1].color=this.fontColor;break;case 1:b[1].color="#FFF";break;case 2:b[1].color=this.fontColor}},makePath:function(a){var b;
b="M -1 50";for(var c=0;c<this.res+1;c++)b+=" L "+c+" "+a[c];return b+=" L "+(this.res+1)+" 50"},drawGraph:function(){var a=this.c[2];this.pa1.shift();this.pa1.push(8.5+this.round(30*(1-this.fps/100)));this.setSvg(a,"d",this.makePath(this.pa1),0);this.pa2.shift();this.pa2.push(8.5+this.round(30*(1-this.ms/200)));this.setSvg(a,"d",this.makePath(this.pa2),1);this.isMem&&(this.pa3.shift(),this.pa3.push(8.5+this.round(30*(1-this.mm))),this.setSvg(a,"d",this.makePath(this.pa3),2))},show:function(){this.h=
this.hplus+this.baseH;this.setSvg(this.c[4],"d","M 5 8 L 8 3 2 3 5 8 Z");null!==this.parentGroup?this.parentGroup.calc(this.hplus):this.isUI&&this.main.calc(this.hplus);this.s[0].height=this.h+"px";this.s[2].display="block";this.isShow=!0;B.addListen(this)},hide:function(){this.h=this.baseH;this.setSvg(this.c[4],"d","M 3 8 L 8 5 3 2 3 8 Z");null!==this.parentGroup?this.parentGroup.calc(-this.hplus):this.isUI&&this.main.calc(-this.hplus);this.s[0].height=this.h+"px";this.s[2].display="none";this.isShow=
!1;B.removeListen(this);this.c[1].textContent="FPS"},begin:function(){this.startTime=this.now()},end:function(){var a=this.now();this.ms=a-this.startTime;this.frames++;if(a>this.prevTime+1E3&&(this.fps=this.round(1E3*this.frames/(a-this.prevTime)),this.prevTime=a,this.frames=0,this.isMem)){var b=performance.memory.usedJSHeapSize,c=performance.memory.jsHeapSizeLimit;this.mem=this.round(9.54E-7*b);this.mm=b/c}this.drawGraph();this.c[1].innerHTML="FPS "+this.fps+'<font color="yellow"> MS '+(this.ms|
0)+'</font><font color="cyan"> MB '+this.mem+"</font>";return a},listening:function(){this.startTime=this.end()},rSize:function(){this.s[0].width=this.w+"px";this.s[1].width=this.w+"px";this.s[2].left="10px";this.s[2].width=this.w-20+"px"}});C.prototype=Object.assign(Object.create(x.prototype),{constructor:C,updateSVG:function(){this.setSvg(this.c[3],"d",this.makePath(),0);for(var a=0;a<this.lng;a++)this.setSvg(this.c[3],"height",this.v[a]*this.gh,a+2),this.setSvg(this.c[3],"y",14+(this.gh-this.v[a]*
this.gh),a+2),this.value[a]=this.neg?1*((2*this.v[a]-1)*this.multiplicator).toFixed(this.precision):1*(this.v[a]*this.multiplicator).toFixed(this.precision);this.c[2].textContent=this.value},testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";var b=this.lng,c=this.tmp;if(a.y>this.top&&a.y<this.h-20)for(;b--;)if(a.x>c[b][0]&&a.x<c[b][2])return b;return""},mode:function(a,b){if(a===this.cMode[b])return!1;var c;switch(a){case 0:c=0.3;break;case 1:c=0.6;break;case 2:c=1}this.reset();this.setSvg(this.c[3],
"fill-opacity",c,b+2);this.cMode[b]=a;return!0},reset:function(){for(var a=!1,b=this.lng;b--;)0!==this.cMode[b]&&(this.cMode[b]=0,this.setSvg(this.c[3],"fill-opacity",0.3,b+2),a=!0);return a},mouseup:function(a){this.isDown=!1;if(-1!==this.current)return this.reset()},mousedown:function(a){this.isDown=!0;return this.mousemove(a)},mousemove:function(a){var b=!1,c=this.testZone(a);""===c?b=this.reset():(b=this.mode(this.isDown?2:1,c),this.isDown&&(this.v[c]=this.clamp(1-(a.clientY-this.zone.y-this.top-
10)/this.gh,0,1),this.update(!0)));return b},update:function(a){this.updateSVG();a&&this.send()},makePath:function(){for(var a="",b,c,d,m,l,n,h=0;h<this.lng;h++)b=14+(this.gh-this.v[h]*this.gh),c=14+h*this.iw+4*h,m=c+0.5*this.iw,d=c+this.iw,a=0===h?a+("M "+c+" "+b+" T "+m+" "+b):a+(" C "+l+" "+n+","+c+" "+b+","+m+" "+b),h===this.lng-1&&(a+=" T "+d+" "+b),l=d,n=b;return a},rSize:function(){x.prototype.rSize.call(this);var a=this.s;void 0!==this.c[1]&&(a[1].width=this.w+"px");a[2].width=this.w+"px";
a[3].width=this.w+"px";for(var a=(this.w-28-4*(this.lng-1))/this.lng,b=[],c=0;c<this.lng;c++)b[c]=[14+c*a+4*c,a],b[c][2]=b[c][0]+b[c][1];this.tmp=b}});l.prototype=Object.assign(Object.create(x.prototype),{constructor:l,isGroup:!0,testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";var b="";a.y<this.baseH?b="title":this.isOpen&&(b="content");return b},clearTarget:function(){if(-1===this.current)return!1;this.target.uiout();this.target.reset();this.current=-1;this.target=null;B.cursor();
return!0},reset:function(){this.clearTarget()},handleEvent:function(a){var b=a.type,c=!1,d=!1,m=this.testZone(a);if(m){switch(m){case "content":B.isMobile&&"mousedown"===b&&this.getNext(a,c);this.target&&(d=this.target.handleEvent(a));B.lock||this.getNext(a,c);break;case "title":"mousedown"===b&&(this.isOpen?this.close():this.open())}this.isDown&&(c=!0);d&&(c=!0);return c}},getNext:function(a,b){var c=B.findTarget(this.uis,a);c!==this.current&&(this.clearTarget(),this.current=c);-1!==c&&(this.target=
this.uis[this.current],this.target.uiover())},calcH:function(){var a=this.uis.length,b,c,d=0,m=0,l=0;for(b=0;b<a;b++)c=this.uis[b],c.autoWidth?d+=c.h+1:(0===m?d+=c.h+1:l<c.h&&(d+=c.h-l),l=c.h,m+=c.w,m+c.w>this.w&&(m=0));return d},calcUis:function(){this.isOpen&&B.calcUis(this.uis,this.zone,this.zone.y+this.baseH)},setBG:function(a){this.s[0].background=a;for(var b=this.uis.length;b--;)this.uis[b].setBG(a)},add:function(){var a=arguments;"object"===typeof a[1]?(a[1].isUI=this.isUI,a[1].target=this.c[2],
a[1].main=this.main):"string"===typeof arguments[1]&&(void 0===a[2]?[].push.call(a,{isUI:!0,target:this.c[2],main:this.main}):(a[2].isUI=!0,a[2].target=this.c[2],a[2].main=this.main));a=U.apply(this,a);this.uis.push(a);a.autoHeight&&(a.parentGroup=this);return a},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&this.main.calc(a)},open:function(){x.prototype.open.call(this);this.setSvg(this.c[4],"d",this.svgs.arrowDown);this.rSizeContent();this.parentHeight(this.h-
this.baseH)},close:function(){x.prototype.close.call(this);var a=this.h-this.baseH;this.setSvg(this.c[4],"d",this.svgs.arrow);this.h=this.baseH;this.s[0].height=this.h+"px";this.parentHeight(-a)},clear:function(){this.clearGroup();this.isUI&&this.main.calc(-(this.h+1));x.prototype.clear.call(this)},clearGroup:function(){this.close();for(var a=this.uis.length;a--;)this.uis[a].clear(),this.uis.pop();this.uis=[];this.h=this.baseH},calc:function(a){this.isOpen&&(void 0!==a?(this.h+=a,this.isUI&&this.main.calc(a)):
this.h=this.calcH()+this.baseH,this.s[0].height=this.h+"px")},rSizeContent:function(){for(var a=this.uis.length;a--;)this.uis[a].setSize(this.w),this.uis[a].rSize();this.calc()},rSize:function(){x.prototype.rSize.call(this);var a=this.s;a[3].left=this.sa+this.sb-17+"px";a[1].width=this.w+"px";a[2].width=this.w+"px";this.isOpen&&this.rSizeContent()}});d.prototype=Object.assign(Object.create(x.prototype),{constructor:d,mode:function(a){switch(a){case 0:0===this.model?(this.setSvg(this.c[3],"fill","url(#gradIn)",
4),this.setSvg(this.c[3],"stroke","#000",4)):(this.setSvg(this.c[3],"stroke","rgba(100,100,100,0.25)",2),this.setSvg(this.c[3],"stroke","#666",4),this.setSvg(this.c[3],"fill","none",4));break;case 1:0===this.model?(this.setSvg(this.c[3],"fill","url(#gradIn2)",4),this.setSvg(this.c[3],"stroke","rgba(0,0,0,0)",4)):(this.setSvg(this.c[3],"stroke","rgba(48,138,255,0.25)",2),this.setSvg(this.c[3],"stroke",this.colors.select,4),this.setSvg(this.c[3],"fill","rgba(48,138,255,0.25)",4))}},addInterval:function(){null!==
this.interval&&this.stopInterval();this.pos.isZero()||(this.interval=setInterval(function(){this.update()}.bind(this),10))},stopInterval:function(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)},reset:function(){this.addInterval();this.mode(0)},mouseup:function(a){this.addInterval();this.isDown=!1},mousedown:function(a){this.isDown=!0;this.mousemove(a);this.mode(2)},mousemove:function(a){this.mode(1);this.isDown&&(this.tmp.x=this.radius-(a.clientX-this.zone.x),this.tmp.y=
this.radius-(a.clientY-this.zone.y-this.top),this.tmp.length()>this.distance&&(a=Math.atan2(this.tmp.x,this.tmp.y),this.tmp.x=Math.sin(a)*this.distance,this.tmp.y=Math.cos(a)*this.distance),this.pos.copy(this.tmp).divideScalar(this.distance).negate(),this.update())},setValue:function(a){void 0===a&&(a=[0,0]);this.pos.set(a[0]||0,a[1]||0);this.updateSVG()},update:function(a){void 0===a&&(a=!0);null===this.interval||this.isDown||(this.pos.lerp(null,0.3),this.pos.x=0.01>Math.abs(this.pos.x)?0:this.pos.x,
this.pos.y=0.01>Math.abs(this.pos.y)?0:this.pos.y,this.isUI&&this.main.isCanvas&&this.main.draw());this.updateSVG();a&&this.send();this.pos.isZero()&&this.stopInterval()},updateSVG:function(){var a=this.radius- -this.pos.x*this.distance,b=this.radius- -this.pos.y*this.distance;if(0===this.model){var c=b+5*this.pos.y+10;this.setSvg(this.c[3],"cx",(a+5*this.pos.x+5)*this.ratio,3);this.setSvg(this.c[3],"cy",c*this.ratio,3)}else this.setSvg(this.c[3],"cx",a*this.ratio,3),this.setSvg(this.c[3],"cy",b*
this.ratio,3);this.setSvg(this.c[3],"cx",a*this.ratio,4);this.setSvg(this.c[3],"cy",b*this.ratio,4);this.value[0]=1*(this.pos.x*this.multiplicator).toFixed(this.precision);this.value[1]=1*(this.pos.y*this.multiplicator).toFixed(this.precision);this.c[2].textContent=this.value},clear:function(){this.stopInterval();x.prototype.clear.call(this)}});a.prototype=Object.assign(Object.create(u.prototype),{constructor:a,mode:function(a){if(this.cmode===a)return!1;switch(a){case 0:this.s[2].color=this.fontColor;
this.setSvg(this.c[3],"fill",this.colors.button,0);this.setSvg(this.c[3],"stroke",this.fontColor,1);break;case 1:this.s[2].color=this.colorPlus,this.setSvg(this.c[3],"fill",this.colors.select,0),this.setSvg(this.c[3],"stroke",this.colorPlus,1)}this.cmode=a;return!0},mousemove:function(a){if(this.isDown){var b=this.offset;b.x=this.radius-(a.clientX-this.zone.x);b.y=this.radius-(a.clientY-this.zone.y-this.top);this.r=-Math.atan2(b.x,b.y);null!==this.oldr&&(this.r=Math.abs(this.r-this.oldr)>Math.PI?
this.oldr:this.r);this.r=this.r>this.mPI?this.mPI:this.r;this.r=this.r<-this.mPI?-this.mPI:this.r;a=1/this.cirRange*this.range*(this.r+this.mPI)+this.min-this.old;if(a>=this.step||a<=this.step)a=Math.floor(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value,this.oldr=this.r}},makeGrad:function(){var a="",b,c,d,m,l,n,h=Math.PI+this.mPI;b=Math.PI-this.mPI;5<this.step?(c=this.range/this.step,b=(h-b)/c):(b=(h-b)/64*2,c=32);for(var q=0;q<=c;++q)d=h-b*q,m=64+
44*Math.sin(d),l=64+44*Math.cos(d),n=64+40*Math.sin(d),d=64+40*Math.cos(d),a+="M"+m+" "+l+" L"+n+" "+d+" ";return a},update:function(a){this.c[2].textContent=this.value;this.percent=(this.value-this.min)/this.range;var b=this.percent*this.cirRange-this.mPI,c=Math.sin(b),b=Math.cos(b);this.setSvg(this.c[3],"d","M "+(25*c+64)+" "+(-(25*b)+64)+" L "+(20*c+64)+" "+(-(20*b)+64),1);a&&this.send()}});b.prototype=Object.assign(Object.create(x.prototype),{constructor:b,preloadImage:function(){this.preLoadComplete=
!1;this.tmpImage={};for(var a=0;a<this.list.length;a++)this.tmpUrl.push(this.list[a]);this.loadOne()},nextImg:function(){this.tmpUrl.shift();0===this.tmpUrl.length?(this.preLoadComplete=!0,this.addImages()):this.loadOne()},loadOne:function(){var a=this,b=this.tmpUrl[0],c=document.createElement("img");c.style.cssText="position:absolute; width:"+a.imageSize[0]+"px; height:"+a.imageSize[1]+"px";c.setAttribute("src",this.path+b+this.format);c.addEventListener("load",function(){a.imageSize[2]=c.width;
a.imageSize[3]=c.height;a.tmpImage[b]=c;a.nextImg()})},testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";if(this.up&&this.isOpen){if(a.y>this.h-this.baseH)return"title";if(this.scroll&&a.x>this.sa+this.sb-20)return"scroll";if(a.x>this.sa)return this.testItems(a.y-this.baseH)}else{if(a.y<this.baseH+2)return"title";if(this.isOpen){if(this.scroll&&a.x>this.sa+this.sb-20)return"scroll";if(a.x>this.sa)return this.testItems(a.y-this.baseH)}}return""},testItems:function(a){for(var b="",c=
this.items.length,d,m,l;c--;)if(d=this.items[c],m=d.posy+this.topList,l=d.posy+this.itemHeight+1+this.topList,a>=m&&a<=l){b="item"+c;this.unSelected();this.current=d;this.selected();break}return b},unSelected:function(){this.current&&(this.current.style.background="rgba(0,0,0,0.2)",this.current.style.color=this.fontColor,this.current=null)},selected:function(){this.current.style.background=this.colors.select;this.current.style.color="#FFF"},mouseup:function(a){this.isDown=!1},mousedown:function(a){var b=
this.testZone(a);if(!b)return!1;"scroll"===b?(this.isDown=!0,this.mousemove(a)):"title"===b?(this.modeTitle(2),this.isOpen?this.close():this.open()):this.current&&(this.value=this.list[this.current.id],this.setTopItem(),this.send(),this.close());return!0},mousemove:function(a){var b=!1,c=this.testZone(a);if(!c)return b;"title"===c?(this.unSelected(),this.modeTitle(1),this.cursor("pointer")):"scroll"===c?(this.cursor("s-resize"),this.modeScroll(1),this.isDown&&(this.modeScroll(2),this.update(a.clientY-
(this.zone.y+this.baseH-2)-0.5*this.sh))):(this.modeTitle(0),this.modeScroll(0),this.cursor("pointer"));c!==this.prevName&&(b=!0);this.prevName=c;return b},wheel:function(a){if("title"===this.testZone(a))return!1;this.py+=10*a.delta;this.update(this.py);return!0},reset:function(){this.prevName="";this.unSelected();this.modeTitle(0);this.modeScroll(0)},modeScroll:function(a){if(a!==this.sMode){switch(a){case 0:this.scroller.style.background=this.buttonColor;break;case 1:this.scroller.style.background=
this.colors.select;break;case 2:this.scroller.style.background=this.colors.down}this.sMode=a}},modeTitle:function(a){if(a!==this.tMode){var b=this.s;switch(a){case 0:b[3].color=this.fontColor;b[3].background=this.buttonColor;break;case 1:b[3].color="#FFF";b[3].background=this.colors.select;break;case 2:b[3].color=this.fontColor,b[3].background=this.colors.down}this.tMode=a}},clearList:function(){for(;this.listIn.children.length;)this.listIn.removeChild(this.listIn.lastChild);this.items=[]},setList:function(a){this.clearList();
this.list=a;this.length=this.list.length;this.maxItem=this.full?this.length:5;this.maxItem=this.length<this.maxItem?this.length:this.maxItem;this.maxHeight=this.maxItem*(this.itemHeight+1)+2;this.max=this.length*(this.itemHeight+1)+2;this.ratio=this.maxHeight/this.max;this.sh=this.maxHeight*this.ratio;this.range=this.maxHeight-this.sh;this.c[2].style.height=this.maxHeight+"px";this.scroller.style.height=this.sh+"px";this.max>this.maxHeight&&(this.ww=this.sb-20,this.scroll=!0);for(var b,c=0;c<this.length;c++)b=
this.list[c],a=this.dom("div",this.css.item+"width:"+this.ww+"px; height:"+this.itemHeight+"px; line-height:"+(this.itemHeight-5)+"px; color:"+this.fontColor+";"),a.name="item"+c,a.id=c,a.posy=(this.itemHeight+1)*c,this.listIn.appendChild(a),this.items.push(a),this.isWithImage||(a.textContent=b);this.setTopItem()},addImages:function(){for(var a=this.list.length,b=0;b<a;b++)this.items[b].appendChild(this.tmpImage[this.list[b]]);this.setTopItem()},setTopItem:function(){this.isWithImage?this.preLoadComplete&&
(this.c[3].children.length||(this.canvas=document.createElement("canvas"),this.canvas.width=this.imageSize[0],this.canvas.height=this.imageSize[1],this.canvas.style.cssText="position:absolute; top:0px; left:0px;",this.ctx=this.canvas.getContext("2d"),this.c[3].appendChild(this.canvas)),this.ctx.drawImage(this.tmpImage[this.value],0,0,this.imageSize[2],this.imageSize[3],0,0,this.imageSize[0],this.imageSize[1])):this.c[3].textContent=this.value},update:function(a){this.scroll&&(a=0>a?0:a,a=a>this.range?
this.range:a,this.topList=-Math.floor(a/this.ratio),this.listIn.style.top=this.topList+"px",this.scroller.style.top=Math.floor(a)+"px",this.py=a)},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&this.main.calc(a)},open:function(){x.prototype.open.call(this);this.update(0);this.h=this.maxHeight+this.baseH+5;this.scroll?this.scroller.style.display="block":(this.topList=0,this.h=this.baseH+5+this.max,this.scroller.style.display="none");this.s[0].height=this.h+"px";
this.s[2].display="block";this.up?(this.zone.y-=this.h-(this.baseH-10),this.setSvg(this.c[4],"d",this.svgs.arrowUp)):this.setSvg(this.c[4],"d",this.svgs.arrowDown);this.rSizeContent();var a=this.h-this.baseH;this.zone.h=this.h;this.parentHeight(a)},close:function(){x.prototype.close.call(this);this.up&&(this.zone.y+=this.h-(this.baseH-10));var a=this.h-this.baseH;this.h=this.baseH;this.s[0].height=this.h+"px";this.s[2].display="none";this.setSvg(this.c[4],"d",this.svgs.arrow);this.zone.h=this.h;this.parentHeight(-a)},
text:function(a){this.c[3].textContent=a},rSizeContent:function(){for(var a=this.length;a--;)this.listIn.children[a].style.width=this.ww+"px"},rSize:function(){x.prototype.rSize.call(this);var a=this.s,b=this.sb,c=this.sa;void 0!==a[2]&&(a[2].width=b+"px",a[2].left=c+"px",a[3].width=b+"px",a[3].left=c+"px",a[4].left=c+b-17+"px",this.ww=b,this.max>this.maxHeight&&(this.ww=b-20),this.isOpen&&this.rSizeContent())}});c.prototype=Object.assign(Object.create(x.prototype),{constructor:c,testZone:function(a){a=
this.local;if(-1===a.x&&-1===a.y)return"";for(var b=this.lng,c=this.tmp;b--;)if(a.x>c[b][0]&&a.x<c[b][2])return b;return""},mode:function(a,b){if(a===this.cMode[b])return!1;this.reset();this.cMode[b]=a;return!0},mousedown:function(a){var b=this.testZone(a);if(""===b)return!1;this.current=b;this.isDown=!0;this.prev={x:a.clientX,y:a.clientY,d:0,v:this.isNumber?parseFloat(this.value):parseFloat(this.value[this.current])};return this.mode(2,b)},mouseup:function(a){a=this.testZone(a);this.isDown=!1;if(-1!==
this.current){var b=this.prev.d;this.current=-1;this.prev={x:0,y:0,d:0,v:0};if(b)return this.reset();this.setInput(this.c[a+2],function(){this.testValue()}.bind(this));return!0}},mousemove:function(a){var b=!1,b=this.testZone(a);""===b?(b=this.reset(),this.cursor()):(b=this.mode(1,b),this.cursor(-1!==this.current?"move":"pointer"));-1!==this.current&&(this.prev.d+=a.clientX-this.prev.x-(a.clientY-this.prev.y),this.value[this.current]=this.numValue(this.prev.v+this.prev.d*this.step),this.c[2+this.current].textContent=
this.value[this.current],this.validate(),this.prev.x=a.clientX,this.prev.y=a.clientY,b=!0);return b},keydown:function(a){return!0},reset:function(){var a=!1;this.isDown=!1;for(var b=this.lng;b--;)0!==this.cMode[b]&&(this.cMode[b]=0,a=!0);return a},setValue:function(a,b){b=b||0;this.value[b]=this.numValue(a);this.c[2+b].textContent=this.value[b]},testValue:function(){for(var a=this.lng;a--;)if(isNaN(this.c[2+a].textContent))this.c[2+a].textContent=this.value[a];else{var b=this.numValue(this.c[2+a].textContent);
this.c[2+a].textContent=b;this.value[a]=b}this.validate()},validate:function(){for(var a=[],b=this.lng;b--;)a[b]=this.value[b]*this.toRad;this.isNumber?this.send(a[0]):this.send(a)},rSize:function(){x.prototype.rSize.call(this);for(var a=Math.floor((this.sb+5)/this.lng)-5,b=this.s,c=this.lng;c--;)this.tmp[c]=[Math.floor(this.sa+a*c+5*c),a],this.tmp[c][2]=this.tmp[c][0]+this.tmp[c][1],b[2+c].left=this.tmp[c][0]+"px",b[2+c].width=this.tmp[c][1]+"px"}});m.prototype=Object.assign(Object.create(x.prototype),
{constructor:m,testZone:function(a){a=this.local;return-1===a.x&&-1===a.y?"":a.x>=this.txl?"text":a.x>=this.sa?"scroll":""},mouseup:function(a){this.isDown&&(this.isDown=!1)},mousedown:function(a){var b=this.testZone(a);if(!b)return!1;"scroll"===b&&(this.isDown=!0,this.old=this.value,this.mousemove(a));"text"===b&&this.setInput(this.c[2],function(){this.validate()}.bind(this));return!0},mousemove:function(a){var b=!1,c=this.testZone(a);"scroll"===c?(this.mode(1),this.cursor("w-resize")):"text"===
c?this.cursor("pointer"):this.cursor();if(this.isDown){a=(a.clientX-(this.zone.x+this.sa)-3)/this.ww*this.range+this.min-this.old;if(a>=this.step||a<=this.step)a=Math.floor(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value;b=!0}return b},keydown:function(a){return!0},validate:function(){var a=this.c[2].textContent;isNaN(a)?this.c[2].textContent=this.value:(this.value=this.numValue(a),this.update(!0))},reset:function(){this.isDown=!1;this.mode(0)},mode:function(a){var b=
this.s;switch(a){case 0:b[2].color=this.fontColor;b[4].background=this.colors.scrollback;b[5].background=this.fontColor;break;case 1:b[2].color=this.colorPlus,b[4].background=this.colors.scrollbackover,b[5].background=this.colorPlus}},update:function(a){var b=Math.floor((this.value-this.min)/this.range*this.ww);3!==this.model&&(this.s[5].width=b+"px");this.s[6]&&(this.s[6].left=this.sa+b+3+"px");this.c[2].textContent=this.value;a&&this.send()},rSize:function(){x.prototype.rSize.call(this);var a=this.sb-
this.sc;this.ww=a-6;var b=this.sc;if(this.isUI||!this.simple)b=this.sc+10;this.txl=this.w-b+2;b=this.s;b[2].width=this.sc-6+"px";b[2].left=this.txl+4+"px";b[3].left=this.sa+"px";b[3].width=a+"px";b[4].left=this.sa+"px";b[4].width=a+"px";b[5].left=this.sa+3+"px";this.update()}});F.prototype=Object.assign(Object.create(x.prototype),{constructor:F,mousedown:function(a){this.setInput(this.c[2],function(){this.validate()}.bind(this));return this.mode(2)},mousemove:function(a){return this.mode(1)},keydown:function(a){return!0},
mode:function(a){if(a===this.cmode)return!1;this.cmode=a;return!0},reset:function(){this.mode(0)},rSize:function(){x.prototype.rSize.call(this);var a=this.s;a[2].color=this.fontColor;a[2].left=this.sa+"px";a[2].width=this.sb+"px";a[2].height=this.h-4+"px";a[2].lineHeight=this.h-8+"px"},validate:function(){this.value=this.c[2].textContent;this.send()}});K.prototype=Object.assign(Object.create(x.prototype),{constructor:K,text:function(a){this.c[1].textContent=a},text2:function(a){this.c[2].textContent=
a},rSize:function(){x.prototype.rSize.call(this);this.s[1].width=this.w-50+"px";this.s[2].left=this.w-76+"px"}});Object.assign($.prototype,{constructor:$,isGui:!0,dispose:function(){this.clear();null!==this.parent&&this.parent.removeChild(this.content);B.remove(this)},onDraw:function(){},makeCanvas:function(){this.canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.canvas.width=this.zone.w;this.canvas.height=this.forceHeight?this.forceHeight:this.zone.h},draw:function(a){null!==
this.canvas&&B.toCanvas(this,this.zone.w,this.forceHeight?this.forceHeight:this.zone.h,a)},getDom:function(){return this.content},setMouse:function(a){this.mouse.set(a.x,a.y)},setText:function(a,b,c){w.setText(a,b,c)},hide:function(a){this.content.style.display=a?"none":"block"},onChange:function(a){this.callback=a;return this},mode:function(a){var b=!1;if(a!==this.cn){this.cn=a;switch(a){case "def":this.scroll.style.background=this.colors.scroll;this.bottom.style.background=this.colors.background;
this.bottom.style.color=this.colors.text;break;case "scrollOver":this.scroll.style.background=this.colors.select;break;case "scrollDown":this.scroll.style.background=this.colors.down;break;case "bottomOver":this.bottom.style.background=this.colors.backgroundOver,this.bottom.style.color="#FFF"}b=!0}return b},clearTarget:function(){if(-1===this.current)return!1;this.target.uiout();this.target.reset();this.target=null;this.current=-1;B.cursor();return!0},testZone:function(a){a=this.local;if(-1===a.x&&
-1===a.y)return"";this.isReset=!1;var b="",b=this.isScroll?this.zone.w-this.size.s:this.zone.w;return b=a.y>this.zone.h-this.bh&&a.y<this.zone.h?"bottom":a.x>b?"scroll":"content"},handleEvent:function(a){var b=a.type,c=!1,d=!1,m=this.testZone(a);"mouseup"===b&&this.isDown&&(this.isDown=!1);"mousedown"!==b||this.isDown||(this.isDown=!0);this.isDown&&this.isNewTarget&&(B.clearInput(),this.isNewTarget=!1);if(m){switch(m){case "content":a.clientY=this.isScroll?a.clientY+this.decal:a.clientY;B.isMobile&&
"mousedown"===b&&this.getNext(a,c);this.target&&(d=this.target.handleEvent(a));"mousemove"===b&&(c=this.mode("def"));"wheel"===b&&!d&&this.isScroll&&(c=this.onWheel(a));B.lock||this.getNext(a,c);break;case "bottom":this.clearTarget();"mousemove"===b&&(c=this.mode("bottomOver"));"mousedown"===b&&(this.isOpen=this.isOpen?!1:!0,this.bottom.textContent=this.isOpen?"close":"open",this.setHeight(),this.mode("def"),c=!0);break;case "scroll":this.clearTarget(),"mousemove"===b&&(c=this.mode("scrollOver")),
"mousedown"===b&&(c=this.mode("scrollDown")),"wheel"===b&&(c=this.onWheel(a)),this.isDown&&this.update(a.clientY-this.zone.y-0.5*this.sh)}this.isDown&&(c=!0);d&&(c=!0);c&&this.draw()}},getNext:function(a,b){var c=B.findTarget(this.uis,a);c!==this.current&&(this.clearTarget(),this.current=c,this.isNewTarget=!0);-1!==c&&(this.target=this.uis[this.current],this.target.uiover())},onWheel:function(a){this.oy+=20*a.delta;this.update(this.oy);return!0},reset:function(a){if(!this.isReset){this.mouse.neg();
this.isDown=!1;a=this.mode("def");var b=this.clearTarget();(a||b)&&this.draw(!0);this.isReset=!0}},add:function(){var a=arguments;"object"===typeof a[1]?(a[1].isUI=!0,a[1].main=this):"string"===typeof a[1]&&(void 0===a[2]?[].push.call(a,{isUI:!0,main:this}):(a[2].isUI=!0,a[2].main=this));a=U.apply(this,a);if(null!==a){this.uis.push(a);if(a.autoWidth)this.prevY=0,this.calc(a.h+1);else{var b=a.c[0].getBoundingClientRect().top;this.prevY!==b&&(this.calc(a.h+1),this.prevY=b)}return a}},applyCalc:function(){this.calc(this.tmpH);
this.tmpAdd=null},calcUis:function(){B.calcUis(this.uis,this.zone,this.zone.y)},remove:function(a){a=this.uis.indexOf(a);-1!==a&&this.uis[a].clear()},clearOne:function(a){a=this.uis.indexOf(a);-1!==a&&(this.inner.removeChild(this.uis[a].c[0]),this.uis.splice(a,1))},clear:function(){for(var a=this.uis.length;a--;)this.uis[a].clear();this.uis=[];B.listens=[];this.calc(-this.h)},upScroll:function(a){this.sw=a?this.size.s:0;this.oy=a?this.oy:0;this.scrollBG.style.display=a?"block":"none";a&&(this.total=
this.h,this.maxView=this.maxHeight,this.ratio=this.maxView/this.total,this.sh=this.maxView*this.ratio,this.range=this.maxView-this.sh,this.oy=w.clamp(this.oy,0,this.range),this.scrollBG.style.height=this.maxView+"px",this.scroll.style.height=this.sh+"px");this.setItemWidth(this.zone.w-this.sw);this.update(this.oy)},update:function(a){a=w.clamp(a,0,this.range);this.decal=Math.floor(a/this.ratio);this.inner.style.top=-this.decal+"px";this.scroll.style.top=Math.floor(a)+"px";this.oy=a},calc:function(a){this.h+=
a;clearTimeout(this.tmp);this.tmp=setTimeout(this.setHeight.bind(this),10)},setHeight:function(){this.tmp&&clearTimeout(this.tmp);this.zone.h=this.bh;this.isScroll=!1;this.isOpen&&(this.maxHeight=(this.forceHeight?this.forceHeight:window.innerHeight)-this.zone.y-this.bh,1<this.h-this.maxHeight?(this.isScroll=!0,this.zone.h=this.maxHeight+this.bh):this.zone.h=this.h+this.bh);this.upScroll(this.isScroll);this.innerContent.style.height=this.zone.h-this.bh+"px";this.content.style.height=this.zone.h+"px";
this.bottom.style.top=this.zone.h-this.bh+"px";this.isOpen&&this.calcUis();this.isCanvas&&this.draw(!0)},setWidth:function(a){a&&(this.zone.w=a);this.content.style.width=this.zone.w+"px";this.isCenter&&(this.content.style.marginLeft=-Math.floor(0.5*this.zone.w)+"px");this.setItemWidth(this.zone.w-this.sw);this.setHeight();this.isCanvasOnly||(B.needReZone=!0)},setItemWidth:function(a){for(var b=this.uis.length;b--;)this.uis[b].setSize(a),this.uis[b].rSize()}});h.Bool=s;h.Button=q;h.Circular=u;h.Color=
n;h.Fps=G;h.Group=l;h.Gui=$;h.Joystick=d;h.Knob=a;h.List=b;h.Numeric=c;h.Proto=x;h.REVISION="2.0";h.Slide=m;h.TextInput=F;h.Title=K;h.Tools=w;h.add=U;Object.defineProperty(h,"__esModule",{value:!0})});(function(h,r){"object"===typeof exports&&"undefined"!==typeof module?module.exports=r():"function"===typeof define&&define.amd?define(r):h.CodeMirror=r()})(this,function(){function h(e){return RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function r(e){for(var p=e.childNodes.length;0<p;--p)e.removeChild(e.firstChild);return e}function x(e,p){return r(e).appendChild(p)}function s(e,p,a,f){e=document.createElement(e);a&&(e.className=a);f&&(e.style.cssText=f);if("string"==typeof p)e.appendChild(document.createTextNode(p));
else if(p)for(a=0;a<p.length;++a)e.appendChild(p[a]);return e}function q(e,p,a,f){e=s(e,p,a,f);e.setAttribute("role","presentation");return e}function u(e,p){3==p.nodeType&&(p=p.parentNode);if(e.contains)return e.contains(p);do if(11==p.nodeType&&(p=p.host),p==e)return!0;while(p=p.parentNode)}function n(){var e;try{e=document.activeElement}catch(p){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function G(e,p){var a=e.className;h(p).test(a)||
(e.className+=(a?" ":"")+p)}function C(e,p){for(var a=e.split(" "),f=0;f<a.length;f++)a[f]&&!h(a[f]).test(p)&&(p+=" "+a[f]);return p}function l(e){var p=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,p)}}function d(e,p,a){p||(p={});for(var f in e)!e.hasOwnProperty(f)||!1===a&&p.hasOwnProperty(f)||(p[f]=e[f]);return p}function a(e,p,a,f,k){null==p&&(p=e.search(/[^\s\u00a0]/),-1==p&&(p=e.length));f=f||0;for(k=k||0;;){var b=e.indexOf("\t",f);if(0>b||b>=p)return k+(p-f);
k+=b-f;k+=a-k%a;f=b+1}}function b(e,p){for(var a=0;a<e.length;++a)if(e[a]==p)return a;return-1}function c(e,p,a){for(var f=0,k=0;;){var b=e.indexOf("\t",f);-1==b&&(b=e.length);var c=b-f;if(b==e.length||k+c>=p)return f+Math.min(c,p-k);k+=b-f;k+=a-k%a;f=b+1;if(k>=p)return f}}function m(e){for(;bd.length<=e;)bd.push(F(bd)+" ");return bd[e]}function F(e){return e[e.length-1]}function K(e,p){for(var a=[],f=0;f<e.length;f++)a[f]=p(e[f],f);return a}function U(e,p,a){for(var f=0,k=a(p);f<e.length&&a(e[f])<=
k;)f++;e.splice(f,0,p)}function $(){}function z(e,p){var a;Object.create?a=Object.create(e):($.prototype=e,a=new $);p&&d(p,a);return a}function w(e){return/\w/.test(e)||"\u0080"<e&&(e.toUpperCase()!=e.toLowerCase()||lg.test(e))}function t(e,p){return p?-1<p.source.indexOf("\\w")&&w(e)?!0:p.test(e):w(e)}function B(e){for(var p in e)if(e.hasOwnProperty(p)&&e[p])return!1;return!0}function g(e){return 768<=e.charCodeAt(0)&&mg.test(e)}function M(e,p,a){for(;(0>a?0<p:p<e.length)&&g(e.charAt(p));)p+=a;return p}
function O(e,p,a){for(var f=p>a?-1:1;;){if(p==a)return p;var k=(p+a)/2,k=0>f?Math.ceil(k):Math.floor(k);if(k==p)return e(k)?p:a;e(k)?a=k:p=k+f}}function N(e,p,a){this.input=a;this.scrollbarFiller=s("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=s("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=q("div",null,"CodeMirror-code");this.selectionDiv=s("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=s("div",null,"CodeMirror-cursors");this.measure=s("div",null,"CodeMirror-measure");this.lineMeasure=s("div",null,"CodeMirror-measure");this.lineSpace=q("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var f=q("div",[this.lineSpace],"CodeMirror-lines");this.mover=s("div",[f],null,"position: relative");this.sizer=s("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=s("div",null,null,
"position: absolute; height: "+ye+"px; width: 1px;");this.gutters=s("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=s("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=s("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");R&&8>aa&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);ta||sb&&mc||(this.scroller.draggable=!0);e&&(e.appendChild?e.appendChild(this.wrapper):
e(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=p.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;a.init(this)}function D(e,p){p-=e.first;if(0>p||p>=e.size)throw Error("There is no line "+(p+e.first)+" in the document.");for(var a=e;!a.lines;)for(var f=0;;++f){var k=a.children[f],b=k.chunkSize();if(p<b){a=k;break}p-=b}return a.lines[p]}function sa(e,p,a){var f=[],k=p.line;e.iter(p.line,a.line+1,function(e){e=e.text;k==a.line&&(e=e.slice(0,a.ch));k==p.line&&(e=e.slice(p.ch));
f.push(e);++k});return f}function Ba(e,p,a){var f=[];e.iter(p,a,function(e){f.push(e.text)});return f}function qa(e,p){var a=p-e.height;if(a)for(var f=e;f;f=f.parent)f.height+=a}function L(e){if(null==e.parent)return null;var p=e.parent;e=b(p.lines,e);for(var a=p.parent;a;p=a,a=a.parent)for(var f=0;a.children[f]!=p;++f)e+=a.children[f].chunkSize();return e+p.first}function ga(e,p){var a=e.first;a:do{for(var f=0;f<e.children.length;++f){var k=e.children[f],b=k.height;if(p<b){e=k;continue a}p-=b;a+=
k.chunkSize()}return a}while(!e.lines);for(f=0;f<e.lines.length;++f){k=e.lines[f].height;if(p<k)break;p-=k}return a+f}function na(e,p){return p>=e.first&&p<e.first+e.size}function Ga(e,p){return String(e.lineNumberFormatter(p+e.firstLineNumber))}function A(e,p,a){void 0===a&&(a=null);if(!(this instanceof A))return new A(e,p,a);this.line=e;this.ch=p;this.sticky=a}function H(e,p){return e.line-p.line||e.ch-p.ch}function kb(e,p){return e.sticky==p.sticky&&0==H(e,p)}function lb(e){return A(e.line,e.ch)}
function Wa(e,p){return 0>H(e,p)?p:e}function Xa(e,p){return 0>H(e,p)?e:p}function J(e,p){if(p.line<e.first)return A(e.first,0);var a=e.first+e.size-1;if(p.line>a)return A(a,D(e,a).text.length);var a=D(e,p.line).text.length,f=p.ch,a=null==f||f>a?A(p.line,a):0>f?A(p.line,0):p;return a}function Ha(e,p){for(var a=[],f=0;f<p.length;f++)a[f]=J(e,p[f]);return a}function ea(e,p,a){this.marker=e;this.from=p;this.to=a}function ua(e,p){if(e)for(var a=0;a<e.length;++a){var f=e[a];if(f.marker==p)return f}}function X(e,
p){if(p.full)return null;var a=na(e,p.from.line)&&D(e,p.from.line).markedSpans,f=na(e,p.to.line)&&D(e,p.to.line).markedSpans;if(!a&&!f)return null;var k=p.from.ch,b=p.to.ch,c=0==H(p.from,p.to),d;if(a)for(var g=0;g<a.length;++g){var m=a[g],l=m.marker;if(null==m.from||(l.inclusiveLeft?m.from<=k:m.from<k)||m.from==k&&!("bookmark"!=l.type||c&&m.marker.insertLeft)){var v=null==m.to||(l.inclusiveRight?m.to>=k:m.to>k);(d||(d=[])).push(new ea(l,m.from,v?null:m.to))}}var a=d,n;if(f)for(d=0;d<f.length;++d)if(g=
f[d],m=g.marker,null==g.to||(m.inclusiveRight?g.to>=b:g.to>b)||g.from==b&&"bookmark"==m.type&&(!c||g.marker.insertLeft))l=null==g.from||(m.inclusiveLeft?g.from<=b:g.from<b),(n||(n=[])).push(new ea(m,l?null:g.from-b,null==g.to?null:g.to-b));f=n;b=1==p.text.length;c=F(p.text).length+(b?k:0);if(a)for(n=0;n<a.length;++n)if(d=a[n],null==d.to)(g=ua(f,d.marker),g)?b&&(d.to=null==g.to?null:g.to+c):d.to=k;if(f)for(k=0;k<f.length;++k)n=f[k],null!=n.to&&(n.to+=c),null==n.from?ua(a,n.marker)||(n.from=c,b&&(a||
(a=[])).push(n)):(n.from+=c,b&&(a||(a=[])).push(n));a&&(a=fa(a));f&&f!=a&&(f=fa(f));k=[a];if(!b){var b=p.text.length-2,h;if(0<b&&a)for(c=0;c<a.length;++c)null==a[c].to&&(h||(h=[])).push(new ea(a[c].marker,null,null));for(a=0;a<b;++a)k.push(h);k.push(f)}return k}function fa(e){for(var p=0;p<e.length;++p){var a=e[p];null!=a.from&&a.from==a.to&&!1!==a.marker.clearWhenEmpty&&e.splice(p--,1)}return e.length?e:null}function fb(e,p,a){var f=null;e.iter(p.line,a.line+1,function(e){if(e.markedSpans)for(var p=
0;p<e.markedSpans.length;++p){var a=e.markedSpans[p].marker;!a.readOnly||f&&-1!=b(f,a)||(f||(f=[])).push(a)}});if(!f)return null;e=[{from:p,to:a}];for(p=0;p<f.length;++p){a=f[p];for(var k=a.find(0),c=0;c<e.length;++c){var xa=e[c];if(!(0>H(xa.to,k.from)||0<H(xa.from,k.to))){var d=[c,1],g=H(xa.from,k.from),m=H(xa.to,k.to);(0>g||!a.inclusiveLeft&&!g)&&d.push({from:xa.from,to:k.from});(0<m||!a.inclusiveRight&&!m)&&d.push({from:k.to,to:xa.to});e.splice.apply(e,d);c+=d.length-3}}}return e}function Ia(e){var p=
e.markedSpans;if(p){for(var a=0;a<p.length;++a)p[a].marker.detachLine(e);e.markedSpans=null}}function tb(e,p){if(p){for(var a=0;a<p.length;++a)p[a].marker.attachLine(e);e.markedSpans=p}}function ha(e,p){var a=e.lines.length-p.lines.length;if(0!=a)return a;var a=e.find(),f=p.find(),k=H(a.from,f.from)||(e.inclusiveLeft?-1:0)-(p.inclusiveLeft?-1:0);return k?-k:(a=H(a.to,f.to)||(e.inclusiveRight?1:0)-(p.inclusiveRight?1:0))?a:p.id-e.id}function Ja(e,p){var a=ub&&e.markedSpans,f;if(a)for(var k=void 0,
b=0;b<a.length;++b)k=a[b],k.marker.collapsed&&null==(p?k.from:k.to)&&(!f||0>ha(f,k.marker))&&(f=k.marker);return f}function Q(e,p,a,f,k){e=D(e,p);if(e=ub&&e.markedSpans)for(p=0;p<e.length;++p){var b=e[p];if(b.marker.collapsed){var c=b.marker.find(0),d=H(c.from,a)||(b.marker.inclusiveLeft?-1:0)-(k.inclusiveLeft?-1:0),g=H(c.to,f)||(b.marker.inclusiveRight?1:0)-(k.inclusiveRight?1:0);if(!(0<=d&&0>=g||0>=d&&0<=g)&&(0>=d&&(b.marker.inclusiveRight&&k.inclusiveLeft?0<=H(c.to,a):0<H(c.to,a))||0<=d&&(b.marker.inclusiveRight&&
k.inclusiveLeft?0>=H(c.from,f):0>H(c.from,f))))return!0}}}function va(e){for(var p;p=Ja(e,!0);)e=p.find(-1,!0).line;return e}function Ka(e,p){var a=D(e,p),f=va(a);return a==f?p:L(f)}function Ca(e,p){if(p>e.lastLine())return p;var a=D(e,p),f;if(!ia(e,a))return p;for(;f=Ja(a,!1);)a=f.find(1,!0).line;return L(a)+1}function ia(e,p){var a=ub&&p.markedSpans;if(a)for(var f=void 0,k=0;k<a.length;++k)if(f=a[k],f.marker.collapsed&&(null==f.from||!f.marker.widgetNode&&0==f.from&&f.marker.inclusiveLeft&&Pa(e,
p,f)))return!0}function Pa(e,p,a){if(null==a.to)return p=a.marker.find(1,!0),Pa(e,p.line,ua(p.line.markedSpans,a.marker));if(a.marker.inclusiveRight&&a.to==p.text.length)return!0;for(var f=void 0,k=0;k<p.markedSpans.length;++k)if(f=p.markedSpans[k],f.marker.collapsed&&!f.marker.widgetNode&&f.from==a.to&&(null==f.to||f.to!=a.from)&&(f.marker.inclusiveLeft||a.marker.inclusiveRight)&&Pa(e,p,f))return!0}function ka(e){e=va(e);for(var p=0,a=e.parent,f=0;f<a.lines.length;++f){var k=a.lines[f];if(k==e)break;
else p+=k.height}for(e=a.parent;e;a=e,e=a.parent)for(f=0;f<e.children.length&&(k=e.children[f],k!=a);++f)p+=k.height;return p}function Qa(e){if(0==e.height)return 0;for(var p=e.text.length,a,f=e;a=Ja(f,!0);)a=a.find(0,!0),f=a.from.line,p+=a.from.ch-a.to.ch;for(f=e;a=Ja(f,!1);)e=a.find(0,!0),p-=f.text.length-e.from.ch,f=e.to.line,p+=f.text.length-e.to.ch;return p}function Za(e){var p=e.display;e=e.doc;p.maxLine=D(e,e.first);p.maxLineLength=Qa(p.maxLine);p.maxLineChanged=!0;e.iter(function(e){var a=
Qa(e);a>p.maxLineLength&&(p.maxLineLength=a,p.maxLine=e)})}function ca(e,p,a,f){if(!e)return f(p,a,"ltr",0);for(var k=!1,b=0;b<e.length;++b){var c=e[b];if(c.from<a&&c.to>p||p==a&&c.to==p)f(Math.max(c.from,p),Math.min(c.to,a),1==c.level?"rtl":"ltr",b),k=!0}k||f(p,a,"ltr")}function Ya(e,p,a){var f;nc=null;for(var k=0;k<e.length;++k){var b=e[k];if(b.from<p&&b.to>p)return k;b.to==p&&(b.from!=b.to&&"before"==a?f=k:nc=k);b.from==p&&(b.from!=b.to&&"before"!=a?f=k:nc=k)}return null!=f?f:nc}function Da(e,
p){var a=e.order;null==a&&(a=e.order=ng(e.text,p));return a}function Y(e,p,a){if(e.removeEventListener)e.removeEventListener(p,a,!1);else if(e.detachEvent)e.detachEvent("on"+p,a);else{var f=(e=e._handlers)&&e[p];f&&(a=b(f,a),-1<a&&(e[p]=f.slice(0,a).concat(f.slice(a+1))))}}function P(e,p){var a=e._handlers&&e._handlers[p]||cd;if(a.length)for(var f=Array.prototype.slice.call(arguments,2),k=0;k<a.length;++k)a[k].apply(null,f)}function V(e,p,a){"string"==typeof p&&(p={type:p,preventDefault:function(){this.defaultPrevented=
!0}});P(e,a||p.type,e,p);return Sb(p)||p.codemirrorIgnore}function oc(e){var p=e._handlers&&e._handlers.cursorActivity;if(p){e=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(var a=0;a<p.length;++a)-1==b(e,p[a])&&e.push(p[a])}}function La(e,p){return 0<(e._handlers&&e._handlers[p]||cd).length}function Ra(e){e.prototype.on=function(e,a){I(this,e,a)};e.prototype.off=function(e,a){Y(this,e,a)}}function Z(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function mb(e){e.stopPropagation?
e.stopPropagation():e.cancelBubble=!0}function Sb(e){return null!=e.defaultPrevented?e.defaultPrevented:!1==e.returnValue}function Sa(e){Z(e);mb(e)}function dd(e){var p=e.which;null==p&&(e.button&1?p=1:e.button&2?p=3:e.button&4&&(p=2));$a&&e.ctrlKey&&1==p&&(p=3);return p}function ed(e){if(null==Fd){var p=s("span","\u200b");x(e,s("span",[p,document.createTextNode("x")]));0!=e.firstChild.offsetHeight&&(Fd=1>=p.offsetWidth&&2<p.offsetHeight&&!(R&&8>aa))}e=Fd?s("span","\u200b"):s("span","\u00a0",null,
"display: inline-block; width: 1px; margin-right: -1px");e.setAttribute("cm-text","");return e}function Tb(e,p){2<arguments.length&&(p.dependencies=Array.prototype.slice.call(arguments,2));Gd[e]=p}function Ma(e){if("string"==typeof e&&Ub.hasOwnProperty(e))e=Ub[e];else if(e&&"string"==typeof e.name&&Ub.hasOwnProperty(e.name)){var p=Ub[e.name];"string"==typeof p&&(p={name:p});e=z(p,e);e.name=p.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ma("application/xml");if("string"==
typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ma("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function vb(e,p){p=Ma(p);var a=Gd[p.name];if(!a)return vb(e,"text/plain");a=a(e,p);if(Vb.hasOwnProperty(p.name)){var f=Vb[p.name],k;for(k in f)f.hasOwnProperty(k)&&(a.hasOwnProperty(k)&&(a["_"+k]=a[k]),a[k]=f[k])}a.name=p.name;p.helperType&&(a.helperType=p.helperType);if(p.modeProps)for(var b in p.modeProps)a[b]=p.modeProps[b];return a}function Hd(e,p){var a=Vb.hasOwnProperty(e)?
Vb[e]:Vb[e]={};d(p,a)}function gb(e,p){if(!0===p)return p;if(e.copyState)return e.copyState(p);var a={},f;for(f in p){var k=p[f];k instanceof Array&&(k=k.concat([]));a[f]=k}return a}function pc(e,p){for(var a;e.innerMode;){a=e.innerMode(p);if(!a||a.mode==e)break;p=a.state;e=a.mode}return a||{mode:e,state:p}}function Cb(e,p,a){return e.startState?e.startState(p,a):!0}function qc(e,p,a,f){var k=[e.state.modeGen],b={};rc(e,p.text,e.doc.mode,a,function(e,p){return k.push(e,p)},b,f);var c=a.state;f=function(f){a.baseTokens=
k;var d=e.state.overlays[f],g=1,ba=0;a.state=!0;rc(e,p.text,d.mode,a,function(e,p){for(var a=g;ba<e;){var f=k[g];f>e&&k.splice(g,1,e,k[g+1],f);g+=2;ba=Math.min(e,f)}if(p)if(d.opaque)k.splice(a,g-a,e,"overlay "+p),g=a+2;else for(;a<g;a+=2)f=k[a+1],k[a+1]=(f?f+" ":"")+"overlay "+p},b);a.state=c;a.baseTokens=null;a.baseTokenPos=1};for(var d=0;d<e.state.overlays.length;++d)f(d);return{styles:k,classes:b.bgClass||b.textClass?b:null}}function fd(e,p,a){if(!p.styles||p.styles[0]!=e.state.modeGen){var f=
nb(e,L(p)),k=p.text.length>e.options.maxHighlightLength&&gb(e.doc.mode,f.state),b=qc(e,p,f);k&&(f.state=k);p.stateAfter=f.save(!k);p.styles=b.styles;b.classes?p.styleClasses=b.classes:p.styleClasses&&(p.styleClasses=null);a===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return p.styles}function nb(e,p,a){var f=e.doc,k=e.display;if(!f.mode.startState)return new hb(f,!0,p);var b=Wb(e,p,a),c=b>f.first&&D(f,b-1).stateAfter,d=c?hb.fromSaved(f,c,b):
new hb(f,Cb(f.mode),b);f.iter(b,p,function(a){sc(e,a.text,d);var f=d.line;a.stateAfter=f==p-1||0==f%5||f>=k.viewFrom&&f<k.viewTo?d.save():null;d.nextLine()});a&&(f.modeFrontier=d.line);return d}function sc(e,p,a,f){var k=e.doc.mode;e=new ja(p,e.options.tabSize,a);e.start=e.pos=f||0;for(""==p&&tc(k,a.state);!e.eol();)uc(k,e,a.state),e.start=e.pos}function tc(e,p){if(e.blankLine)return e.blankLine(p);if(e.innerMode){var a=pc(e,p);if(a.mode.blankLine)return a.mode.blankLine(a.state)}}function uc(e,p,
a,f){for(var k=0;10>k;k++){f&&(f[0]=pc(e,a).mode);var b=e.token(p,a);if(p.pos>p.start)return b}throw Error("Mode "+e.name+" failed to advance stream.");}function vc(e,p,a,f){var k=e.doc,b=k.mode,c;p=J(k,p);var d=D(k,p.line);a=nb(e,p.line,a);e=new ja(d.text,e.options.tabSize,a);var g;for(f&&(g=[]);(f||e.pos<p.ch)&&!e.eol();)e.start=e.pos,c=uc(b,e,a.state),f&&g.push(new ze(e,c,gb(k.mode,a.state)));return f?g:new ze(e,c,a.state)}function ob(e,p){if(e)for(;;){var a=e.match(/(?:^|\s+)line-(background-)?(\S+)/);
if(!a)break;e=e.slice(0,a.index)+e.slice(a.index+a[0].length);var f=a[1]?"bgClass":"textClass";null==p[f]?p[f]=a[2]:RegExp("(?:^|s)"+a[2]+"(?:$|s)").test(p[f])||(p[f]+=" "+a[2])}return e}function rc(e,p,a,f,k,b,c){var d=a.flattenSpans;null==d&&(d=e.options.flattenSpans);var g=0,m=null,l=new ja(p,e.options.tabSize,f),n,v=e.options.addModeClass&&[null];for(""==p&&ob(tc(a,f.state),b);!l.eol();){l.pos>e.options.maxHighlightLength?(d=!1,c&&sc(e,p,f,l.pos),l.pos=p.length,n=null):n=ob(uc(a,l,f.state,v),
b);if(v){var h=v[0].name;h&&(n="m-"+(n?h+" "+n:h))}if(!d||m!=n){for(;g<l.start;)g=Math.min(l.start,g+5E3),k(g,m);m=n}l.start=l.pos}for(;g<l.pos;)e=Math.min(l.pos,g+5E3),k(e,m),g=e}function Wb(e,p,E){for(var f,k,b=e.doc,c=E?-1:p-(e.doc.mode.innerMode?1E3:100);p>c;--p){if(p<=b.first)return b.first;var d=D(b,p-1),g=d.stateAfter;if(g&&(!E||p+(g instanceof gd?g.lookAhead:0)<=b.modeFrontier))return p;d=a(d.text,null,e.options.tabSize);if(null==k||f>d)k=p-1,f=d}return k}function pb(e,p){e.modeFrontier=Math.min(e.modeFrontier,
p);if(!(e.highlightFrontier<p-10)){for(var a=e.first,f=p-1;f>a;f--){var k=D(e,f).stateAfter;if(k&&(!(k instanceof gd)||f+k.lookAhead<p)){a=f+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,a)}}function T(e,p){if(!e||/^\s*$/.test(e))return null;var a=p.addModeClass?og:pg;return a[e]||(a[e]=e.replace(/\S+/g,"cm-$&"))}function Xb(e,p){var a=q("span",null,null,ta?"padding-right: .1px":null),a={pre:q("pre",[a],"CodeMirror-line"),content:a,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(R||ta)&&
e.getOption("lineWrapping")};p.measure={};for(var f=0;f<=(p.rest?p.rest.length:0);f++){var k=f?p.rest[f-1]:p.line,b=void 0;a.pos=0;a.addToken=hd;var c;c=e.display.measure;if(null!=Id)c=Id;else{var d=x(c,document.createTextNode("A\u062eA")),g=Yb(d,0,1).getBoundingClientRect(),d=Yb(d,1,2).getBoundingClientRect();r(c);c=g&&g.left!=g.right?Id=3>d.right-g.right:!1}c&&(b=Da(k,e.doc.direction))&&(a.addToken=Jd(a.addToken,b));a.map=[];c=p!=e.display.externalMeasured&&L(k);a:{b=a;c=fd(e,k,c);var m=k.markedSpans,
g=k.text,d=0;if(m)for(var l=g.length,n=0,v=1,h="",u=void 0,t=void 0,F=0,ya=void 0,s=void 0,V=void 0,z=void 0,K=void 0;;){if(F==n){for(var ya=s=V=z=t="",K=null,F=Infinity,w=[],wa=void 0,B=0;B<m.length;++B){var y=m[B],la=y.marker;"bookmark"==la.type&&y.from==n&&la.widgetNode?w.push(la):y.from<=n&&(null==y.to||y.to>n||la.collapsed&&y.to==n&&y.from==n)?(null!=y.to&&y.to!=n&&F>y.to&&(F=y.to,s=""),la.className&&(ya+=" "+la.className),la.css&&(t=(t?t+";":"")+la.css),la.startStyle&&y.from==n&&(V+=" "+la.startStyle),
la.endStyle&&y.to==F&&(wa||(wa=[])).push(la.endStyle,y.to),la.title&&!z&&(z=la.title),la.collapsed&&(!K||0>ha(K.marker,la))&&(K=y)):y.from>n&&F>y.from&&(F=y.from)}if(wa)for(B=0;B<wa.length;B+=2)wa[B+1]==F&&(s+=" "+wa[B]);if(!K||K.from==n)for(wa=0;wa<w.length;++wa)wb(b,0,w[wa]);if(K&&(K.from||0)==n){wb(b,(null==K.to?l+1:K.to)-n,K.marker,null==K.from);if(null==K.to)break a;K.to==n&&(K=!1)}}if(n>=l)break;for(w=Math.min(l,F);;){if(h){wa=n+h.length;K||(B=wa>w?h.slice(0,w-n):h,b.addToken(b,B,u?u+ya:ya,
V,n+B.length==F?s:"",z,t));if(wa>=w){h=h.slice(w-n);n=w;break}n=wa;V=""}h=g.slice(d,d=c[v++]);u=T(c[v++],b.cm.options)}}else for(m=1;m<c.length;m+=2)b.addToken(b,g.slice(d,d=c[m]),T(c[m+1],b.cm.options))}k.styleClasses&&(k.styleClasses.bgClass&&(a.bgClass=C(k.styleClasses.bgClass,a.bgClass||"")),k.styleClasses.textClass&&(a.textClass=C(k.styleClasses.textClass,a.textClass||"")));0==a.map.length&&a.map.push(0,0,a.content.appendChild(ed(e.display.measure)));0==f?(p.measure.map=a.map,p.measure.cache=
{}):((p.measure.maps||(p.measure.maps=[])).push(a.map),(p.measure.caches||(p.measure.caches=[])).push({}))}ta&&(f=a.content.lastChild,/\bcm-tab\b/.test(f.className)||f.querySelector&&f.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack");P(e,"renderLine",e,p.line,a.pre);a.pre.className&&(a.textClass=C(a.pre.className,a.textClass||""));return a}function id(e){var p=s("span","\u2022","cm-invalidchar");p.title="\\u"+e.charCodeAt(0).toString(16);p.setAttribute("aria-label",p.title);return p}
function hd(e,p,a,f,k,b,c){if(p){var d;if(e.splitSpaces)if(d=e.trailingSpace,1<p.length&&!/  /.test(p))d=p;else{for(var g="",l=0;l<p.length;l++){var n=p.charAt(l);" "!=n||!d||l!=p.length-1&&32!=p.charCodeAt(l+1)||(n="\u00a0");g+=n;d=" "==n}d=g}else d=p;g=d;l=e.cm.state.specialChars;n=!1;if(l.test(p)){d=document.createDocumentFragment();for(var v=0;;){l.lastIndex=v;var h=l.exec(p),q=h?h.index-v:p.length-v;if(q){var F=document.createTextNode(g.slice(v,v+q));R&&9>aa?d.appendChild(s("span",[F])):d.appendChild(F);
e.map.push(e.pos,e.pos+q,F);e.col+=q;e.pos+=q}if(!h)break;v+=q+1;q=void 0;"\t"==h[0]?(h=e.cm.options.tabSize,h-=e.col%h,q=d.appendChild(s("span",m(h),"cm-tab")),q.setAttribute("role","presentation"),q.setAttribute("cm-text","\t"),e.col+=h):("\r"==h[0]||"\n"==h[0]?(q=d.appendChild(s("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar")),q.setAttribute("cm-text",h[0])):(q=e.cm.options.specialCharPlaceholder(h[0]),q.setAttribute("cm-text",h[0]),R&&9>aa?d.appendChild(s("span",[q])):d.appendChild(q)),
e.col+=1);e.map.push(e.pos,e.pos+1,q);e.pos++}}else e.col+=p.length,d=document.createTextNode(g),e.map.push(e.pos,e.pos+p.length,d),R&&9>aa&&(n=!0),e.pos+=p.length;e.trailingSpace=32==g.charCodeAt(p.length-1);if(a||f||k||n||c)return p=a||"",f&&(p+=f),k&&(p+=k),f=s("span",[d],p,c),b&&(f.title=b),e.content.appendChild(f);e.content.appendChild(d)}}function Jd(e,p){return function(a,f,k,b,c,d,g){k=k?k+" cm-force-border":"cm-force-border";for(var m=a.pos,l=m+f.length;;){for(var n=void 0,v=0;v<p.length&&
!(n=p[v],n.to>m&&n.from<=m);v++);if(n.to>=l)return e(a,f,k,b,c,d,g);e(a,f.slice(0,n.to-m),k,b,null,d,g);b=null;f=f.slice(n.to-m);m=n.to}}}function wb(e,p,a,f){var k=!f&&a.widgetNode;k&&e.map.push(e.pos,e.pos+p,k);!f&&e.cm.display.input.needsContentAttribute&&(k||(k=e.content.appendChild(document.createElement("span"))),k.setAttribute("cm-marker",a.id));k&&(e.cm.display.input.setUneditable(k),e.content.appendChild(k));e.pos+=p;e.trailingSpace=!1}function Db(e,p,a){for(var f=this.line=p,k;f=Ja(f,!1);)f=
f.find(1,!0).line,(k||(k=[])).push(f);this.size=(this.rest=k)?L(F(this.rest))-a+1:1;this.node=this.text=null;this.hidden=ia(e,p)}function Zb(e,a,E){var f=[],k;for(k=a;k<E;)a=new Db(e.doc,D(e.doc,k),k),k+=a.size,f.push(a);return f}function Kd(e,a){var E=e.ownsGroup;if(E)try{var f=E.delayedCallbacks,k=0;do{for(;k<f.length;k++)f[k].call(null);for(var b=0;b<E.ops.length;b++){var c=E.ops[b];if(c.cursorActivityHandlers)for(;c.cursorActivityCalled<c.cursorActivityHandlers.length;)c.cursorActivityHandlers[c.cursorActivityCalled++].call(null,
c.cm)}}while(k<f.length)}finally{$b=null,a(E)}}function y(e,a){var E=e._handlers&&e._handlers[a]||cd;if(E.length){var f=Array.prototype.slice.call(arguments,2),k;$b?k=$b.delayedCallbacks:wc?k=wc:(k=wc=[],setTimeout(Ld,0));for(var b=function(e){k.push(function(){return E[e].apply(null,f)})},c=0;c<E.length;++c)b(c)}}function Ld(){var e=wc;wc=null;for(var a=0;a<e.length;++a)e[a]()}function v(e,a,E,f){for(var k=0;k<a.changes.length;k++){var b=a.changes[k];if("text"==b){var b=e,c=a,d=c.text.className,
g=wa(b,c);c.text==c.node&&(c.node=g.pre);c.text.parentNode.replaceChild(g.pre,c.text);c.text=g.pre;g.bgClass!=c.bgClass||g.textClass!=c.textClass?(c.bgClass=g.bgClass,c.textClass=g.textClass,la(b,c)):d&&(c.text.className=d)}else if("gutter"==b)Ae(e,a,E,f);else if("class"==b)la(e,a);else if("widget"==b){b=e;c=a;d=f;c.alignable&&(c.alignable=null);for(var g=c.node.firstChild,m=void 0;g;g=m)m=g.nextSibling,"CodeMirror-linewidget"==g.className&&c.node.removeChild(g);Be(b,c,d)}}a.changes=null}function ya(e){e.node==
e.text&&(e.node=s("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),R&&8>aa&&(e.node.style.zIndex=2));return e.node}function wa(e,a){var E=e.display.externalMeasured;return E&&E.line==a.line?(e.display.externalMeasured=null,a.measure=E.measure,E.built):Xb(e,a)}function la(e,a){var E=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;E&&(E+=" CodeMirror-linebackground");if(a.background)E?a.background.className=
E:(a.background.parentNode.removeChild(a.background),a.background=null);else if(E){var f=ya(a);a.background=f.insertBefore(s("div",null,E),f.firstChild);e.display.input.setUneditable(a.background)}a.line.wrapClass?ya(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function Ae(e,a,E,f){a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null);a.gutterBackground&&(a.node.removeChild(a.gutterBackground),
a.gutterBackground=null);if(a.line.gutterClass){var k=ya(a);a.gutterBackground=s("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(e.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px");e.display.input.setUneditable(a.gutterBackground);k.insertBefore(a.gutterBackground,a.text)}k=a.line.gutterMarkers;if(e.options.lineNumbers||k){var b=ya(a),c=a.gutter=s("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+
"px");e.display.input.setUneditable(c);b.insertBefore(c,a.text);a.line.gutterClass&&(c.className+=" "+a.line.gutterClass);!e.options.lineNumbers||k&&k["CodeMirror-linenumbers"]||(a.lineNumber=c.appendChild(s("div",Ga(e.options,E),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px")));if(k)for(a=0;a<e.options.gutters.length;++a)E=e.options.gutters[a],(b=k.hasOwnProperty(E)&&k[E])&&c.appendChild(s("div",[b],"CodeMirror-gutter-elt",
"left: "+f.gutterLeft[E]+"px; width: "+f.gutterWidth[E]+"px"))}}function qg(e,a,b,f){var k=wa(e,a);a.text=a.node=k.pre;k.bgClass&&(a.bgClass=k.bgClass);k.textClass&&(a.textClass=k.textClass);la(e,a);Ae(e,a,b,f);Be(e,a,f);return a.node}function Be(e,a,b){Ce(e,a.line,a,b,!0);if(a.rest)for(var f=0;f<a.rest.length;f++)Ce(e,a.rest[f],a,b,!1)}function Ce(e,a,b,f,k){if(a.widgets){var c=ya(b),d=0;for(a=a.widgets;d<a.length;++d){var g=a[d],m=s("div",[g.node],"CodeMirror-linewidget");g.handleMouseEvents||m.setAttribute("cm-ignore-events",
"true");var l=g,n=m,v=f;if(l.noHScroll){(b.alignable||(b.alignable=[])).push(n);var h=v.wrapperWidth;n.style.left=v.fixedPos+"px";l.coverGutter||(h-=v.gutterTotalWidth,n.style.paddingLeft=v.gutterTotalWidth+"px");n.style.width=h+"px"}l.coverGutter&&(n.style.zIndex=5,n.style.position="relative",l.noHScroll||(n.style.marginLeft=-v.gutterTotalWidth+"px"));e.display.input.setUneditable(m);k&&g.above?c.insertBefore(m,b.gutter||b.text):c.appendChild(m);y(g,"redraw")}}}function xc(e){if(null!=e.height)return e.height;
var a=e.doc.cm;if(!a)return 0;if(!u(document.body,e.node)){var b="position: relative;";e.coverGutter&&(b+="margin-left: -"+a.display.gutters.offsetWidth+"px;");e.noHScroll&&(b+="width: "+a.display.wrapper.clientWidth+"px;");x(a.display.measure,s("div",[e.node],null,b))}return e.height=e.node.parentNode.offsetHeight}function qb(e,a){for(var b=a.target||a.srcElement;b!=e.wrapper;b=b.parentNode)if(!b||1==b.nodeType&&"true"==b.getAttribute("cm-ignore-events")||b.parentNode==e.sizer&&b!=e.mover)return!0}
function Md(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function De(e){if(e.cachedPaddingH)return e.cachedPaddingH;var a=x(e.measure,s("pre","x")),a=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,a={left:parseInt(a.paddingLeft),right:parseInt(a.paddingRight)};isNaN(a.left)||isNaN(a.right)||(e.cachedPaddingH=a);return a}function ib(e){return ye-e.display.nativeBarWidth}function Eb(e){return e.display.scroller.clientWidth-ib(e)-e.display.barWidth}function Nd(e){return e.display.scroller.clientHeight-
ib(e)-e.display.barHeight}function Ee(e,a,b){if(e.line==a)return{map:e.measure.map,cache:e.measure.cache};for(var f=0;f<e.rest.length;f++)if(e.rest[f]==a)return{map:e.measure.maps[f],cache:e.measure.caches[f]};for(a=0;a<e.rest.length;a++)if(L(e.rest[a])>b)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}function Od(e,a){if(a>=e.display.viewFrom&&a<e.display.viewTo)return e.display.view[Fb(e,a)];var b=e.display.externalMeasured;if(b&&a>=b.lineN&&a<b.lineN+b.size)return b}function Gb(e,
a){var b=L(a),f=Od(e,b);f&&!f.text?f=null:f&&f.changes&&(v(e,f,b,Pd(e)),e.curOp.forceUpdate=!0);if(!f){var k;k=va(a);f=L(k);k=e.display.externalMeasured=new Db(e.doc,k,f);k.lineN=f;f=k.built=Xb(e,k);k.text=f.pre;x(e.display.lineMeasure,f.pre);f=k}b=Ee(f,a,b);return{line:a,view:f,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function ab(e,a,b,f,k){a.before&&(b=-1);var c=b+(f||"");if(a.cache.hasOwnProperty(c))e=a.cache[c];else{a.rect||(a.rect=a.view.text.getBoundingClientRect());
if(!a.hasHeights){var d=a.view,ba=a.rect,m=e.options.lineWrapping,l=m&&Eb(e);if(!d.measure.heights||m&&d.measure.width!=l){var n=d.measure.heights=[];if(m)for(d.measure.width=l,d=d.text.firstChild.getClientRects(),m=0;m<d.length-1;m++){var l=d[m],v=d[m+1];2<Math.abs(l.bottom-v.bottom)&&n.push((l.bottom+v.top)/2-ba.top)}n.push(ba.bottom-ba.top)}a.hasHeights=!0}n=f;d=Fe(a.map,b,n);f=d.node;ba=d.start;m=d.end;b=d.collapse;var h;if(3==f.nodeType){for(var q=0;4>q;q++){for(;ba&&g(a.line.text.charAt(d.coverStart+
ba));)--ba;for(;d.coverStart+m<d.coverEnd&&g(a.line.text.charAt(d.coverStart+m));)++m;if(R&&9>aa&&0==ba&&m==d.coverEnd-d.coverStart)h=f.parentNode.getBoundingClientRect();else{h=Yb(f,ba,m).getClientRects();m=Ge;if("left"==n)for(l=0;l<h.length&&(m=h[l]).left==m.right;l++);else for(l=h.length-1;0<=l&&(m=h[l]).left==m.right;l--);h=m}if(h.left||h.right||0==ba)break;m=ba;ba-=1;b="right"}if(R&&11>aa){if(q=window.screen)if(q=null!=screen.logicalXDPI)if(q=screen.logicalXDPI!=screen.deviceXDPI)null!=Qd?q=
Qd:(n=x(e.display.measure,s("span","x")),q=n.getBoundingClientRect(),n=Yb(n,0,1).getBoundingClientRect(),q=Qd=1<Math.abs(q.left-n.left));q&&(q=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI,h={left:h.left*q,right:h.right*q,top:h.top*n,bottom:h.bottom*n})}}else 0<ba&&(b=n="right"),h=e.options.lineWrapping&&1<(q=f.getClientRects()).length?q["right"==n?q.length-1:0]:f.getBoundingClientRect();R&&9>aa&&!(ba||h&&(h.left||h.right))&&(h=(h=f.parentNode.getClientRects()[0])?{left:h.left,
right:h.left+yc(e.display),top:h.top,bottom:h.bottom}:Ge);f=h.top-a.rect.top;ba=h.bottom-a.rect.top;q=(f+ba)/2;n=a.view.measure.heights;for(d=0;d<n.length-1&&!(q<n[d]);d++);b={left:("right"==b?h.right:h.left)-a.rect.left,right:("left"==b?h.left:h.right)-a.rect.left,top:d?n[d-1]:0,bottom:n[d]};h.left||h.right||(b.bogus=!0);e.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=ba);e=b;e.bogus||(a.cache[c]=e)}return{left:e.left,right:e.right,top:k?e.rtop:e.top,bottom:k?e.rbottom:e.bottom}}function Fe(e,
a,b){for(var f,k,c,d,g,m,l=0;l<e.length;l+=3){g=e[l];m=e[l+1];if(a<g)k=0,c=1,d="left";else if(a<m)k=a-g,c=k+1;else if(l==e.length-3||a==m&&e[l+3]>a)c=m-g,k=c-1,a>=m&&(d="right");if(null!=k){f=e[l+2];g==m&&b==(f.insertLeft?"left":"right")&&(d=b);if("left"==b&&0==k)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)f=e[(l-=3)+2],d="left";if("right"==b&&k==m-g)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)f=e[(l+=3)+2],d="right";break}}return{node:f,start:k,end:c,collapse:d,coverStart:g,coverEnd:m}}
function He(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var a=0;a<e.rest.length;a++)e.measure.caches[a]={}}function Ie(e){e.display.externalMeasure=null;r(e.display.lineMeasure);for(var a=0;a<e.display.view.length;a++)He(e.display.view[a])}function zc(e){Ie(e);e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null;e.options.lineWrapping||(e.display.maxLineChanged=!0);e.display.lineNumChars=null}function Je(){return jd&&kd?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ke(){return jd&&kd?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Rd(e){var a=0;if(e.widgets)for(var b=0;b<e.widgets.length;++b)e.widgets[b].above&&(a+=xc(e.widgets[b]));return a}function ld(e,a,b,f,k){k||(k=Rd(a),b.top+=k,b.bottom+=k);
if("line"==f)return b;f||(f="local");a=ka(a);a="local"==f?a+e.display.lineSpace.offsetTop:a-e.display.viewOffset;if("page"==f||"window"==f)e=e.display.lineSpace.getBoundingClientRect(),a+=e.top+("window"==f?0:Ke()),f=e.left+("window"==f?0:Je()),b.left+=f,b.right+=f;b.top+=a;b.bottom+=a;return b}function Le(e,a,b){if("div"==b)return a;var f=a.left;a=a.top;"page"==b?(f-=Je(),a-=Ke()):"local"!=b&&b||(b=e.display.sizer.getBoundingClientRect(),f+=b.left,a+=b.top);e=e.display.lineSpace.getBoundingClientRect();
return{left:f-e.left,top:a-e.top}}function Sd(e,a,b,f,k){f||(f=D(e.doc,a.line));var c=f;a=a.ch;f=ab(e,Gb(e,f),a,k);return ld(e,c,f,b)}function bb(e,a,b,f,k,c){function d(a,p){var g=ab(e,k,a,p?"right":"left",c);p?g.left=g.right:g.right=g.left;return ld(e,f,g,b)}function g(e,a,p){return d(p?e-1:e,1==m[a].level!=p)}f=f||D(e.doc,a.line);k||(k=Gb(e,f));var m=Da(f,e.doc.direction),l=a.ch;a=a.sticky;l>=f.text.length?(l=f.text.length,a="before"):0>=l&&(l=0,a="after");if(!m)return d("before"==a?l-1:l,"before"==
a);var n=Ya(m,l,a),h=nc,n=g(l,n,"before"==a);null!=h&&(n.other=g(l,h,"before"!=a));return n}function Me(e,a){var b=0;a=J(e.doc,a);e.options.lineWrapping||(b=yc(e.display)*a.ch);var f=D(e.doc,a.line),k=ka(f)+e.display.lineSpace.offsetTop;return{left:b,right:b,top:k,bottom:k+f.height}}function Td(e,a,b,f,k){e=A(e,a,b);e.xRel=k;f&&(e.outside=!0);return e}function Ud(e,a,b){var f=e.doc;b+=e.display.viewOffset;if(0>b)return Td(f.first,0,null,!0,-1);var k=ga(f,b),c=f.first+f.size-1;if(k>c)return Td(f.first+
f.size-1,D(f,c).text.length,null,!0,1);0>a&&(a=0);for(f=D(f,k);;)if(k=rg(e,f,k,a,b),c=(f=Ja(f,!1))&&f.find(0,!0),f&&(k.ch>c.from.ch||k.ch==c.from.ch&&0<k.xRel))k=L(f=c.to.line);else return k}function Ne(e,a,b,f){f-=Rd(a);a=a.text.length;var k=O(function(a){return ab(e,b,a-1).bottom<=f},a,0);a=O(function(a){return ab(e,b,a).top>f},k,a);return{begin:k,end:a}}function Oe(e,a,b,f){b||(b=Gb(e,a));f=ld(e,a,ab(e,b,f),"line").top;return Ne(e,a,b,f)}function Vd(e,a,b,f){return e.bottom<=b?!1:e.top>b?!0:(f?
e.left:e.right)>a}function rg(e,a,b,f,k){k-=ka(a);var c=Gb(e,a),d=Rd(a),g=0,m=a.text.length,l=!0,n=Da(a,e.doc.direction);n&&(n=(e.options.lineWrapping?sg:tg)(e,a,b,c,n,f,k),g=(l=1!=n.level)?n.from:n.to-1,m=l?n.to:n.from-1);var h=null,v=null,n=O(function(a){var p=ab(e,c,a);p.top+=d;p.bottom+=d;if(!Vd(p,f,k,!1))return!1;p.top<=k&&p.left<=f&&(h=a,v=p);return!0},g,m),q=!1;v?(g=f-v.left<v.right-f,l=g==l,n=h+(l?0:1),l=l?"after":"before",g=g?v.left:v.right):(l||n!=m&&n!=g||n++,l=0==n?"after":n==a.text.length?
"before":ab(e,c,n-(l?1:0)).bottom+d<=k==l?"after":"before",q=bb(e,A(b,n,l),"line",a,c),g=q.left,q=k<q.top||k>=q.bottom);n=M(a.text,n,1);return Td(b,n,l,q,f-g)}function tg(e,a,b,f,k,c,d){var g=O(function(g){g=k[g];var m=1!=g.level;return Vd(bb(e,A(b,m?g.to:g.from,m?"before":"after"),"line",a,f),c,d,!0)},0,k.length-1),m=k[g];if(0<g){var l=1!=m.level,l=bb(e,A(b,l?m.from:m.to,l?"after":"before"),"line",a,f);Vd(l,c,d,!0)&&l.top>d&&(m=k[g-1])}return m}function sg(e,a,b,f,k,c,d){d=Ne(e,a,f,d);b=d.begin;
d=d.end;/\s/.test(a.text.charAt(d-1))&&d--;for(var g=a=null,m=0;m<k.length;m++){var l=k[m];if(!(l.from>=d||l.to<=b)){var n=ab(e,f,1!=l.level?Math.min(d,l.to)-1:Math.max(b,l.from)).right,n=n<c?c-n+1E9:n-c;if(!a||g>n)a=l,g=n}}a||(a=k[k.length-1]);a.from<b&&(a={from:b,to:a.to,level:a.level});a.to>d&&(a={from:a.from,to:d,level:a.level});return a}function Hb(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ib){Ib=s("pre");for(var a=0;49>a;++a)Ib.appendChild(document.createTextNode("x")),
Ib.appendChild(s("br"));Ib.appendChild(document.createTextNode("x"))}x(e.measure,Ib);a=Ib.offsetHeight/50;3<a&&(e.cachedTextHeight=a);r(e.measure);return a||1}function yc(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var a=s("span","xxxxxxxxxx"),b=s("pre",[a]);x(e.measure,b);a=a.getBoundingClientRect();a=(a.right-a.left)/10;2<a&&(e.cachedCharWidth=a);return a||10}function Pd(e){for(var a=e.display,b={},f={},k=a.gutters.clientLeft,c=a.gutters.firstChild,d=0;c;c=c.nextSibling,++d)b[e.options.gutters[d]]=
c.offsetLeft+c.clientLeft+k,f[e.options.gutters[d]]=c.clientWidth;return{fixedPos:Wd(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:b,gutterWidth:f,wrapperWidth:a.wrapper.clientWidth}}function Wd(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Pe(e){var a=Hb(e.display),b=e.options.lineWrapping,f=b&&Math.max(5,e.display.scroller.clientWidth/yc(e.display)-3);return function(k){if(ia(e.doc,k))return 0;var c=0;if(k.widgets)for(var d=0;d<k.widgets.length;d++)k.widgets[d].height&&
(c+=k.widgets[d].height);return b?c+(Math.ceil(k.text.length/f)||1)*a:c+a}}function Xd(e){var a=e.doc,b=Pe(e);a.iter(function(e){var a=b(e);a!=e.height&&qa(e,a)})}function Jb(e,p,b,f){var k=e.display;if(!b&&"true"==(p.target||p.srcElement).getAttribute("cm-not-content"))return null;var c,d;b=k.lineSpace.getBoundingClientRect();try{c=p.clientX-b.left,d=p.clientY-b.top}catch(g){return null}p=Ud(e,c,d);var m;f&&1==p.xRel&&(m=D(e.doc,p.line).text).length==p.ch&&(f=a(m,m.length,e.options.tabSize)-m.length,
p=A(p.line,Math.max(0,Math.round((c-De(e.display).left)/yc(e.display))-f)));return p}function Fb(e,a){if(a>=e.display.viewTo)return null;a-=e.display.viewFrom;if(0>a)return null;for(var b=e.display.view,f=0;f<b.length;f++)if(a-=b[f].size,0>a)return f}function Ac(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Qe(e,a){void 0===a&&(a=!0);for(var b=e.doc,f={},k=f.cursors=document.createDocumentFragment(),c=f.selection=document.createDocumentFragment(),d=0;d<b.sel.ranges.length;d++)if(a||
d!=b.sel.primIndex){var g=b.sel.ranges[d];if(!(g.from().line>=e.display.viewTo||g.to().line<e.display.viewFrom)){var m=g.empty();(m||e.options.showCursorWhenSelecting)&&Re(e,g.head,k);m||ug(e,g,c)}}return f}function Re(e,a,b){a=bb(e,a,"div",null,null,!e.options.singleCursorHeightPerLine);var f=b.appendChild(s("div","\u00a0","CodeMirror-cursor"));f.style.left=a.left+"px";f.style.top=a.top+"px";f.style.height=Math.max(0,a.bottom-a.top)*e.options.cursorHeight+"px";a.other&&(e=b.appendChild(s("div","\u00a0",
"CodeMirror-cursor CodeMirror-secondarycursor")),e.style.display="",e.style.left=a.other.left+"px",e.style.top=a.other.top+"px",e.style.height=0.85*(a.other.bottom-a.other.top)+"px")}function md(e,a){return e.top-a.top||e.left-a.left}function ug(e,a,b){function f(e,a,p,f){0>a&&(a=0);a=Math.round(a);f=Math.round(f);g.appendChild(s("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+a+"px; width: "+(null==p?n-e:p)+"px;\n                             height: "+
(f-a)+"px"))}function k(a,p,b){function k(p,f){return Sd(e,A(a,p),"div",c,f)}function E(a,p,f){a=Oe(e,c,null,a);p="ltr"==p==("after"==f)?"left":"right";f="after"==f?a.begin:a.end-(/\s/.test(c.text.charAt(a.end-1))?2:1);return k(f,p)[p]}var c=D(d,a),g=c.text.length,eb,m,ba=Da(c,d.direction);ca(ba,p||0,null==b?g:b,function(e,a,c,d){var xa="ltr"==c,v=k(e,xa?"left":"right"),Oa=k(a-1,xa?"right":"left"),q=null==p&&0==e,F=null==b&&a==g,t=0==d;d=!ba||d==ba.length-1;3>=Oa.top-v.top?(a=(h?q:F)&&t?l:(xa?v:Oa).left,
f(a,v.top,((h?F:q)&&d?n:(xa?Oa:v).right)-a,v.bottom)):(xa?(xa=h&&q&&t?l:v.left,q=h?n:E(e,c,"before"),e=h?l:E(a,c,"after"),F=h&&F&&d?n:Oa.right):(xa=h?E(e,c,"before"):l,q=!h&&q&&t?n:v.right,e=!h&&F&&d?l:Oa.left,F=h?E(a,c,"after"):n),f(xa,v.top,q-xa,v.bottom),v.bottom<Oa.top&&f(l,v.bottom,null,Oa.top),f(e,Oa.top,F-e,Oa.bottom));if(!eb||0>md(v,eb))eb=v;0>md(Oa,eb)&&(eb=Oa);if(!m||0>md(v,m))m=v;0>md(Oa,m)&&(m=Oa)});return{start:eb,end:m}}var c=e.display,d=e.doc,g=document.createDocumentFragment(),m=De(e.display),
l=m.left,n=Math.max(c.sizerWidth,Eb(e)-c.sizer.offsetLeft)-m.right,h="ltr"==d.direction,c=a.from();a=a.to();if(c.line==a.line)k(c.line,c.ch,a.ch);else{var v=D(d,c.line),m=D(d,a.line),m=va(v)==va(m),c=k(c.line,c.ch,m?v.text.length+1:null).end;a=k(a.line,m?0:null,a.ch).start;m&&(c.top<a.top-2?(f(c.right,c.top,null,c.bottom),f(l,a.top,a.left,a.bottom)):f(c.right,c.top,a.left-c.right,c.bottom));c.bottom<a.top&&f(l,c.bottom,null,a.top)}b.appendChild(g)}function Yd(e){if(e.state.focused){var a=e.display;
clearInterval(a.blinker);var b=!0;a.cursorDiv.style.visibility="";0<e.options.cursorBlinkRate?a.blinker=setInterval(function(){return a.cursorDiv.style.visibility=(b=!b)?"":"hidden"},e.options.cursorBlinkRate):0>e.options.cursorBlinkRate&&(a.cursorDiv.style.visibility="hidden")}}function Se(e){e.state.focused||(e.display.input.focus(),Zd(e))}function Te(e){e.state.delayingBlurEvent=!0;setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Bc(e))},100)}function Zd(e,a){e.state.delayingBlurEvent&&
(e.state.delayingBlurEvent=!1);"nocursor"!=e.options.readOnly&&(e.state.focused||(P(e,"focus",e,a),e.state.focused=!0,G(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ta&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Yd(e))}function Bc(e,a){e.state.delayingBlurEvent||(e.state.focused&&(P(e,"blur",e,a),e.state.focused=!1,Kb(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),
setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function nd(e){e=e.display;for(var a=e.lineDiv.offsetTop,b=0;b<e.view.length;b++){var f=e.view[b],k=void 0;if(!f.hidden){if(R&&8>aa)var c=f.node.offsetTop+f.node.offsetHeight,k=c-a,a=c;else k=f.node.getBoundingClientRect(),k=k.bottom-k.top;c=f.line.height-k;2>k&&(k=Hb(e));if(0.005<c||-0.005>c)if(qa(f.line,k),Ue(f.line),f.rest)for(k=0;k<f.rest.length;k++)Ue(f.rest[k])}}}function Ue(e){if(e.widgets)for(var a=0;a<e.widgets.length;++a){var b=
e.widgets[a],f=b.node.parentNode;f&&(b.height=f.offsetHeight)}}function $d(e,a,b){var f=b&&null!=b.top?Math.max(0,b.top):e.scroller.scrollTop,f=Math.floor(f-e.lineSpace.offsetTop),k=b&&null!=b.bottom?b.bottom:f+e.wrapper.clientHeight,f=ga(a,f),k=ga(a,k);if(b&&b.ensure){var c=b.ensure.from.line;b=b.ensure.to.line;c<f?(f=c,k=ga(a,ka(D(a,c))+e.wrapper.clientHeight)):Math.min(b,a.lastLine())>=k&&(f=ga(a,ka(D(a,b))-e.wrapper.clientHeight),k=b)}return{from:f,to:Math.max(k,f+1)}}function Ve(e){var a=e.display,
b=a.view;if(a.alignWidgets||a.gutters.firstChild&&e.options.fixedGutter){for(var f=Wd(a)-a.scroller.scrollLeft+e.doc.scrollLeft,k=a.gutters.offsetWidth,c=f+"px",d=0;d<b.length;d++)if(!b[d].hidden){e.options.fixedGutter&&(b[d].gutter&&(b[d].gutter.style.left=c),b[d].gutterBackground&&(b[d].gutterBackground.style.left=c));var g=b[d].alignable;if(g)for(var m=0;m<g.length;m++)g[m].style.left=c}e.options.fixedGutter&&(a.gutters.style.left=f+k+"px")}}function We(e){if(!e.options.lineNumbers)return!1;var a=
e.doc,a=Ga(e.options,a.first+a.size-1),b=e.display;if(a.length!=b.lineNumChars){var f=b.measure.appendChild(s("div",[s("div",a)],"CodeMirror-linenumber CodeMirror-gutter-elt")),k=f.firstChild.offsetWidth,f=f.offsetWidth-k;b.lineGutter.style.width="";b.lineNumInnerWidth=Math.max(k,b.lineGutter.offsetWidth-f)+1;b.lineNumWidth=b.lineNumInnerWidth+f;b.lineNumChars=b.lineNumInnerWidth?a.length:-1;b.lineGutter.style.width=b.lineNumWidth+"px";ae(e);return!0}return!1}function be(e,a){var b=e.display,f=Hb(e.display);
0>a.top&&(a.top=0);var k=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:b.scroller.scrollTop,c=Nd(e),d={};a.bottom-a.top>c&&(a.bottom=a.top+c);var g=e.doc.height+Md(b),m=a.top<f,f=a.bottom>g-f;a.top<k?d.scrollTop=m?0:a.top:a.bottom>k+c&&(c=Math.min(a.top,(f?g:a.bottom)-c),c!=k&&(d.scrollTop=c));k=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:b.scroller.scrollLeft;b=Eb(e)-(e.options.fixedGutter?b.gutters.offsetWidth:0);if(c=a.right-a.left>b)a.right=a.left+b;10>a.left?d.scrollLeft=0:a.left<
k?d.scrollLeft=Math.max(0,a.left-(c?0:10)):a.right>b+k-3&&(d.scrollLeft=a.right+(c?0:10)-b);return d}function od(e,a){null!=a&&(pd(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+a)}function ac(e){pd(e);var a=e.getCursor();e.curOp.scrollToPos={from:a,to:a,margin:e.options.cursorScrollMargin}}function Cc(e,a,b){null==a&&null==b||pd(e);null!=a&&(e.curOp.scrollLeft=a);null!=b&&(e.curOp.scrollTop=b)}function pd(e){var a=e.curOp.scrollToPos;if(a){e.curOp.scrollToPos=null;
var b=Me(e,a.from),f=Me(e,a.to);Xe(e,b,f,a.margin)}}function Xe(e,a,b,f){a=be(e,{left:Math.min(a.left,b.left),top:Math.min(a.top,b.top)-f,right:Math.max(a.right,b.right),bottom:Math.max(a.bottom,b.bottom)+f});Cc(e,a.scrollLeft,a.scrollTop)}function Dc(e,a){2>Math.abs(e.doc.scrollTop-a)||(sb||ce(e,{top:a}),Ye(e,a,!0),sb&&ce(e),Ec(e,100))}function Ye(e,a,b){a=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,a);if(e.display.scroller.scrollTop!=a||b)e.doc.scrollTop=a,e.display.scrollbars.setScrollTop(a),
e.display.scroller.scrollTop!=a&&(e.display.scroller.scrollTop=a)}function Lb(e,a,b,f){a=Math.min(a,e.display.scroller.scrollWidth-e.display.scroller.clientWidth);(b?a==e.doc.scrollLeft:2>Math.abs(e.doc.scrollLeft-a))&&!f||(e.doc.scrollLeft=a,Ve(e),e.display.scroller.scrollLeft!=a&&(e.display.scroller.scrollLeft=a),e.display.scrollbars.setScrollLeft(a))}function Fc(e){var a=e.display,b=a.gutters.offsetWidth,f=Math.round(e.doc.height+Md(e.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,
scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:e.options.fixedGutter?b:0,docHeight:f,scrollHeight:f+ib(e)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:b}}function bc(e,a){a||(a=Fc(e));var b=e.display.barWidth,f=e.display.barHeight;Ze(e,a);for(var k=0;4>k&&b!=e.display.barWidth||f!=e.display.barHeight;k++)b!=e.display.barWidth&&e.options.lineWrapping&&nd(e),Ze(e,Fc(e)),b=e.display.barWidth,f=e.display.barHeight}function Ze(e,
a){var b=e.display,f=b.scrollbars.update(a);b.sizer.style.paddingRight=(b.barWidth=f.right)+"px";b.sizer.style.paddingBottom=(b.barHeight=f.bottom)+"px";b.heightForcer.style.borderBottom=f.bottom+"px solid transparent";f.right&&f.bottom?(b.scrollbarFiller.style.display="block",b.scrollbarFiller.style.height=f.bottom+"px",b.scrollbarFiller.style.width=f.right+"px"):b.scrollbarFiller.style.display="";f.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(b.gutterFiller.style.display=
"block",b.gutterFiller.style.height=f.bottom+"px",b.gutterFiller.style.width=a.gutterWidth+"px"):b.gutterFiller.style.display=""}function $e(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Kb(e.display.wrapper,e.display.scrollbars.addClass));e.display.scrollbars=new af[e.options.scrollbarStyle](function(a){e.display.wrapper.insertBefore(a,e.display.scrollbarFiller);I(a,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},
0)});a.setAttribute("cm-not-content","true")},function(a,b){"horizontal"==b?Lb(e,a):Dc(e,a)},e);e.display.scrollbars.addClass&&G(e.display.wrapper,e.display.scrollbars.addClass)}function Mb(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++vg};e=e.curOp;$b?$b.ops.push(e):e.ownsGroup=$b=
{ops:[e],delayedCallbacks:[]}}function Nb(e){Kd(e.curOp,function(e){for(var a=0;a<e.ops.length;a++)e.ops[a].cm.curOp=null;e=e.ops;for(a=0;a<e.length;a++){var f=e[a],b=f.cm,c=b.display,d=b,g=d.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=ib(d)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=ib(d)+"px",g.scrollbarsClipped=!0);f.updateMaxLine&&Za(b);f.mustUpdate=
f.viewChanged||f.forceUpdate||null!=f.scrollTop||f.scrollToPos&&(f.scrollToPos.from.line<c.viewFrom||f.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&b.options.lineWrapping;f.update=f.mustUpdate&&new qd(b,f.mustUpdate&&{top:f.scrollTop,ensure:f.scrollToPos},f.forceUpdate)}for(a=0;a<e.length;a++)f=e[a],f.updatedDisplay=f.mustUpdate&&de(f.cm,f.update);for(a=0;a<e.length;a++)if(f=e[a],b=f.cm,c=b.display,f.updatedDisplay&&nd(b),f.barMeasure=Fc(b),c.maxLineChanged&&!b.options.lineWrapping&&(d=f,g=c.maxLine.text.length,
g=ab(b,Gb(b,c.maxLine),g,void 0),d.adjustWidthTo=g.left+3,b.display.sizerWidth=f.adjustWidthTo,f.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+f.adjustWidthTo+ib(b)+b.display.barWidth),f.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+f.adjustWidthTo-Eb(b))),f.updatedDisplay||f.selectionChanged)f.preparedSelection=c.input.prepareSelection();for(a=0;a<e.length;a++)f=e[a],b=f.cm,null!=f.adjustWidthTo&&(b.display.sizer.style.minWidth=f.adjustWidthTo+"px",f.maxScrollLeft<b.doc.scrollLeft&&
Lb(b,Math.min(b.display.scroller.scrollLeft,f.maxScrollLeft),!0),b.display.maxLineChanged=!1),c=f.focus&&f.focus==n(),f.preparedSelection&&b.display.input.showSelection(f.preparedSelection,c),(f.updatedDisplay||f.startHeight!=b.doc.height)&&bc(b,f.barMeasure),f.updatedDisplay&&ee(b,f.barMeasure),f.selectionChanged&&Yd(b),b.state.focused&&f.updateInput&&b.display.input.reset(f.typing),c&&Se(f.cm);for(a=0;a<e.length;a++){f=e[a];b=f.cm;c=b.display;d=b.doc;f.updatedDisplay&&bf(b,f.update);null==c.wheelStartX||
null==f.scrollTop&&null==f.scrollLeft&&!f.scrollToPos||(c.wheelStartX=c.wheelStartY=null);null!=f.scrollTop&&Ye(b,f.scrollTop,f.forceScroll);null!=f.scrollLeft&&Lb(b,f.scrollLeft,!0,!0);if(f.scrollToPos){var g=b,m=J(d,f.scrollToPos.from),l=J(d,f.scrollToPos.to),h=f.scrollToPos.margin;null==h&&(h=0);var v=void 0;g.options.lineWrapping||m!=l||(m=m.ch?A(m.line,"before"==m.sticky?m.ch-1:m.ch,"after"):m,l="before"==m.sticky?A(m.line,m.ch+1,"before"):m);for(var q=0;5>q;q++){var F=!1,v=bb(g,m),t=l&&l!=m?
bb(g,l):v,v={left:Math.min(v.left,t.left),top:Math.min(v.top,t.top)-h,right:Math.max(v.left,t.left),bottom:Math.max(v.bottom,t.bottom)+h},t=be(g,v),u=g.doc.scrollTop,C=g.doc.scrollLeft;null!=t.scrollTop&&(Dc(g,t.scrollTop),1<Math.abs(g.doc.scrollTop-u)&&(F=!0));null!=t.scrollLeft&&(Lb(g,t.scrollLeft),1<Math.abs(g.doc.scrollLeft-C)&&(F=!0));if(!F)break}g=b;l=v;V(g,"scrollCursorIntoView")||(h=g.display,q=h.sizer.getBoundingClientRect(),m=null,0>l.top+q.top?m=!0:l.bottom+q.top>(window.innerHeight||document.documentElement.clientHeight)&&
(m=!1),null==m||wg||(l=s("div","\u200b",null,"position: absolute;\n                         top: "+(l.top-h.viewOffset-g.display.lineSpace.offsetTop)+"px;\n                         height: "+(l.bottom-l.top+ib(g)+h.barHeight)+"px;\n                         left: "+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;"),g.display.lineSpace.appendChild(l),l.scrollIntoView(m),g.display.lineSpace.removeChild(l)))}m=f.maybeHiddenMarkers;g=f.maybeUnhiddenMarkers;if(m)for(l=0;l<m.length;++l)m[l].lines.length||
P(m[l],"hide");if(g)for(m=0;m<g.length;++m)g[m].lines.length&&P(g[m],"unhide");c.wrapper.offsetHeight&&(d.scrollTop=b.display.scroller.scrollTop);f.changeObjs&&P(b,"changes",b,f.changeObjs);f.update&&f.update.finish()}})}function Na(e,a){if(e.curOp)return a();Mb(e);try{return a()}finally{Nb(e)}}function oa(e,a){return function(){if(e.curOp)return a.apply(e,arguments);Mb(e);try{return a.apply(e,arguments)}finally{Nb(e)}}}function za(e){return function(){if(this.curOp)return e.apply(this,arguments);
Mb(this);try{return e.apply(this,arguments)}finally{Nb(this)}}}function pa(e){return function(){var a=this.cm;if(!a||a.curOp)return e.apply(this,arguments);Mb(a);try{return e.apply(this,arguments)}finally{Nb(a)}}}function Ea(e,a,b,f){null==a&&(a=e.doc.first);null==b&&(b=e.doc.first+e.doc.size);f||(f=0);var k=e.display;f&&b<k.viewTo&&(null==k.updateLineNumbers||k.updateLineNumbers>a)&&(k.updateLineNumbers=a);e.curOp.viewChanged=!0;if(a>=k.viewTo)ub&&Ka(e.doc,a)<k.viewTo&&xb(e);else if(b<=k.viewFrom)ub&&
Ca(e.doc,b+f)>k.viewFrom?xb(e):(k.viewFrom+=f,k.viewTo+=f);else if(a<=k.viewFrom&&b>=k.viewTo)xb(e);else if(a<=k.viewFrom){var c=rd(e,b,b+f,1);c?(k.view=k.view.slice(c.index),k.viewFrom=c.lineN,k.viewTo+=f):xb(e)}else if(b>=k.viewTo)(c=rd(e,a,a,-1))?(k.view=k.view.slice(0,c.index),k.viewTo=c.lineN):xb(e);else{var c=rd(e,a,a,-1),d=rd(e,b,b+f,1);c&&d?(k.view=k.view.slice(0,c.index).concat(Zb(e,c.lineN,d.lineN)).concat(k.view.slice(d.index)),k.viewTo+=f):xb(e)}if(e=k.externalMeasured)b<e.lineN?e.lineN+=
f:a<e.lineN+e.size&&(k.externalMeasured=null)}function yb(e,a,c){e.curOp.viewChanged=!0;var f=e.display,k=e.display.externalMeasured;k&&a>=k.lineN&&a<k.lineN+k.size&&(f.externalMeasured=null);a<f.viewFrom||a>=f.viewTo||(e=f.view[Fb(e,a)],null!=e.node&&(e=e.changes||(e.changes=[]),-1==b(e,c)&&e.push(c)))}function xb(e){e.display.viewFrom=e.display.viewTo=e.doc.first;e.display.view=[];e.display.viewOffset=0}function rd(e,a,b,f){var k=Fb(e,a),c=e.display.view;if(!ub||b==e.doc.first+e.doc.size)return{index:k,
lineN:b};for(var d=e.display.viewFrom,g=0;g<k;g++)d+=c[g].size;if(d!=a){if(0<f){if(k==c.length-1)return null;a=d+c[k].size-a;k++}else a=d-a;b+=a}for(;Ka(e.doc,b)!=b;){if(k==(0>f?0:c.length-1))return null;b+=f*c[k-(0>f?1:0)].size;k+=f}return{index:k,lineN:b}}function cf(e){e=e.display.view;for(var a=0,b=0;b<e.length;b++){var f=e[b];f.hidden||f.node&&!f.changes||++a}return a}function Ec(e,a){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(a,l(xg,e))}function xg(e){var a=e.doc;if(!(a.highlightFrontier>=
e.display.viewTo)){var b=+new Date+e.options.workTime,f=nb(e,a.highlightFrontier),k=[];a.iter(f.line,Math.min(a.first+a.size,e.display.viewTo+500),function(c){if(f.line>=e.display.viewFrom){var d=c.styles,g=c.text.length>e.options.maxHighlightLength?gb(a.mode,f.state):null,m=qc(e,c,f,!0);g&&(f.state=g);c.styles=m.styles;g=c.styleClasses;(m=m.classes)?c.styleClasses=m:g&&(c.styleClasses=null);m=!d||d.length!=c.styles.length||g!=m&&(!g||!m||g.bgClass!=m.bgClass||g.textClass!=m.textClass);for(g=0;!m&&
g<d.length;++g)m=d[g]!=c.styles[g];m&&k.push(f.line);c.stateAfter=f.save()}else c.text.length<=e.options.maxHighlightLength&&sc(e,c.text,f),c.stateAfter=0==f.line%5?f.save():null;f.nextLine();if(+new Date>b)return Ec(e,e.options.workDelay),!0});a.highlightFrontier=f.line;a.modeFrontier=Math.max(a.modeFrontier,f.line);k.length&&Na(e,function(){for(var a=0;a<k.length;a++)yb(e,k[a],"text")})}}function de(e,a){var b=e.display,f=e.doc;if(a.editorIsHidden)return xb(e),!1;if(!a.force&&a.visible.from>=b.viewFrom&&
a.visible.to<=b.viewTo&&(null==b.updateLineNumbers||b.updateLineNumbers>=b.viewTo)&&b.renderedView==b.view&&0==cf(e))return!1;We(e)&&(xb(e),a.dims=Pd(e));var k=f.first+f.size,c=Math.max(a.visible.from-e.options.viewportMargin,f.first),d=Math.min(k,a.visible.to+e.options.viewportMargin);b.viewFrom<c&&20>c-b.viewFrom&&(c=Math.max(f.first,b.viewFrom));b.viewTo>d&&20>b.viewTo-d&&(d=Math.min(k,b.viewTo));ub&&(c=Ka(e.doc,c),d=Ca(e.doc,d));f=c!=b.viewFrom||d!=b.viewTo||b.lastWrapHeight!=a.wrapperHeight||
b.lastWrapWidth!=a.wrapperWidth;k=e.display;0==k.view.length||c>=k.viewTo||d<=k.viewFrom?(k.view=Zb(e,c,d),k.viewFrom=c):(k.viewFrom>c?k.view=Zb(e,c,k.viewFrom).concat(k.view):k.viewFrom<c&&(k.view=k.view.slice(Fb(e,c))),k.viewFrom=c,k.viewTo<d?k.view=k.view.concat(Zb(e,k.viewTo,d)):k.viewTo>d&&(k.view=k.view.slice(0,Fb(e,d))));k.viewTo=d;b.viewOffset=ka(D(e.doc,b.viewFrom));e.display.mover.style.top=b.viewOffset+"px";d=cf(e);if(!f&&0==d&&!a.force&&b.renderedView==b.view&&(null==b.updateLineNumbers||
b.updateLineNumbers>=b.viewTo))return!1;e.hasFocus()?c=null:(c=n())&&u(e.display.lineDiv,c)?(c={activeElt:c},window.getSelection&&(k=window.getSelection(),k.anchorNode&&k.extend&&u(e.display.lineDiv,k.anchorNode)&&(c.anchorNode=k.anchorNode,c.anchorOffset=k.anchorOffset,c.focusNode=k.focusNode,c.focusOffset=k.focusOffset))):c=null;4<d&&(b.lineDiv.style.display="none");yg(e,b.updateLineNumbers,a.dims);4<d&&(b.lineDiv.style.display="");b.renderedView=b.view;(d=c)&&d.activeElt&&d.activeElt!=n()&&(d.activeElt.focus(),
d.anchorNode&&u(document.body,d.anchorNode)&&u(document.body,d.focusNode)&&(c=window.getSelection(),k=document.createRange(),k.setEnd(d.anchorNode,d.anchorOffset),k.collapse(!1),c.removeAllRanges(),c.addRange(k),c.extend(d.focusNode,d.focusOffset)));r(b.cursorDiv);r(b.selectionDiv);b.gutters.style.height=b.sizer.style.minHeight=0;f&&(b.lastWrapHeight=a.wrapperHeight,b.lastWrapWidth=a.wrapperWidth,Ec(e,400));b.updateLineNumbers=null;return!0}function bf(e,a){for(var b=a.viewport,f=!0;;f=!1){if(!f||
!e.options.lineWrapping||a.oldDisplayWidth==Eb(e))if(b&&null!=b.top&&(b={top:Math.min(e.doc.height+Md(e.display)-Nd(e),b.top)}),a.visible=$d(e.display,e.doc,b),a.visible.from>=e.display.viewFrom&&a.visible.to<=e.display.viewTo)break;if(!de(e,a))break;nd(e);f=Fc(e);Ac(e);bc(e,f);ee(e,f);a.force=!1}a.signal(e,"update",e);if(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)a.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=
e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo}function ce(e,a){var b=new qd(e,a);if(de(e,b)){nd(e);bf(e,b);var f=Fc(e);Ac(e);bc(e,f);ee(e,f);b.finish()}}function yg(e,a,c){function f(a){var p=a.nextSibling;ta&&$a&&e.display.currentWheelTarget==a?a.style.display="none":a.parentNode.removeChild(a);return p}for(var k=e.display,d=e.options.lineNumbers,g=k.lineDiv,m=g.firstChild,l=k.view,k=k.viewFrom,n=0;n<l.length;n++){var h=l[n];if(!h.hidden)if(h.node&&h.node.parentNode==g){for(;m!=h.node;)m=
f(m);m=d&&null!=a&&a<=k&&h.lineNumber;h.changes&&(-1<b(h.changes,"gutter")&&(m=!1),v(e,h,k,c));m&&(r(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(Ga(e.options,k))));m=h.node.nextSibling}else{var q=qg(e,h,k,c);g.insertBefore(q,m)}k+=h.size}for(;m;)m=f(m)}function ae(e){e.display.sizer.style.marginLeft=e.display.gutters.offsetWidth+"px"}function ee(e,a){e.display.sizer.style.minHeight=a.docHeight+"px";e.display.heightForcer.style.top=a.docHeight+"px";e.display.gutters.style.height=
a.docHeight+e.display.barHeight+ib(e)+"px"}function df(e){var a=e.display.gutters,b=e.options.gutters;r(a);for(var f=0;f<b.length;++f){var k=b[f],c=a.appendChild(s("div",null,"CodeMirror-gutter "+k));"CodeMirror-linenumbers"==k&&(e.display.lineGutter=c,c.style.width=(e.display.lineNumWidth||1)+"px")}a.style.display=f?"":"none";ae(e)}function fe(e){var a=b(e.gutters,"CodeMirror-linenumbers");-1==a&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<a&&!e.lineNumbers&&(e.gutters=
e.gutters.slice(0),e.gutters.splice(a,1))}function ef(e){var a=e.wheelDeltaX,b=e.wheelDeltaY;null==a&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(a=e.detail);null==b&&e.detail&&e.axis==e.VERTICAL_AXIS?b=e.detail:null==b&&(b=e.wheelDelta);return{x:a,y:b}}function zg(e){e=ef(e);e.x*=Ta;e.y*=Ta;return e}function ff(e,a){var b=ef(a),f=b.x,b=b.y,k=e.display,c=k.scroller,d=c.scrollWidth>c.clientWidth,g=c.scrollHeight>c.clientHeight;if(f&&d||b&&g){if(b&&$a&&ta){var d=a.target,m=k.view;a:for(;d!=c;d=d.parentNode)for(var l=
0;l<m.length;l++)if(m[l].node==d){e.display.currentWheelTarget=d;break a}}!f||sb||cb||null==Ta?(b&&null!=Ta&&(g=b*Ta,d=e.doc.scrollTop,m=d+k.wrapper.clientHeight,0>g?d=Math.max(0,d+g-50):m=Math.min(e.doc.height,m+g+50),ce(e,{top:d,bottom:m})),20>sd&&(null==k.wheelStartX?(k.wheelStartX=c.scrollLeft,k.wheelStartY=c.scrollTop,k.wheelDX=f,k.wheelDY=b,setTimeout(function(){if(null!=k.wheelStartX){var e=c.scrollLeft-k.wheelStartX,a=c.scrollTop-k.wheelStartY,e=a&&k.wheelDY&&a/k.wheelDY||e&&k.wheelDX&&e/
k.wheelDX;k.wheelStartX=k.wheelStartY=null;e&&(Ta=(Ta*sd+e)/(sd+1),++sd)}},200)):(k.wheelDX+=f,k.wheelDY+=b))):(b&&g&&Dc(e,Math.max(0,c.scrollTop+b*Ta)),Lb(e,Math.max(0,c.scrollLeft+f*Ta)),(!b||b&&g)&&Z(a),k.wheelStartX=null)}}function db(e,a){var c=e[a];e.sort(function(e,a){return H(e.from(),a.from())});a=b(e,c);for(c=1;c<e.length;c++){var f=e[c],k=e[c-1];if(0<=H(k.to(),f.from())){var d=Xa(k.from(),f.from()),g=Wa(k.to(),f.to()),f=k.empty()?f.from()==f.head:k.from()==k.head;c<=a&&--a;e.splice(--c,
2,new S(f?g:d,f?d:g))}}return new Ua(e,a)}function rb(e,a){return new Ua([new S(e,a||e)],0)}function zb(e){return e.text?A(e.from.line+e.text.length-1,F(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function gf(e,a){if(0>H(e,a.from))return e;if(0>=H(e,a.to))return zb(a);var b=e.line+a.text.length-(a.to.line-a.from.line)-1,f=e.ch;e.line==a.to.line&&(f+=zb(a).ch-a.to.ch);return A(b,f)}function ge(e,a){for(var b=[],f=0;f<e.sel.ranges.length;f++){var k=e.sel.ranges[f];b.push(new S(gf(k.anchor,a),
gf(k.head,a)))}return db(b,e.sel.primIndex)}function hf(e,a,b){return e.line==a.line?A(b.line,e.ch-a.ch+b.ch):A(b.line+(e.line-a.line),e.ch)}function he(e){e.doc.mode=vb(e.options,e.doc.modeOption);Gc(e)}function Gc(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null);e.styles&&(e.styles=null)});e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first;Ec(e,100);e.state.modeGen++;e.curOp&&Ea(e)}function jf(e,a){return 0==a.from.ch&&0==a.to.ch&&""==F(a.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}
function ie(e,a,b,f){function k(e,b,k){var c=f;e.text=b;e.stateAfter&&(e.stateAfter=null);e.styles&&(e.styles=null);null!=e.order&&(e.order=null);Ia(e);tb(e,k);b=c?c(e):1;b!=e.height&&qa(e,b);y(e,"change",e,a)}function c(e,a){for(var p=[],k=e;k<a;++k)p.push(new cc(m[k],b?b[k]:null,f));return p}var d=a.from,g=a.to,m=a.text,l=D(e,d.line),n=D(e,g.line),h=F(m),v=b?b[m.length-1]:null,q=g.line-d.line;a.full?(e.insert(0,c(0,m.length)),e.remove(m.length,e.size-m.length)):jf(e,a)?(g=c(0,m.length-1),k(n,n.text,
v),q&&e.remove(d.line,q),g.length&&e.insert(d.line,g)):l==n?1==m.length?k(l,l.text.slice(0,d.ch)+h+l.text.slice(g.ch),v):(q=c(1,m.length-1),q.push(new cc(h+l.text.slice(g.ch),v,f)),k(l,l.text.slice(0,d.ch)+m[0],b?b[0]:null),e.insert(d.line+1,q)):1==m.length?(k(l,l.text.slice(0,d.ch)+m[0]+n.text.slice(g.ch),b?b[0]:null),e.remove(d.line+1,q)):(k(l,l.text.slice(0,d.ch)+m[0],b?b[0]:null),k(n,h+n.text.slice(g.ch),v),v=c(1,m.length-1),1<q&&e.remove(d.line+1,q-1),e.insert(d.line+1,v));y(e,"change",e,a)}
function Ob(e,a,b){function f(e,c,d){if(e.linked)for(var g=0;g<e.linked.length;++g){var m=e.linked[g];if(m.doc!=c){var l=d&&m.sharedHist;if(!b||l)a(m.doc,l),f(m.doc,e,l)}}}f(e,null,!0)}function kf(e,a){if(a.cm)throw Error("This document is already in use.");e.doc=a;a.cm=e;Xd(e);he(e);lf(e);e.options.lineWrapping||Za(e);e.options.mode=a.modeOption;Ea(e)}function lf(e){("rtl"==e.doc.direction?G:Kb)(e.display.lineDiv,"CodeMirror-rtl")}function Ag(e){Na(e,function(){lf(e);Ea(e)})}function td(e){this.done=
[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=e||1}function je(e,a){var b={from:lb(a.from),to:zb(a),text:sa(e,a.from,a.to)};mf(e,b,a.from.line,a.to.line+1);Ob(e,function(e){return mf(e,b,a.from.line,a.to.line+1)},!0);return b}function nf(e){for(;e.length;)if(F(e).ranges)e.pop();else break}function of(e,a,b,f){var k=e.history;k.undone.length=0;var c=+new Date,d,g,m;
if(m=k.lastOp==f||k.lastOrigin==a.origin&&a.origin&&("+"==a.origin.charAt(0)&&e.cm&&k.lastModTime>c-e.cm.options.historyEventDelay||"*"==a.origin.charAt(0)))k.lastOp==f?(nf(k.done),d=F(k.done)):k.done.length&&!F(k.done).ranges?d=F(k.done):1<k.done.length&&!k.done[k.done.length-2].ranges?(k.done.pop(),d=F(k.done)):d=void 0,m=d;if(m)g=F(d.changes),0==H(a.from,a.to)&&0==H(a.from,g.to)?g.to=zb(a):d.changes.push(je(e,a));else for((d=F(k.done))&&d.ranges||ud(e.sel,k.done),d={changes:[je(e,a)],generation:k.generation},
k.done.push(d);k.done.length>k.undoDepth;)k.done.shift(),k.done[0].ranges||k.done.shift();k.done.push(b);k.generation=++k.maxGeneration;k.lastModTime=k.lastSelTime=c;k.lastOp=k.lastSelOp=f;k.lastOrigin=k.lastSelOrigin=a.origin;g||P(e,"historyAdded")}function ud(e,a){var b=F(a);b&&b.ranges&&b.equals(e)||a.push(e)}function mf(e,a,b,f){var k=a["spans_"+e.id],c=0;e.iter(Math.max(e.first,b),Math.min(e.first+e.size,f),function(b){b.markedSpans&&((k||(k=a["spans_"+e.id]={}))[c]=b.markedSpans);++c})}function Bg(e){if(!e)return null;
for(var a,b=0;b<e.length;++b)e[b].marker.explicitlyCleared?a||(a=e.slice(0,b)):a&&a.push(e[b]);return a?a.length?a:null:e}function pf(e,a){var b;if(b=a["spans_"+e.id]){for(var f=[],k=0;k<a.text.length;++k)f.push(Bg(b[k]));b=f}else b=null;f=X(e,a);if(!b)return f;if(!f)return b;for(k=0;k<b.length;++k){var c=b[k],d=f[k];if(c&&d){var g=0;a:for(;g<d.length;++g){for(var m=d[g],l=0;l<c.length;++l)if(c[l].marker==m.marker)continue a;c.push(m)}}else d&&(b[k]=d)}return b}function dc(e,a,c){for(var f=[],k=0;k<
e.length;++k){var d=e[k];if(d.ranges)f.push(c?Ua.prototype.deepCopy.call(d):d);else{var d=d.changes,g=[];f.push({changes:g});for(var m=0;m<d.length;++m){var l=d[m],n=void 0;g.push({from:l.from,to:l.to,text:l.text});if(a)for(var h in l)(n=h.match(/^spans_(\d+)$/))&&-1<b(a,Number(n[1]))&&(F(g)[h]=l[h],delete l[h])}}}return f}function ke(e,a,b,f){return f?(e=e.anchor,b&&(f=0>H(a,e),f!=0>H(b,e)?(e=a,a=b):f!=0>H(a,b)&&(a=b)),new S(e,a)):new S(b||a,a)}function vd(e,a,b,f,k){null==k&&(k=e.cm&&(e.cm.display.shift||
e.extend));ra(e,new Ua([ke(e.sel.primary(),a,b,k)],0),f)}function qf(e,a,b){for(var f=[],k=e.cm&&(e.cm.display.shift||e.extend),c=0;c<e.sel.ranges.length;c++)f[c]=ke(e.sel.ranges[c],a[c],null,k);a=db(f,e.sel.primIndex);ra(e,a,b)}function le(e,a,b,f){var k=e.sel.ranges.slice(0);k[a]=b;ra(e,db(k,e.sel.primIndex),f)}function Cg(e,a,b){b={ranges:a.ranges,update:function(a){this.ranges=[];for(var b=0;b<a.length;b++)this.ranges[b]=new S(J(e,a[b].anchor),J(e,a[b].head))},origin:b&&b.origin};P(e,"beforeSelectionChange",
e,b);e.cm&&P(e.cm,"beforeSelectionChange",e.cm,b);return b.ranges!=a.ranges?db(b.ranges,b.ranges.length-1):a}function rf(e,a,b){var f=e.history.done,k=F(f);k&&k.ranges?(f[f.length-1]=a,wd(e,a,b)):ra(e,a,b)}function ra(e,a,b){wd(e,a,b);a=e.sel;var f=e.cm?e.cm.curOp.id:NaN,k=e.history,c=b&&b.origin,d;if(!(d=f==k.lastSelOp)&&(d=c)&&(d=k.lastSelOrigin==c)&&!(d=k.lastModTime==k.lastSelTime&&k.lastOrigin==c)){d=F(k.done);var g=c.charAt(0);d="*"==g||"+"==g&&d.ranges.length==a.ranges.length&&d.somethingSelected()==
a.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}d?k.done[k.done.length-1]=a:ud(a,k.done);k.lastSelTime=+new Date;k.lastSelOrigin=c;k.lastSelOp=f;b&&!1!==b.clearRedo&&nf(k.undone)}function wd(e,a,b){if(La(e,"beforeSelectionChange")||e.cm&&La(e.cm,"beforeSelectionChange"))a=Cg(e,a,b);var f=b&&b.bias||(0>H(a.primary().head,e.sel.primary().head)?-1:1);sf(e,tf(e,a,f,!0));b&&!1===b.scroll||!e.cm||ac(e.cm)}function sf(e,a){a.equals(e.sel)||(e.sel=a,e.cm&&
(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,oc(e.cm)),y(e,"cursorActivity",e))}function uf(e){sf(e,tf(e,e.sel,null,!1))}function tf(e,a,b,f){for(var k,c=0;c<a.ranges.length;c++){var d=a.ranges[c],g=a.ranges.length==e.sel.ranges.length&&e.sel.ranges[c],m=me(e,d.anchor,g&&g.anchor,b,f),g=me(e,d.head,g&&g.head,b,f);if(k||m!=d.anchor||g!=d.head)k||(k=a.ranges.slice(0,c)),k[c]=new S(m,g)}return k?db(k,a.primIndex):a}function ec(e,a,b,f,k){var c=D(e,a.line);if(c.markedSpans)for(var d=0;d<c.markedSpans.length;++d){var g=
c.markedSpans[d],m=g.marker;if((null==g.from||(m.inclusiveLeft?g.from<=a.ch:g.from<a.ch))&&(null==g.to||(m.inclusiveRight?g.to>=a.ch:g.to>a.ch))){if(k&&(P(m,"beforeCursorEnter"),m.explicitlyCleared))if(c.markedSpans){--d;continue}else break;if(m.atomic){if(b){d=m.find(0>f?1:-1);g=void 0;if(0>f?m.inclusiveRight:m.inclusiveLeft)d=vf(e,d,-f,d&&d.line==a.line?c:null);if(d&&d.line==a.line&&(g=H(d,b))&&(0>f?0>g:0<g))return ec(e,d,a,f,k)}b=m.find(0>f?-1:1);if(0>f?m.inclusiveLeft:m.inclusiveRight)b=vf(e,
b,f,b.line==a.line?c:null);return b?ec(e,b,a,f,k):null}}}return a}function me(a,b,c,f,k){f=f||1;b=ec(a,b,c,f,k)||!k&&ec(a,b,c,f,!0)||ec(a,b,c,-f,k)||!k&&ec(a,b,c,-f,!0);return b?b:(a.cantEdit=!0,A(a.first,0))}function vf(a,b,c,f){return 0>c&&0==b.ch?b.line>a.first?J(a,A(b.line-1)):null:0<c&&b.ch==(f||D(a,b.line)).text.length?b.line<a.first+a.size-1?A(b.line+1,0):null:new A(b.line,b.ch+c)}function wf(a){a.setSelection(A(a.firstLine(),0),A(a.lastLine()),jb)}function xf(a,b,c){var f={canceled:!1,from:b.from,
to:b.to,text:b.text,origin:b.origin,cancel:function(){return f.canceled=!0}};c&&(f.update=function(b,p,c,d){b&&(f.from=J(a,b));p&&(f.to=J(a,p));c&&(f.text=c);void 0!==d&&(f.origin=d)});P(a,"beforeChange",a,f);a.cm&&P(a.cm,"beforeChange",a.cm,f);return f.canceled?null:{from:f.from,to:f.to,text:f.text,origin:f.origin}}function fc(a,b,c){if(a.cm){if(!a.cm.curOp)return oa(a.cm,fc)(a,b,c);if(a.cm.state.suppressEdits)return}if(La(a,"beforeChange")||a.cm&&La(a.cm,"beforeChange"))if(b=xf(a,b,!0),!b)return;
if(c=yf&&!c&&fb(a,b.from,b.to))for(var f=c.length-1;0<=f;--f)zf(a,{from:c[f].from,to:c[f].to,text:f?[""]:b.text,origin:b.origin});else zf(a,b)}function zf(a,p){if(1!=p.text.length||""!=p.text[0]||0!=H(p.from,p.to)){var c=ge(a,p);of(a,p,c,a.cm?a.cm.curOp.id:NaN);Hc(a,p,c,X(a,p));var f=[];Ob(a,function(a,e){e||-1!=b(f,a.history)||(Af(a.history,p),f.push(a.history));Hc(a,p,null,X(a,p))})}}function xd(a,p,c){var f=a.cm&&a.cm.state.suppressEdits;if(!f||c){for(var k=a.history,d,g=a.sel,m="undo"==p?k.done:
k.undone,l="undo"==p?k.undone:k.done,n=0;n<m.length&&(d=m[n],c?!d.ranges||d.equals(a.sel):d.ranges);n++);if(n!=m.length){for(k.lastOrigin=k.lastSelOrigin=null;;)if(d=m.pop(),d.ranges){ud(d,l);if(c&&!d.equals(a.sel)){ra(a,d,{clearRedo:!1});return}g=d}else{if(f){m.push(d);return}break}var h=[];ud(g,l);l.push({changes:h,generation:k.generation});k.generation=d.generation||++k.maxGeneration;var v=La(a,"beforeChange")||a.cm&&La(a.cm,"beforeChange");c=function(f){var k=d.changes[f];k.origin=p;if(v&&!xf(a,
k,!1))return m.length=0,{};h.push(je(a,k));var c=f?ge(a,k):F(m);Hc(a,k,c,pf(a,k));!f&&a.cm&&a.cm.scrollIntoView({from:k.from,to:zb(k)});var g=[];Ob(a,function(a,e){e||-1!=b(g,a.history)||(Af(a.history,k),g.push(a.history));Hc(a,k,null,pf(a,k))})};for(f=d.changes.length-1;0<=f;--f)if(k=c(f))return k.v}}}function Bf(a,b){if(0!=b&&(a.first+=b,a.sel=new Ua(K(a.sel.ranges,function(a){return new S(A(a.anchor.line+b,a.anchor.ch),A(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){Ea(a.cm,a.first,a.first-
b,b);for(var c=a.cm.display,f=c.viewFrom;f<c.viewTo;f++)yb(a.cm,f,"gutter")}}function Hc(a,b,c,f){if(a.cm&&!a.cm.curOp)return oa(a.cm,Hc)(a,b,c,f);if(b.to.line<a.first)Bf(a,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var k=b.text.length-1-(a.first-b.from.line);Bf(a,k);b={from:A(a.first,0),to:A(b.to.line+k,b.to.ch),text:[F(b.text)],origin:b.origin}}k=a.lastLine();b.to.line>k&&(b={from:b.from,to:A(k,D(a,k).text.length),text:[b.text[0]],origin:b.origin});
b.removed=sa(a,b.from,b.to);c||(c=ge(a,b));a.cm?Dg(a.cm,b,f):ie(a,b,f);wd(a,c,jb)}}function Dg(a,b,c){var f=a.doc,k=a.display,d=b.from,g=b.to,m=!1,l=d.line;a.options.lineWrapping||(l=L(va(D(f,d.line))),f.iter(l,g.line+1,function(a){if(a==k.maxLine)return m=!0}));-1<f.sel.contains(b.from,b.to)&&oc(a);ie(f,b,c,Pe(a));a.options.lineWrapping||(f.iter(l,d.line+b.text.length,function(a){var e=Qa(a);e>k.maxLineLength&&(k.maxLine=a,k.maxLineLength=e,k.maxLineChanged=!0,m=!1)}),m&&(a.curOp.updateMaxLine=!0));
pb(f,d.line);Ec(a,400);c=b.text.length-(g.line-d.line)-1;b.full?Ea(a):d.line!=g.line||1!=b.text.length||jf(a.doc,b)?Ea(a,d.line,g.line+1,c):yb(a,d.line,"text");c=La(a,"changes");if((f=La(a,"change"))||c)b={from:d,to:g,text:b.text,removed:b.removed,origin:b.origin},f&&y(a,"change",a,b),c&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(b);a.display.selForContextMenu=null}function gc(a,b,c,f,k){f||(f=c);0>H(f,c)&&(f=[f,c],c=f[0],f=f[1]);"string"==typeof b&&(b=a.splitLines(b));fc(a,{from:c,to:f,text:b,
origin:k})}function Cf(a,b,c,f){c<a.line?a.line+=f:b<a.line&&(a.line=b,a.ch=0)}function Df(a,b,c,f){for(var k=0;k<a.length;++k){var d=a[k],g=!0;if(d.ranges)for(d.copied||(d=a[k]=d.deepCopy(),d.copied=!0),g=0;g<d.ranges.length;g++)Cf(d.ranges[g].anchor,b,c,f),Cf(d.ranges[g].head,b,c,f);else{for(var m=0;m<d.changes.length;++m){var l=d.changes[m];if(c<l.from.line)l.from=A(l.from.line+f,l.from.ch),l.to=A(l.to.line+f,l.to.ch);else if(b<=l.to.line){g=!1;break}}g||(a.splice(0,k+1),k=0)}}}function Af(a,b){var c=
b.from.line,f=b.to.line,k=b.text.length-(f-c)-1;Df(a.done,c,f,k);Df(a.undone,c,f,k)}function Ic(a,b,c,f){var k=b,d=b;"number"==typeof b?d=D(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):k=L(b);if(null==k)return null;f(d,k)&&a.cm&&yb(a.cm,k,c);return d}function Jc(a){this.lines=a;this.parent=null;for(var b=0,c=0;c<a.length;++c)a[c].parent=this,b+=a[c].height;this.height=b}function Kc(a){this.children=a;for(var b=0,c=0,f=0;f<a.length;++f){var k=a[f],b=b+k.chunkSize(),c=c+k.height;k.parent=this}this.size=
b;this.height=c;this.parent=null}function Eg(a,b,c,f){var k=new Lc(a,c,f),d=a.cm;d&&k.noHScroll&&(d.display.alignWidgets=!0);Ic(a,b,"widget",function(b){var f=b.widgets||(b.widgets=[]);null==k.insertAt?f.push(k):f.splice(Math.min(f.length-1,Math.max(0,k.insertAt)),0,k);k.line=b;d&&!ia(a,b)&&(f=ka(b)<a.scrollTop,qa(b,b.height+xc(k)),f&&od(d,k.height),d.curOp.forceUpdate=!0);return!0});d&&y(d,"lineWidgetAdded",d,k,"number"==typeof b?b:L(b));return k}function hc(a,b,c,f,k){if(f&&f.shared)return Fg(a,
b,c,f,k);if(a.cm&&!a.cm.curOp)return oa(a.cm,hc)(a,b,c,f,k);var g=new Ab(a,k);k=H(b,c);f&&d(f,g,!1);if(0<k||0==k&&!1!==g.clearWhenEmpty)return g;g.replacedWith&&(g.collapsed=!0,g.widgetNode=q("span",[g.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||g.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(g.widgetNode.insertLeft=!0));if(g.collapsed){if(Q(a,b.line,b,c,g)||b.line!=c.line&&Q(a,c.line,b,c,g))throw Error("Inserting collapsed marker partially overlapping an existing one");
ub=!0}g.addToHistory&&of(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var m=b.line,l=a.cm,n;a.iter(m,c.line+1,function(a){l&&g.collapsed&&!l.options.lineWrapping&&va(a)==l.display.maxLine&&(n=!0);g.collapsed&&m!=b.line&&qa(a,0);var e=new ea(g,m==b.line?b.ch:null,m==c.line?c.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([e]):[e];e.marker.attachLine(a);++m});g.collapsed&&a.iter(b.line,c.line+1,function(b){ia(a,b)&&qa(b,0)});g.clearOnEnter&&I(g,"beforeCursorEnter",function(){return g.clear()});
g.readOnly&&(yf=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());g.collapsed&&(g.id=++Ef,g.atomic=!0);if(l){n&&(l.curOp.updateMaxLine=!0);if(g.collapsed)Ea(l,b.line,c.line+1);else if(g.className||g.title||g.startStyle||g.endStyle||g.css)for(f=b.line;f<=c.line;f++)yb(l,f,"text");g.atomic&&uf(l.doc);y(l,"markerAdded",l,g)}return g}function Fg(a,b,c,f,k){f=d(f);f.shared=!1;var g=[hc(a,b,c,f,k)],m=g[0],l=f.widgetNode;Ob(a,function(a){l&&(f.widgetNode=l.cloneNode(!0));g.push(hc(a,
J(a,b),J(a,c),f,k));for(var e=0;e<a.linked.length;++e)if(a.linked[e].isParent)return;m=F(g)});return new Mc(g,m)}function Ff(a){return a.findMarks(A(a.first,0),a.clipPos(A(a.lastLine())),function(a){return a.parent})}function Gg(a){for(var p=function(f){f=a[f];var p=[f.primary.doc];Ob(f.primary.doc,function(a){return p.push(a)});for(var c=0;c<f.markers.length;c++){var d=f.markers[c];-1==b(p,d.doc)&&(d.parent=null,f.markers.splice(c--,1))}},c=0;c<a.length;c++)p(c)}function Hg(a){var p=this;Gf(p);if(!V(p,
a)&&!qb(p.display,a)){Z(a);R&&(Hf=+new Date);var c=Jb(p,a,!0),f=a.dataTransfer.files;if(c&&!p.isReadOnly())if(f&&f.length&&window.FileReader&&window.File)for(var k=f.length,d=Array(k),g=0,m=function(a,e){if(!p.options.allowDropFileTypes||-1!=b(p.options.allowDropFileTypes,a.type)){var f=new FileReader;f.onload=oa(p,function(){var a=f.result;/[\x00-\x08\x0e-\x1f]{2}/.test(a)&&(a="");d[e]=a;++g==k&&(c=J(p.doc,c),a={from:c,to:c,text:p.doc.splitLines(d.join(p.doc.lineSeparator())),origin:"paste"},fc(p.doc,
a),rf(p.doc,rb(c,zb(a))))});f.readAsText(a)}},l=0;l<k;++l)m(f[l],l);else if(p.state.draggingText&&-1<p.doc.sel.contains(c))p.state.draggingText(a),setTimeout(function(){return p.display.input.focus()},20);else try{if(m=a.dataTransfer.getData("Text")){p.state.draggingText&&!p.state.draggingText.copy&&(l=p.listSelections());wd(p.doc,rb(c,c));if(l)for(f=0;f<l.length;++f)gc(p.doc,"",l[f].anchor,l[f].head,"drag");p.replaceSelection(m,"around","paste");p.display.input.focus()}}catch(n){}}}function Gf(a){a.display.dragCursor&&
(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function If(a){if(document.getElementsByClassName)for(var b=document.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var f=b[c].CodeMirror;f&&a(f)}}function Ig(){var a;I(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;If(Jg)},100))});I(window,"blur",function(){return If(Bc)})}function Jg(a){var b=a.display;if(b.lastWrapHeight!=b.wrapper.clientHeight||b.lastWrapWidth!=b.wrapper.clientWidth)b.cachedCharWidth=
b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize()}function Kg(a){var b=a.split(/-(?!$)/);a=b[b.length-1];for(var c,f,k,d,g=0;g<b.length-1;g++){var m=b[g];if(/^(cmd|meta|m)$/i.test(m))d=!0;else if(/^a(lt)?$/i.test(m))c=!0;else if(/^(c|ctrl|control)$/i.test(m))f=!0;else if(/^s(hift)?$/i.test(m))k=!0;else throw Error("Unrecognized modifier name: "+m);}c&&(a="Alt-"+a);f&&(a="Ctrl-"+a);d&&(a="Cmd-"+a);k&&(a="Shift-"+a);return a}function Lg(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var f=
a[c];if(!/^(name|fallthrough|(de|at)tach)$/.test(c)){if("..."!=f)for(var k=K(c.split(" "),Kg),d=0;d<k.length;d++){var g=void 0,m=void 0;d==k.length-1?(m=k.join(" "),g=f):(m=k.slice(0,d+1).join(" "),g="...");var l=b[m];if(!l)b[m]=g;else if(l!=g)throw Error("Inconsistent bindings for "+m);}delete a[c]}}for(var n in b)a[n]=b[n];return a}function ic(a,b,c,f){b=yd(b);var k=b.call?b.call(a,f):b[a];if(!1===k)return"nothing";if("..."===k)return"multi";if(null!=k&&c(k))return"handled";if(b.fallthrough){if("[object Array]"!=
Object.prototype.toString.call(b.fallthrough))return ic(a,b.fallthrough,c,f);for(k=0;k<b.fallthrough.length;k++){var d=ic(a,b.fallthrough[k],c,f);if(d)return d}}}function Jf(a){a="string"==typeof a?a:Bb[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function Kf(a,b,c){var f=a;b.altKey&&"Alt"!=f&&(a="Alt-"+a);(Lf?b.metaKey:b.ctrlKey)&&"Ctrl"!=f&&(a="Ctrl-"+a);(Lf?b.ctrlKey:b.metaKey)&&"Cmd"!=f&&(a="Cmd-"+a);!c&&b.shiftKey&&"Shift"!=f&&(a="Shift-"+a);return a}function Mf(a,b){if(cb&&34==
a.keyCode&&a["char"])return!1;var c=Bb[a.keyCode];if(null==c||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(c=a.code);return Kf(c,a,b)}function yd(a){return"string"==typeof a?Nc[a]:a}function jc(a,b){for(var c=a.doc.sel.ranges,f=[],k=0;k<c.length;k++){for(var d=b(c[k]);f.length&&0>=H(d.from,F(f).to);){var g=f.pop();if(0>H(g.from,d.from)){d.from=g.from;break}}f.push(d)}Na(a,function(){for(var b=f.length-1;0<=b;b--)gc(a.doc,"",f[b].from,f[b].to,"+delete");ac(a)})}function ne(a,b,c){b=M(a.text,b+c,c);
return 0>b||b>a.text.length?null:b}function oe(a,b,c){a=ne(a,b.ch,c);return null==a?null:new A(b.line,a,0>c?"after":"before")}function pe(a,b,c,f,k){if(a&&(a=Da(c,b.doc.direction))){a=0>k?F(a):a[0];var d=0>k==(1==a.level)?"after":"before",g;if(0<a.level||"rtl"==b.doc.direction){var m=Gb(b,c);g=0>k?c.text.length-1:0;var l=ab(b,m,g).top;g=O(function(a){return ab(b,m,a).top==l},0>k==(1==a.level)?a.from:a.to-1,g);"before"==d&&(g=ne(c,g,1))}else g=0>k?a.to:a.from;return new A(f,g,d)}return new A(f,0>k?
c.text.length:0,0>k?"before":"after")}function Mg(a,b,c,f){var k=Da(b,a.doc.direction);if(!k)return oe(b,c,f);c.ch>=b.text.length?(c.ch=b.text.length,c.sticky="before"):0>=c.ch&&(c.ch=0,c.sticky="after");var d=Ya(k,c.ch,c.sticky),g=k[d];if("ltr"==a.doc.direction&&0==g.level%2&&(0<f?g.to>c.ch:g.from<c.ch))return oe(b,c,f);var m=function(a,e){return ne(b,a instanceof A?a.ch:a,e)},l,n=function(f){if(!a.options.lineWrapping)return{begin:0,end:b.text.length};l=l||Gb(a,b);return Oe(a,b,l,f)},h=n("before"==
c.sticky?m(c,-1):c.ch);if("rtl"==a.doc.direction||1==g.level){var v=1==g.level==0>f,q=m(c,v?1:-1);if(null!=q&&(v?q<=g.to&&q<=h.end:q>=g.from&&q>=h.begin))return new A(c.line,q,v?"before":"after")}g=function(a,e,b){for(var f=function(a,e){return e?new A(c.line,m(a,1),"before"):new A(c.line,a,"after")};0<=a&&a<k.length;a+=e){var p=k[a],d=0<e==(1!=p.level),g=d?b.begin:m(b.end,-1);if(p.from<=g&&g<p.to)return f(g,d);g=d?p.from:m(p.to,-1);if(b.begin<=g&&g<b.end)return f(g,d)}};if(d=g(d+f,f,h))return d;
h=0<f?h.end:m(h.begin,-1);return null==h||0<f&&h==b.text.length||!(d=g(0<f?0:k.length-1,f,n(h)))?null:d}function Nf(a,b){var c=D(a.doc,b),f=va(c);f!=c&&(b=L(f));return pe(!0,a,f,b,1)}function Of(a,b){var c=Nf(a,b.line),f=D(a.doc,c.line),k=Da(f,a.doc.direction);return k&&0!=k[0].level?c:(f=Math.max(0,f.text.search(/\S/)),A(c.line,b.line==c.line&&b.ch<=f&&b.ch?0:f,c.sticky))}function zd(a,b,c){if("string"==typeof b&&(b=Oc[b],!b))return!1;a.display.input.ensurePolled();var f=a.display.shift,k=!1;try{a.isReadOnly()&&
(a.state.suppressEdits=!0),c&&(a.display.shift=!1),k=b(a)!=Ad}finally{a.display.shift=f,a.state.suppressEdits=!1}return k}function Pc(a,b,c,f){var k=a.state.keySeq;if(k){if(Jf(b))return"handled";/\'$/.test(b)?a.state.keySeq=null:Ng.set(50,function(){a.state.keySeq==k&&(a.state.keySeq=null,a.display.input.reset())});if(Pf(a,k+" "+b,c,f))return!0}return Pf(a,b,c,f)}function Pf(a,b,c,f){a:{for(var k=0;k<a.state.keyMaps.length;k++){var d=ic(b,a.state.keyMaps[k],f,a);if(d){f=d;break a}}f=a.options.extraKeys&&
ic(b,a.options.extraKeys,f,a)||ic(b,a.options.keyMap,f,a)}"multi"==f&&(a.state.keySeq=b);"handled"==f&&y(a,"keyHandled",a,b,c);if("handled"==f||"multi"==f)Z(c),Yd(a);return!!f}function Qf(a,b){var c=Mf(b,!0);return c?b.shiftKey&&!a.state.keySeq?Pc(a,"Shift-"+c,b,function(b){return zd(a,b,!0)})||Pc(a,c,b,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return zd(a,b)}):Pc(a,c,b,function(b){return zd(a,b)}):!1}function Og(a,b,c){return Pc(a,"'"+c+"'",b,function(b){return zd(a,b,!0)})}function Rf(a){this.curOp.focus=
n();if(!V(this,a)){R&&11>aa&&27==a.keyCode&&(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var c=Qf(this,a);cb&&(qe=c?b:null,!c&&88==b&&!Pg&&($a?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Qg(this)}}function Qg(a){function b(a){18!=a.keyCode&&a.altKey||(Kb(c,"CodeMirror-crosshair"),Y(document,"keyup",b),Y(document,"mouseover",b))}var c=a.display.lineDiv;G(c,"CodeMirror-crosshair");I(document,
"keyup",b);I(document,"mouseover",b)}function Sf(a){16==a.keyCode&&(this.doc.sel.shift=!1);V(this,a)}function Tf(a){if(!(qb(this.display,a)||V(this,a)||a.ctrlKey&&!a.altKey||$a&&a.metaKey)){var b=a.keyCode,c=a.charCode;if(cb&&b==qe)qe=null,Z(a);else if(!cb||a.which&&!(10>a.which)||!Qf(this,a))if(b=String.fromCharCode(null==c?b:c),"\b"!=b&&!Og(this,a,b))this.display.input.onKeyPress(a)}}function Rg(a,b){var c=+new Date;if(Qc&&Qc.compare(c,a,b))return Rc=Qc=null,"triple";if(Rc&&Rc.compare(c,a,b))return Qc=
new re(c,a,b),Rc=null,"double";Rc=new re(c,a,b);Qc=null;return"single"}function Uf(a){var b=this.display;if(!(V(this,a)||b.activeTouch&&b.input.supportsTouch()))if(b.input.ensurePolled(),b.shift=a.shiftKey,qb(b,a))ta||(b.scroller.draggable=!1,setTimeout(function(){return b.scroller.draggable=!0},100));else if(!Bd(this,a,"gutterClick",!0)){var c=Jb(this,a),f=dd(a),k=c?Rg(c,f):"single";window.focus();1==f&&this.state.selectingText&&this.state.selectingText(a);c&&Sg(this,f,c,k,a)||(1==f?c?Tg(this,c,
k,a):(a.target||a.srcElement)==b.scroller&&Z(a):2==f?(c&&vd(this.doc,c),setTimeout(function(){return b.input.focus()},20)):3==f&&(se?Vf(this,a):Te(this)))}}function Sg(a,b,c,f,k){var d="Click";"double"==f?d="Double"+d:"triple"==f&&(d="Triple"+d);return Pc(a,Kf((1==b?"Left":2==b?"Middle":"Right")+d,k),k,function(b){"string"==typeof b&&(b=Oc[b]);if(!b)return!1;var f=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),f=b(a,c)!=Ad}finally{a.state.suppressEdits=!1}return f})}function Tg(a,b,c,f){R?setTimeout(l(Se,
a),0):a.curOp.focus=n();var k=a.getOption("configureMouse"),k=k?k(a,c,f):{};null==k.unit&&(k.unit=(Ug?f.shiftKey&&f.metaKey:f.altKey)?"rectangle":"single"==c?"char":"double"==c?"word":"line");if(null==k.extend||a.doc.extend)k.extend=a.doc.extend||f.shiftKey;null==k.addNew&&(k.addNew=$a?f.metaKey:f.ctrlKey);null==k.moveOnDrag&&(k.moveOnDrag=!($a?f.altKey:f.ctrlKey));var d=a.doc.sel,g;a.options.dragDrop&&Vg&&!a.isReadOnly()&&"single"==c&&-1<(g=d.contains(b))&&(0>H((g=d.ranges[g]).from(),b)||0<b.xRel)&&
(0<H(g.to(),b)||0>b.xRel)?Wg(a,f,b,k):Xg(a,f,b,k)}function Wg(a,b,c,f){var k=a.display,d=!1,g=oa(a,function(b){ta&&(k.scroller.draggable=!1);a.state.draggingText=!1;Y(document,"mouseup",g);Y(document,"mousemove",m);Y(k.scroller,"dragstart",l);Y(k.scroller,"drop",g);d||(Z(b),f.addNew||vd(a.doc,c,null,null,f.extend),ta||R&&9==aa?setTimeout(function(){document.body.focus();k.input.focus()},20):k.input.focus())}),m=function(a){d=d||10<=Math.abs(b.clientX-a.clientX)+Math.abs(b.clientY-a.clientY)},l=function(){return d=
!0};ta&&(k.scroller.draggable=!0);a.state.draggingText=g;g.copy=!f.moveOnDrag;k.scroller.dragDrop&&k.scroller.dragDrop();I(document,"mouseup",g);I(document,"mousemove",m);I(k.scroller,"dragstart",l);I(k.scroller,"drop",g);Te(a);setTimeout(function(){return k.input.focus()},20)}function Wf(a,b,c){if("char"==c)return new S(b,b);if("word"==c)return a.findWordAt(b);if("line"==c)return new S(A(b.line,0),J(a.doc,A(b.line+1,0)));a=c(a,b);return new S(a.from,a.to)}function Xg(e,b,d,f){function k(b){if(0!=
H(u,b))if(u=b,"rectangle"==f.unit){for(var k=[],p=e.options.tabSize,g=a(D(h,d.line).text,d.ch,p),m=a(D(h,b.line).text,b.ch,p),l=Math.min(g,m),g=Math.max(g,m),m=Math.min(d.line,b.line),n=Math.min(e.lastLine(),Math.max(d.line,b.line));m<=n;m++){var eb=D(h,m).text,t=c(eb,l,p);l==g?k.push(new S(A(m,t),A(m,t))):eb.length>t&&k.push(new S(A(m,t),A(m,c(eb,g,p))))}k.length||k.push(new S(d,d));ra(h,db(F.ranges.slice(0,q).concat(k),q),{origin:"*mouse",scroll:!1});e.scrollIntoView(b)}else k=v,l=Wf(e,b,f.unit),
b=k.anchor,0<H(l.anchor,b)?(p=l.head,b=Xa(k.from(),l.anchor)):(p=l.anchor,b=Wa(k.to(),l.head)),k=F.ranges.slice(0),k[q]=Yg(e,new S(J(h,b),p)),ra(h,db(k,q),te)}function g(a){var b=++ya,c=Jb(e,a,!0,"rectangle"==f.unit);if(c)if(0!=H(c,u)){e.curOp.focus=n();k(c);var p=$d(l,h);(c.line>=p.to||c.line<p.from)&&setTimeout(oa(e,function(){ya==b&&g(a)}),150)}else{var d=a.clientY<C.top?-20:a.clientY>C.bottom?20:0;d&&setTimeout(oa(e,function(){ya==b&&(l.scroller.scrollTop+=d,g(a))}),50)}}function m(a){e.state.selectingText=
!1;ya=Infinity;Z(a);l.input.focus();Y(document,"mousemove",s);Y(document,"mouseup",r);h.history.lastSelOrigin=null}var l=e.display,h=e.doc;Z(b);var v,q,F=h.sel,t=F.ranges;f.addNew&&!f.extend?(q=h.sel.contains(d),v=-1<q?t[q]:new S(d,d)):(v=h.sel.primary(),q=h.sel.primIndex);"rectangle"==f.unit?(f.addNew||(v=new S(d,d)),d=Jb(e,b,!0,!0),q=-1):(b=Wf(e,d,f.unit),v=f.extend?ke(v,b.anchor,b.head,f.extend):b);f.addNew?-1==q?(q=t.length,ra(h,db(t.concat([v]),q),{scroll:!1,origin:"*mouse"})):1<t.length&&t[q].empty()&&
"char"==f.unit&&!f.extend?(ra(h,db(t.slice(0,q).concat(t.slice(q+1)),0),{scroll:!1,origin:"*mouse"}),F=h.sel):le(h,q,v,te):(q=0,ra(h,new Ua([v],0),te),F=h.sel);var u=d,C=l.wrapper.getBoundingClientRect(),ya=0,s=oa(e,function(a){dd(a)?g(a):m(a)}),r=oa(e,m);e.state.selectingText=r;I(document,"mousemove",s);I(document,"mouseup",r)}function Yg(a,b){var c=b.anchor,f=b.head,k=D(a.doc,c.line);if(0==H(c,f)&&c.sticky==f.sticky)return b;k=Da(k);if(!k)return b;var d=Ya(k,c.ch,c.sticky),g=k[d];if(g.from!=c.ch&&
g.to!=c.ch)return b;var m=d+(g.from==c.ch==(1!=g.level)?0:1);if(0==m||m==k.length)return b;var l;f.line!=c.line?l=0<(f.line-c.line)*("ltr"==a.doc.direction?1:-1):(l=Ya(k,f.ch,f.sticky),d=l-d||(f.ch-c.ch)*(1==g.level?-1:1),l=l==m-1||l==m?0>d:0<d);k=k[m+(l?-1:0)];k=(m=l==(1==k.level))?k.from:k.to;m=m?"after":"before";return c.ch==k&&c.sticky==m?b:new S(new A(c.line,k,m),f)}function Bd(a,b,c,f){var k,d;if(b.touches)k=b.touches[0].clientX,d=b.touches[0].clientY;else try{k=b.clientX,d=b.clientY}catch(g){return!1}if(k>=
Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;f&&Z(b);f=a.display;var m=f.lineDiv.getBoundingClientRect();if(d>m.bottom||!La(a,c))return Sb(b);d-=m.top-f.viewOffset;for(m=0;m<a.options.gutters.length;++m){var l=f.gutters.childNodes[m];if(l&&l.getBoundingClientRect().right>=k)return k=ga(a.doc,d),P(a,c,a,k,a.options.gutters[m],b),Sb(b)}}function Vf(a,b){var c;(c=qb(a.display,b))||(c=La(a,"gutterContextMenu")?Bd(a,b,"gutterContextMenu",!1):!1);if(!c&&!V(a,b,"contextmenu"))a.display.input.onContextMenu(b)}
function Xf(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");zc(a)}function Sc(a){df(a);Ea(a);Ve(a)}function Zg(a,b,c){!b!=!(c&&c!=kc)&&(c=a.display.dragFunctions,b=b?I:Y,b(a.display.scroller,"dragstart",c.start),b(a.display.scroller,"dragenter",c.enter),b(a.display.scroller,"dragover",c.over),b(a.display.scroller,"dragleave",c.leave),b(a.display.scroller,"drop",c.drop))}function $g(a){a.options.lineWrapping?(G(a.display.wrapper,
"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(Kb(a.display.wrapper,"CodeMirror-wrap"),Za(a));Xd(a);Ea(a);zc(a);setTimeout(function(){return bc(a)},100)}function da(a,b){var c=this;if(!(this instanceof da))return new da(a,b);this.options=b=b?d(b):{};d(Yf,b,!1);fe(b);var f=b.value;"string"==typeof f&&(f=new Fa(f,b.mode,null,b.lineSeparator,b.direction));this.doc=f;var k=new da.inputStyles[b.inputStyle](this),k=this.display=new N(a,f,k);k.wrapper.CodeMirror=this;df(this);
Xf(this);b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");$e(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Pb,keySeq:null,specialChars:null};b.autofocus&&!mc&&k.input.focus();R&&11>aa&&setTimeout(function(){return c.display.input.reset(!0)},20);ah(this);Zf||(Ig(),Zf=!0);Mb(this);this.curOp.forceUpdate=!0;kf(this,f);b.autofocus&&!mc||
this.hasFocus()?setTimeout(l(Zd,this),20):Bc(this);for(var g in Cd)if(Cd.hasOwnProperty(g))Cd[g](c,b[g],kc);We(this);b.finishInit&&b.finishInit(this);for(f=0;f<ue.length;++f)ue[f](c);Nb(this);ta&&b.lineWrapping&&"optimizelegibility"==getComputedStyle(k.lineDiv).textRendering&&(k.lineDiv.style.textRendering="auto")}function ah(a){function b(){f.activeTouch&&(k=setTimeout(function(){return f.activeTouch=null},1E3),d=f.activeTouch,d.end=+new Date)}function c(a,e){if(null==e.left)return!0;var b=e.left-
a.left,f=e.top-a.top;return 400<b*b+f*f}var f=a.display;I(f.scroller,"mousedown",oa(a,Uf));R&&11>aa?I(f.scroller,"dblclick",oa(a,function(b){if(!V(a,b)){var f=Jb(a,b);!f||Bd(a,b,"gutterClick",!0)||qb(a.display,b)||(Z(b),b=a.findWordAt(f),vd(a.doc,b.anchor,b.head))}})):I(f.scroller,"dblclick",function(b){return V(a,b)||Z(b)});se||I(f.scroller,"contextmenu",function(b){return Vf(a,b)});var k,d={end:0};I(f.scroller,"touchstart",function(b){var c;if(c=!V(a,b))1!=b.touches.length?c=!1:(c=b.touches[0],
c=1>=c.radiusX&&1>=c.radiusY),c=!c&&!Bd(a,b,"gutterClick",!0);c&&(f.input.ensurePolled(),clearTimeout(k),c=+new Date,f.activeTouch={start:c,moved:!1,prev:300>=c-d.end?d:null},1==b.touches.length&&(f.activeTouch.left=b.touches[0].pageX,f.activeTouch.top=b.touches[0].pageY))});I(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)});I(f.scroller,"touchend",function(k){var d=f.activeTouch;if(d&&!qb(f,k)&&null!=d.left&&!d.moved&&300>new Date-d.start){var g=a.coordsChar(f.activeTouch,
"page"),d=!d.prev||c(d,d.prev)?new S(g,g):!d.prev.prev||c(d,d.prev.prev)?a.findWordAt(g):new S(A(g.line,0),J(a.doc,A(g.line+1,0)));a.setSelection(d.anchor,d.head);a.focus();Z(k)}b()});I(f.scroller,"touchcancel",b);I(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Dc(a,f.scroller.scrollTop),Lb(a,f.scroller.scrollLeft,!0),P(a,"scroll",a))});I(f.scroller,"mousewheel",function(b){return ff(a,b)});I(f.scroller,"DOMMouseScroll",function(b){return ff(a,b)});I(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=
f.wrapper.scrollLeft=0});f.dragFunctions={enter:function(b){V(a,b)||Sa(b)},over:function(b){if(!V(a,b)){var f=Jb(a,b);if(f){var c=document.createDocumentFragment();Re(a,f,c);a.display.dragCursor||(a.display.dragCursor=s("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));x(a.display.dragCursor,c)}Sa(b)}},start:function(b){if(R&&(!a.state.draggingText||100>+new Date-Hf))Sa(b);else if(!V(a,b)&&!qb(a.display,b)&&(b.dataTransfer.setData("Text",
a.getSelection()),b.dataTransfer.effectAllowed="copyMove",b.dataTransfer.setDragImage&&!$f)){var f=s("img",null,null,"position: fixed; left: 0; top: 0;");f.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";cb&&(f.width=f.height=1,a.display.wrapper.appendChild(f),f._top=f.offsetTop);b.dataTransfer.setDragImage(f,0,0);cb&&f.parentNode.removeChild(f)}},drop:oa(a,Hg),leave:function(b){V(a,b)||Gf(a)}};var g=f.input.getField();I(g,"keyup",function(b){return Sf.call(a,b)});
I(g,"keydown",oa(a,Rf));I(g,"keypress",oa(a,Tf));I(g,"focus",function(b){return Zd(a,b)});I(g,"blur",function(b){return Bc(a,b)})}function Tc(e,b,c,f){var k=e.doc,d;null==c&&(c="add");"smart"==c&&(k.mode.indent?d=nb(e,b).state:c="prev");var g=e.options.tabSize,l=D(k,b),n=a(l.text,null,g);l.stateAfter&&(l.stateAfter=null);var h=l.text.match(/^\s*/)[0],v;if(!f&&!/\S/.test(l.text))v=0,c="not";else if("smart"==c&&(v=k.mode.indent(d,l.text.slice(h.length),l.text),v==Ad||150<v)){if(!f)return;c="prev"}"prev"==
c?v=b>k.first?a(D(k,b-1).text,null,g):0:"add"==c?v=n+e.options.indentUnit:"subtract"==c?v=n-e.options.indentUnit:"number"==typeof c&&(v=n+c);v=Math.max(0,v);c="";f=0;if(e.options.indentWithTabs)for(e=Math.floor(v/g);e;--e)f+=g,c+="\t";f<v&&(c+=m(v-f));if(c!=h)return gc(k,c,A(b,0),A(b,h.length),"+input"),l.stateAfter=null,!0;for(g=0;g<k.sel.ranges.length;g++)if(l=k.sel.ranges[g],l.head.line==b&&l.head.ch<h.length){b=A(b,h.length);le(k,g,new S(b,b));break}}function ag(a){Va=a}function ve(a,b,c,f,k){var d=
a.doc;a.display.shift=!1;f||(f=d.sel);var g=a.state.pasteIncoming||"paste"==k,m=we(b),l=null;if(g&&1<f.ranges.length)if(Va&&Va.text.join("\n")==b){if(0==f.ranges.length%Va.text.length)for(var l=[],n=0;n<Va.text.length;n++)l.push(d.splitLines(Va.text[n]))}else m.length==f.ranges.length&&a.options.pasteLinesPerSelection&&(l=K(m,function(a){return[a]}));for(var h,n=f.ranges.length-1;0<=n;n--){h=f.ranges[n];var v=h.from(),q=h.to();h.empty()&&(c&&0<c?v=A(v.line,v.ch-c):a.state.overwrite&&!g?q=A(q.line,
Math.min(D(d,q.line).text.length,q.ch+F(m).length)):Va&&Va.lineWise&&Va.text.join("\n")==b&&(v=q=A(v.line,0)));h=a.curOp.updateInput;v={from:v,to:q,text:l?l[n%l.length]:m,origin:k||(g?"paste":a.state.cutIncoming?"cut":"+input")};fc(a.doc,v);y(a,"inputRead",a,v)}b&&!g&&bg(a,b);ac(a);a.curOp.updateInput=h;a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=!1}function cg(a,b){var c=a.clipboardData&&a.clipboardData.getData("Text");if(c)return a.preventDefault(),b.isReadOnly()||b.options.disableInput||
Na(b,function(){return ve(b,c,0,null,"paste")}),!0}function bg(a,b){if(a.options.electricChars&&a.options.smartIndent)for(var c=a.doc.sel,f=c.ranges.length-1;0<=f;f--){var k=c.ranges[f];if(!(100<k.head.ch||f&&c.ranges[f-1].head.line==k.head.line)){var d=a.getModeAt(k.head),g=!1;if(d.electricChars)for(var m=0;m<d.electricChars.length;m++){if(-1<b.indexOf(d.electricChars.charAt(m))){g=Tc(a,k.head.line,"smart");break}}else d.electricInput&&d.electricInput.test(D(a.doc,k.head.line).text.slice(0,k.head.ch))&&
(g=Tc(a,k.head.line,"smart"));g&&y(a,"electricInput",a,k.head.line)}}}function dg(a){for(var b=[],c=[],f=0;f<a.doc.sel.ranges.length;f++){var k=a.doc.sel.ranges[f].head.line,k={anchor:A(k,0),head:A(k+1,0)};c.push(k);b.push(a.getRange(k.anchor,k.head))}return{text:b,ranges:c}}function eg(a,b){a.setAttribute("autocorrect","off");a.setAttribute("autocapitalize","off");a.setAttribute("spellcheck",!!b)}function fg(){var a=s("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),
b=s("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");ta?a.style.width="1000px":a.setAttribute("wrap","off");Uc&&(a.style.border="1px solid black");eg(a);return b}function xe(a,b,c,f,k){function d(f){var g;g=k?Mg(a.cm,l,b,c):oe(l,b,c);if(null==g){if(f=!f)f=b.line+c,f<a.first||f>=a.first+a.size?f=!1:(b=new A(f,b.ch,b.sticky),f=l=D(a,f));if(f)b=pe(k,a.cm,l,b.line,c);else return!1}else b=g;return!0}var g=b,m=c,l=D(a,b.line);if("char"==f)d();else if("column"==f)d(!0);else if("word"==
f||"group"==f){var n=null;f="group"==f;for(var h=a.cm&&a.cm.getHelper(b,"wordChars"),v=!0;!(0>c)||d(!v);v=!1){var q=l.text.charAt(b.ch)||"\n",q=t(q,h)?"w":f&&"\n"==q?"n":!f||/\s/.test(q)?null:"p";!f||v||q||(q="s");if(n&&n!=q){0>c&&(c=1,d(),b.sticky="after");break}q&&(n=q);if(0<c&&!d(!v))break}}m=me(a,b,g,m,!0);kb(g,m)&&(m.hitSide=!0);return m}function gg(a,b,c,f){var k=a.doc,d=b.left,g;"page"==f?(f=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),
f=Math.max(f-0.5*Hb(a.display),3),g=(0<c?b.bottom:b.top)+c*f):"line"==f&&(g=0<c?b.bottom+3:b.top-3);for(var m;;){m=Ud(a,d,g);if(!m.outside)break;if(0>c?0>=g:g>=k.height){m.hitSide=!0;break}g+=5*c}return m}function hg(a,b){var c=Od(a,b.line);if(!c||c.hidden)return null;var f=D(a.doc,b.line),c=Ee(c,f,b.line),f=Da(f,a.doc.direction),k="left";f&&(k=Ya(f,b.ch)%2?"right":"left");c=Fe(c.map,b.ch,k);c.offset="right"==c.collapse?c.end:c.start;return c}function bh(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;
return!1}function lc(a,b){b&&(a.bad=!0);return a}function ch(a,b,c,f,k){function d(a){return function(e){return e.id==a}}function g(a){a&&(n&&(l+=h,n=!1),l+=a)}function m(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(null!=c)g(c||b.textContent.replace(/\u200b/g,""));else{var c=b.getAttribute("cm-marker"),p;if(c)b=a.findMarks(A(f,0),A(k+1,0),d(+c)),b.length&&(p=b[0].find(0))&&g(sa(a.doc,p.from,p.to).join(h));else if("false"!=b.getAttribute("contenteditable")){(p=/^(pre|div|p)$/i.test(b.nodeName))&&
n&&(l+=h,n=!1);for(c=0;c<b.childNodes.length;c++)m(b.childNodes[c]);p&&(n=!0)}}}else 3==b.nodeType&&g(b.nodeValue)}for(var l="",n=!1,h=a.doc.lineSeparator();;){m(b);if(b==c)break;b=b.nextSibling}return l}function Dd(a,b,c){var f;if(b==a.display.lineDiv){f=a.display.lineDiv.childNodes[c];if(!f)return lc(a.clipPos(A(a.display.viewTo-1)),!0);b=null;c=0}else for(f=b;;f=f.parentNode){if(!f||f==a.display.lineDiv)return null;if(f.parentNode&&f.parentNode==a.display.lineDiv)break}for(var k=0;k<a.display.view.length;k++){var d=
a.display.view[k];if(d.node==f)return dh(d,b,c)}}function dh(a,b,c){function f(b,f,c){for(var k=-1;k<(n?n.length:0);k++)for(var d=0>k?l.map:n[k],p=0;p<d.length;p+=3){var g=d[p+2];if(g==b||g==f){f=L(0>k?a.line:a.rest[k]);k=d[p]+c;if(0>c||g!=b)k=d[p+(c?1:0)];return A(f,k)}}}var k=a.text.firstChild,d=!1;if(!b||!u(k,b))return lc(A(L(a.line),0),!0);if(b==k&&(d=!0,b=k.childNodes[c],c=0,!b))return c=a.rest?F(a.rest):a.line,lc(A(L(c),c.text.length),d);var g=3==b.nodeType?b:null,m=b;g||1!=b.childNodes.length||
3!=b.firstChild.nodeType||(g=b.firstChild,c&&(c=g.nodeValue.length));for(;m.parentNode!=k;)m=m.parentNode;var l=a.measure,n=l.maps;if(b=f(g,m,c))return lc(b,d);k=m.nextSibling;for(g=g?g.nodeValue.length-c:0;k;k=k.nextSibling){if(b=f(k,k.firstChild,0))return lc(A(b.line,b.ch-g),d);g+=k.textContent.length}for(m=m.previousSibling;m;m=m.previousSibling){if(b=f(m,m.firstChild,-1))return lc(A(b.line,b.ch+c),d);c+=m.textContent.length}}var Aa=navigator.userAgent,ig=navigator.platform,sb=/gecko\/\d/i.test(Aa),
jg=/MSIE \d/.test(Aa),kg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Aa),Vc=/Edge\/(\d+)/.exec(Aa),R=jg||kg||Vc,aa=R&&(jg?document.documentMode||6:+(Vc||kg)[1]),ta=!Vc&&/WebKit\//.test(Aa),eh=ta&&/Qt\/\d+\.\d+/.test(Aa),jd=!Vc&&/Chrome\//.test(Aa),cb=/Opera\//.test(Aa),$f=/Apple Computer/.test(navigator.vendor),fh=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Aa),wg=/PhantomJS/.test(Aa),Uc=!Vc&&/AppleWebKit/.test(Aa)&&/Mobile\/\w+/.test(Aa),kd=/Android/.test(Aa),mc=Uc||kd||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Aa),
$a=Uc||/Mac/.test(ig),Ug=/\bCrOS\b/.test(Aa),gh=/win/i.test(ig),Qb=cb&&Aa.match(/Version\/(\d*\.\d*)/);Qb&&(Qb=Number(Qb[1]));Qb&&15<=Qb&&(cb=!1,ta=!0);var Lf=$a&&(eh||cb&&(null==Qb||12.11>Qb)),se=sb||R&&9<=aa,Kb=function(a,b){var c=a.className,f=h(b).exec(c);if(f){var k=c.slice(f.index+f[0].length);a.className=c.slice(0,f.index)+(k?f[1]+k:"")}},Yb;Yb=document.createRange?function(a,b,c,f){var k=document.createRange();k.setEnd(f||a,c);k.setStart(a,b);return k}:function(a,b,c){var f=document.body.createTextRange();
try{f.moveToElementText(a.parentNode)}catch(k){return f}f.collapse(!0);f.moveEnd("character",c);f.moveStart("character",b);return f};var Wc=function(a){a.select()};Uc?Wc=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:R&&(Wc=function(a){try{a.select()}catch(b){}});var Pb=function(){this.id=null};Pb.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var ye=30,Ad={toString:function(){return"CodeMirror.Pass"}},jb={scroll:!1},te={origin:"*mouse"},Xc={origin:"+move"},
bd=[""],lg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,mg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
yf=!1,ub=!1,nc=null,ng=function(){function a(e){return 247>=e?c.charAt(e):1424<=e&&1524>=e?"R":1536<=e&&1785>=e?f.charAt(e-1536):1774<=e&&2220>=e?"r":8192<=e&&8203>=e?"w":8204==e?"b":"L"}function b(a,e,f){this.level=a;this.from=e;this.to=f}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",
k=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,g=/[LRr]/,m=/[Lb1n]/,l=/[1n]/;return function(f,c){var n="ltr"==c?"L":"R";if(0==f.length||"ltr"==c&&!k.test(f))return!1;for(var h=f.length,v=[],q=0;q<h;++q)v.push(a(f.charCodeAt(q)));for(var q=0,E=n;q<h;++q){var t=v[q];"m"==t?v[q]=E:E=t}q=0;for(E=n;q<h;++q)t=v[q],"1"==t&&"r"==E?v[q]="n":g.test(t)&&(E=t,"r"==t&&(v[q]="R"));q=1;for(E=v[0];q<h-1;++q)t=v[q],"+"==t&&"1"==E&&"1"==v[q+1]?v[q]="1":","!=t||E!=v[q+1]||"1"!=E&&"n"!=E||(v[q]=E),E=t;for(q=
0;q<h;++q)if(E=v[q],","==E)v[q]="N";else if("%"==E){E=void 0;for(E=q+1;E<h&&"%"==v[E];++E);for(t=q&&"!"==v[q-1]||E<h&&"1"==v[E]?"1":"N";q<E;++q)v[q]=t;q=E-1}q=0;for(E=n;q<h;++q)t=v[q],"L"==E&&"1"==t?v[q]="L":g.test(t)&&(E=t);for(E=0;E<h;++E)if(d.test(v[E])){q=void 0;for(q=E+1;q<h&&d.test(v[q]);++q);t="L"==(E?v[E-1]:n);for(t=t==("L"==(q<h?v[q]:n))?t?"L":"R":n;E<q;++E)v[E]=t;E=q-1}for(var n=[],u,q=0;q<h;)if(m.test(v[q])){E=q;for(++q;q<h&&m.test(v[q]);++q);n.push(new b(0,E,q))}else{var C=q,E=n.length;
for(++q;q<h&&"L"!=v[q];++q);for(t=C;t<q;)if(l.test(v[t])){C<t&&n.splice(E,0,new b(1,C,t));C=t;for(++t;t<q&&l.test(v[t]);++t);n.splice(E,0,new b(2,C,t));C=t}else++t;C<q&&n.splice(E,0,new b(1,C,q))}"ltr"==c&&(1==n[0].level&&(u=f.match(/^\s+/))&&(n[0].from=u[0].length,n.unshift(new b(0,0,u[0].length))),1==F(n).level&&(u=f.match(/\s+$/))&&(F(n).to-=u[0].length,n.push(new b(0,h-u[0].length,h))));return"rtl"==c?n.reverse():n}}(),cd=[],I=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?
a.attachEvent("on"+b,c):(a=a._handlers||(a._handlers={}),a[b]=(a[b]||cd).concat(c))},Vg=function(){if(R&&9>aa)return!1;var a=s("div");return"draggable"in a||"dragDrop"in a}(),Fd,Id,we=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],f=a.length;b<=f;){var k=a.indexOf("\n",b);-1==k&&(k=a.length);var d=a.slice(b,"\r"==a.charAt(k-1)?k-1:k),g=d.indexOf("\r");-1!=g?(c.push(d.slice(0,g)),b+=g+1):(c.push(d),b=k+1)}return c}:function(a){return a.split(/\r\n?|\n/)},hh=window.getSelection?function(a){try{return a.selectionStart!=
a.selectionEnd}catch(b){return!1}}:function(a){var b;try{b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Pg=function(){var a=s("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Qd=null,Gd={},Ub={},Vb={},ja=function(a,b,c){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=c};ja.prototype.eol=function(){return this.pos>=
this.string.length};ja.prototype.sol=function(){return this.pos==this.lineStart};ja.prototype.peek=function(){return this.string.charAt(this.pos)||void 0};ja.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};ja.prototype.eat=function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b};ja.prototype.eatWhile=function(a){for(var b=this.pos;this.eat(a););return this.pos>b};ja.prototype.eatSpace=function(){for(var a=
this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a};ja.prototype.skipToEnd=function(){this.pos=this.string.length};ja.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};ja.prototype.backUp=function(a){this.pos-=a};ja.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=a(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-
(this.lineStart?a(this.string,this.lineStart,this.tabSize):0)};ja.prototype.indentation=function(){return a(this.string,null,this.tabSize)-(this.lineStart?a(this.string,this.lineStart,this.tabSize):0)};ja.prototype.match=function(a,b,c){if("string"==typeof a){var f=function(a){return c?a.toLowerCase():a},k=this.string.substr(this.pos,a.length);if(f(k)==f(a))return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);
return a}};ja.prototype.current=function(){return this.string.slice(this.start,this.pos)};ja.prototype.hideFirstChars=function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}};ja.prototype.lookAhead=function(a){var b=this.lineOracle;return b&&b.lookAhead(a)};ja.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var gd=function(a,b){this.state=a;this.lookAhead=b},hb=function(a,b,c,f){this.state=b;this.doc=a;this.line=c;this.maxLookAhead=f||0;this.baseTokens=
null;this.baseTokenPos=1};hb.prototype.lookAhead=function(a){var b=this.doc.getLine(this.line+a);null!=b&&a>this.maxLookAhead&&(this.maxLookAhead=a);return b};hb.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var b=this.baseTokens[this.baseTokenPos+1];return{type:b&&b.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};hb.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};
hb.fromSaved=function(a,b,c){return b instanceof gd?new hb(a,gb(a.mode,b.state),c,b.lookAhead):new hb(a,gb(a.mode,b),c)};hb.prototype.save=function(a){a=!1!==a?gb(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new gd(a,this.maxLookAhead):a};var ze=function(a,b,c){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=b||null;this.state=c},cc=function(a,b,c){this.text=a;tb(this,b);this.height=c?c(this):1};cc.prototype.lineNo=function(){return L(this)};Ra(cc);var pg={},
og={},$b=null,wc=null,Ge={left:0,right:0,top:0,bottom:0},Ib,Rb=function(a,b,c){this.cm=c;var f=this.vert=s("div",[s("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),k=this.horiz=s("div",[s("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(f);a(k);I(f,"scroll",function(){f.clientHeight&&b(f.scrollTop,"vertical")});I(k,"scroll",function(){k.clientWidth&&b(k.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;R&&8>aa&&(this.horiz.style.minHeight=this.vert.style.minWidth=
"18px")};Rb.prototype.update=function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,f=a.nativeBarWidth;c?(this.vert.style.display="block",this.vert.style.bottom=b?f+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(b?f:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");b?(this.horiz.style.display="block",this.horiz.style.right=c?f+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(c?f:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==f&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:c?f:0,bottom:b?f:0}};Rb.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Rb.prototype.setScrollTop=function(a){this.vert.scrollTop!=
a&&(this.vert.scrollTop=a);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Rb.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=$a&&!fh?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Pb;this.disableVert=new Pb};Rb.prototype.enableZeroWidthBar=function(a,b,c){function f(){var k=a.getBoundingClientRect();("vert"==c?document.elementFromPoint(k.right-1,(k.top+k.bottom)/2):document.elementFromPoint((k.right+
k.left)/2,k.bottom-1))!=a?a.style.pointerEvents="none":b.set(1E3,f)}a.style.pointerEvents="auto";b.set(1E3,f)};Rb.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var Yc=function(){};Yc.prototype.update=function(){return{bottom:0,right:0}};Yc.prototype.setScrollLeft=function(){};Yc.prototype.setScrollTop=function(){};Yc.prototype.clear=function(){};var af={"native":Rb,"null":Yc},vg=0,qd=function(a,b,c){var f=a.display;this.viewport=b;this.visible=
$d(f,a.doc,b);this.editorIsHidden=!f.wrapper.offsetWidth;this.wrapperHeight=f.wrapper.clientHeight;this.wrapperWidth=f.wrapper.clientWidth;this.oldDisplayWidth=Eb(a);this.force=c;this.dims=Pd(a);this.events=[]};qd.prototype.signal=function(a,b){La(a,b)&&this.events.push(arguments)};qd.prototype.finish=function(){for(var a=0;a<this.events.length;a++)P.apply(null,this.events[a])};var sd=0,Ta=null;R?Ta=-0.53:sb?Ta=15:jd?Ta=-0.7:$f&&(Ta=-1/3);var Ua=function(a,b){this.ranges=a;this.primIndex=b};Ua.prototype.primary=
function(){return this.ranges[this.primIndex]};Ua.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],f=a.ranges[b];if(!kb(c.anchor,f.anchor)||!kb(c.head,f.head))return!1}return!0};Ua.prototype.deepCopy=function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new S(lb(this.ranges[b].anchor),lb(this.ranges[b].head));return new Ua(a,this.primIndex)};Ua.prototype.somethingSelected=
function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1};Ua.prototype.contains=function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var f=this.ranges[c];if(0<=H(b,f.from())&&0>=H(a,f.to()))return c}return-1};var S=function(a,b){this.anchor=a;this.head=b};S.prototype.from=function(){return Xa(this.anchor,this.head)};S.prototype.to=function(){return Wa(this.anchor,this.head)};S.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Jc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,f=a+b;c<f;++c){var k=this.lines[c];this.height-=k.height;var d=k;d.parent=null;Ia(d);y(k,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};
Kc.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var f=this.children[c],k=f.chunkSize();if(a<k){var d=Math.min(b,k-a),g=f.height;f.removeInner(a,d);this.height-=g-f.height;k==d&&(this.children.splice(c--,1),f.parent=null);if(0==(b-=d))break;a=0}else a-=k}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof Jc))&&(c=[],this.collapse(c),this.children=[new Jc(c)],this.children[0].parent=this)},collapse:function(a){for(var b=
0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length;this.height+=c;for(var f=0;f<this.children.length;++f){var k=this.children[f],d=k.chunkSize();if(a<=d){k.insertInner(a,b,c);if(k.lines&&50<k.lines.length){for(b=a=k.lines.length%25+25;b<k.lines.length;)c=new Jc(k.lines.slice(b,b+=25)),k.height-=c.height,this.children.splice(++f,0,c),c.parent=this;k.lines=k.lines.slice(0,a);this.maybeSpill()}break}a-=d}},maybeSpill:function(){if(!(10>=this.children.length)){var a=
this;do{var c=a.children.splice(a.children.length-5,5),c=new Kc(c);if(a.parent){a.size-=c.size;a.height-=c.height;var d=b(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else d=new Kc(a.children),d.parent=a,a.children=[d,c],a=d;c.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var f=0;f<this.children.length;++f){var k=this.children[f],d=k.chunkSize();if(a<d){d=Math.min(b,d-a);if(k.iterN(a,d,c))return!0;if(0==(b-=d))break;a=0}else a-=d}}};var Lc=
function(a,b,c){if(c)for(var f in c)c.hasOwnProperty(f)&&(this[f]=c[f]);this.doc=a;this.node=b};Lc.prototype.clear=function(){var a=this.doc.cm,b=this.line.widgets,c=this.line,f=L(c);if(null!=f&&b){for(var k=0;k<b.length;++k)b[k]==this&&b.splice(k--,1);b.length||(c.widgets=null);var d=xc(this);qa(c,Math.max(0,c.height-d));a&&(Na(a,function(){var b=-d;ka(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&od(a,b);yb(a,f,"widget")}),y(a,"lineWidgetCleared",a,this,f))}};Lc.prototype.changed=function(){var a=
this,b=this.height,c=this.doc.cm,f=this.line;this.height=null;var k=xc(this)-b;k&&(qa(f,f.height+k),c&&Na(c,function(){c.curOp.forceUpdate=!0;ka(f)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&od(c,k);y(c,"lineWidgetChanged",c,a,L(f))}))};Ra(Lc);var Ef=0,Ab=function(a,b){this.lines=[];this.type=b;this.doc=a;this.id=++Ef};Ab.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&Mb(a);if(La(this,"clear")){var c=this.find();c&&y(this,"clear",c.from,c.to)}for(var f=
c=null,k=0;k<this.lines.length;++k){var d=this.lines[k],g=ua(d.markedSpans,this);a&&!this.collapsed?yb(a,L(d),"text"):a&&(null!=g.to&&(f=L(d)),null!=g.from&&(c=L(d)));for(var m=d,l=d.markedSpans,n=g,h=void 0,v=0;v<l.length;++v)l[v]!=n&&(h||(h=[])).push(l[v]);m.markedSpans=h;null==g.from&&this.collapsed&&!ia(this.doc,d)&&a&&qa(d,Hb(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(k=0;k<this.lines.length;++k)d=va(this.lines[k]),g=Qa(d),g>a.display.maxLineLength&&(a.display.maxLine=d,a.display.maxLineLength=
g,a.display.maxLineChanged=!0);null!=c&&a&&this.collapsed&&Ea(a,c,f+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&uf(a.doc));a&&y(a,"markerCleared",a,this,c,f);b&&Nb(a);this.parent&&this.parent.clear()}};Ab.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,f,k=0;k<this.lines.length;++k){var d=this.lines[k],g=ua(d.markedSpans,this);if(null!=g.from&&(c=A(b?d:L(d),g.from),-1==a))return c;if(null!=g.to&&(f=A(b?d:L(d),
g.to),1==a))return f}return c&&{from:c,to:f}};Ab.prototype.changed=function(){var a=this,b=this.find(-1,!0),c=this,f=this.doc.cm;b&&f&&Na(f,function(){var k=b.line,d=L(b.line);if(d=Od(f,d))He(d),f.curOp.selectionChanged=f.curOp.forceUpdate=!0;f.curOp.updateMaxLine=!0;ia(c.doc,k)||null==c.height||(d=c.height,c.height=null,(d=xc(c)-d)&&qa(k,k.height+d));y(f,"markerChanged",f,a)})};Ab.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;c.maybeHiddenMarkers&&-1!=
b(c.maybeHiddenMarkers,this)||(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Ab.prototype.detachLine=function(a){this.lines.splice(b(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};Ra(Ab);var Mc=function(a,b){this.markers=a;this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Mc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=
0;a<this.markers.length;++a)this.markers[a].clear();y(this,"clear")}};Mc.prototype.find=function(a,b){return this.primary.find(a,b)};Ra(Mc);var ih=0,Fa=function(a,b,c,f,k){if(!(this instanceof Fa))return new Fa(a,b,c,f,k);null==c&&(c=0);Kc.call(this,[new Jc([new cc("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=c;c=A(c,0);this.sel=rb(c);this.history=new td(null);this.id=++ih;this.modeOption=b;this.lineSep=
f;this.direction="rtl"==k?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));ie(this,{from:c,to:c,text:a});ra(this,rb(c),jb)};Fa.prototype=z(Kc.prototype,{constructor:Fa,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,f=0;f<b.length;++f)c+=b[f].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=Ba(this,this.first,this.first+
this.size);return!1===a?b:b.join(a||this.lineSeparator())},setValue:pa(function(a){var b=A(this.first,0),c=this.first+this.size-1;fc(this,{from:b,to:A(c,D(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&Cc(this.cm,0,0);ra(this,rb(b),jb)}),replaceRange:function(a,b,c,f){b=J(this,b);c=c?J(this,c):b;gc(this,a,b,c,f)},getRange:function(a,b,c){a=sa(this,J(this,a),J(this,b));return!1===c?a:a.join(c||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&
a.text},getLineHandle:function(a){if(na(this,a))return D(this,a)},getLineNumber:function(a){return L(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=D(this,a));return va(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return J(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},
listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pa(function(a,b,c){a=J(this,"number"==typeof a?A(a,b||0):a);ra(this,rb(a,null),c)}),setSelection:pa(function(a,b,c){var f=J(this,a);a=J(this,b||a);ra(this,rb(f,a),c)}),extendSelection:pa(function(a,b,c){vd(this,J(this,a),b&&J(this,b),c)}),extendSelections:pa(function(a,b){qf(this,Ha(this,a),b)}),extendSelectionsBy:pa(function(a,b){var c=K(this.sel.ranges,a);qf(this,Ha(this,
c),b)}),setSelections:pa(function(a,b,c){if(a.length){for(var f=[],k=0;k<a.length;k++)f[k]=new S(J(this,a[k].anchor),J(this,a[k].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));ra(this,db(f,b),c)}}),addSelection:pa(function(a,b,c){var f=this.sel.ranges.slice(0);f.push(new S(J(this,a),J(this,b||a)));ra(this,db(f,f.length-1),c)}),getSelection:function(a){for(var b=this.sel.ranges,c,f=0;f<b.length;f++){var k=sa(this,b[f].from(),b[f].to());c=c?c.concat(k):k}return!1===a?c:c.join(a||this.lineSeparator())},
getSelections:function(a){for(var b=[],c=this.sel.ranges,f=0;f<c.length;f++){var k=sa(this,c[f].from(),c[f].to());!1!==a&&(k=k.join(a||this.lineSeparator()));b[f]=k}return b},replaceSelection:function(a,b,c){for(var f=[],k=0;k<this.sel.ranges.length;k++)f[k]=a;this.replaceSelections(f,b,c||"+input")},replaceSelections:pa(function(a,b,c){for(var f=[],k=this.sel,d=0;d<k.ranges.length;d++){var g=k.ranges[d];f[d]={from:g.from(),to:g.to(),text:this.splitLines(a[d]),origin:c}}if(a=b)if(a="end"!=b){a=[];
k=c=A(this.first,0);for(d=0;d<f.length;d++){var m=f[d],g=hf(m.from,c,k),l=hf(zb(m),c,k);c=m.to;k=l;"around"==b?(m=this.sel.ranges[d],m=0>H(m.head,m.anchor),a[d]=new S(m?l:g,m?g:l)):a[d]=new S(g,g)}a=new Ua(a,this.sel.primIndex)}b=a;for(a=f.length-1;0<=a;a--)fc(this,f[a]);b?rf(this,b):this.cm&&ac(this.cm)}),undo:pa(function(){xd(this,"undo")}),redo:pa(function(){xd(this,"redo")}),undoSelection:pa(function(){xd(this,"undo",!0)}),redoSelection:pa(function(){xd(this,"redo",!0)}),setExtending:function(a){this.extend=
a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,f=0;f<a.done.length;f++)a.done[f].ranges||++b;for(f=0;f<a.undone.length;f++)a.undone[f].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new td(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},
isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:dc(this.history.done),undone:dc(this.history.undone)}},setHistory:function(a){var b=this.history=new td(this.history.maxGeneration);b.done=dc(a.done.slice(0),null,!0);b.undone=dc(a.undone.slice(0),null,!0)},setGutterMarker:pa(function(a,b,c){return Ic(this,a,"gutter",function(a){var e=a.gutterMarkers||(a.gutterMarkers={});e[b]=c;!c&&B(e)&&(a.gutterMarkers=null);return!0})}),clearGutter:pa(function(a){var b=
this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&Ic(b,c,"gutter",function(){c.gutterMarkers[a]=null;B(c.gutterMarkers)&&(c.gutterMarkers=null);return!0})})}),lineInfo:function(a){var b;if("number"==typeof a){if(!na(this,a))return null;b=a;a=D(this,a);if(!a)return null}else if(b=L(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:pa(function(a,b,c){return Ic(this,
a,"gutter"==b?"gutter":"class",function(a){var e="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(a[e]){if(h(c).test(a[e]))return!1;a[e]+=" "+c}else a[e]=c;return!0})}),removeLineClass:pa(function(a,b,c){return Ic(this,a,"gutter"==b?"gutter":"class",function(a){var e="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",d=a[e];if(d)if(null==c)a[e]=null;else{var g=d.match(h(c));if(!g)return!1;var m=g.index+g[0].length;a[e]=d.slice(0,
g.index)+(g.index&&m!=d.length?" ":"")+d.slice(m)||null}else return!1;return!0})}),addLineWidget:pa(function(a,b,c){return Eg(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return hc(this,J(this,a),J(this,b),c,c&&c.type||"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};a=J(this,a);return hc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=
J(this,a);var b=[],c=D(this,a.line).markedSpans;if(c)for(var f=0;f<c.length;++f){var k=c[f];(null==k.from||k.from<=a.ch)&&(null==k.to||k.to>=a.ch)&&b.push(k.marker.parent||k.marker)}return b},findMarks:function(a,b,c){a=J(this,a);b=J(this,b);var f=[],k=a.line;this.iter(a.line,b.line+1,function(d){if(d=d.markedSpans)for(var g=0;g<d.length;g++){var m=d[g];null!=m.to&&k==a.line&&a.ch>=m.to||null==m.from&&k!=a.line||null!=m.from&&k==b.line&&m.from>=b.ch||c&&!c(m.marker)||f.push(m.marker.parent||m.marker)}++k});
return f},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first,f=this.lineSeparator().length;this.iter(function(k){k=k.text.length+f;if(k>a)return b=a,!0;a-=k;++c});return J(this,A(c,b))},indexFromPos:function(a){a=J(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;var c=this.lineSeparator().length;this.iter(this.first,a.line,function(a){b+=a.text.length+
c});return b},copy:function(a){var b=new Fa(Ba(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new Fa(Ba(this,b,c),a.mode||this.modeOption,b,this.lineSep,
this.direction);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=Ff(this);for(c=0;c<a.length;c++){var f=a[c],k=f.find(),d=b.clipPos(k.from),k=b.clipPos(k.to);H(d,k)&&(d=hc(b,d,k,f.primary,f.primary.type),f.markers.push(d),d.parent=f)}return b},unlinkDoc:function(a){a instanceof da&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,
1);a.unlinkDoc(this);Gg(Ff(this));break}if(a.history==this.history){var c=[a.id];Ob(a,function(a){return c.push(a.id)},!0);a.history=new td(null);a.history.done=dc(this.history.done,c);a.history.undone=dc(this.history.undone,c)}},iterLinkedDocs:function(a){Ob(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):we(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:pa(function(a){"rtl"!=
a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(a){return a.order=null}),this.cm&&Ag(this.cm))})});Fa.prototype.eachLine=Fa.prototype.iter;for(var Hf=0,Zf=!1,Bb={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",
127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zc=0;10>Zc;Zc++)Bb[Zc+48]=Bb[Zc+96]=String(Zc);for(var Ed=65;90>=Ed;Ed++)Bb[Ed]=String.fromCharCode(Ed);for(var $c=1;12>=$c;$c++)Bb[$c+111]=Bb[$c+63235]="F"+$c;var Nc={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",
End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft",
"Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown",
"Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft",
"Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",
fallthrough:["basic","emacsy"]}};Nc["default"]=$a?Nc.macDefault:Nc.pcDefault;var Oc={selectAll:wf,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),jb)},killLine:function(a){return jc(a,function(b){if(b.empty()){var c=D(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:A(b.head.line+1,0)}:{from:b.head,to:A(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){return jc(a,function(b){return{from:A(b.from().line,
0),to:J(a.doc,A(b.to().line+1,0))}})},delLineLeft:function(a){return jc(a,function(a){return{from:A(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){return jc(a,function(b){var c=a.charCoords(b.head,"div").top+5;return{from:a.coordsChar({left:0,top:c},"div"),to:b.from()}})},delWrappedLineRight:function(a){return jc(a,function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:c}})},undo:function(a){return a.undo()},
redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(A(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(A(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(b){return Nf(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(b){return Of(a,b.head)},{origin:"+move",bias:1})},
goLineEnd:function(a){return a.extendSelectionsBy(function(b){b=b.head.line;var c=D(a.doc,b),f;f=c;for(var k;k=Ja(f,!1);)f=k.find(1,!0).line;f!=c&&(b=L(f));return pe(!0,a,c,b,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(b){b=a.cursorCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div")},Xc)},goLineLeft:function(a){return a.extendSelectionsBy(function(b){b=a.cursorCoords(b.head,"div").top+5;return a.coordsChar({left:0,
top:b},"div")},Xc)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,"div").top+5,c=a.coordsChar({left:0,top:c},"div");return c.ch<a.getLine(c.line).search(/\S/)?Of(a,b.head):c},Xc)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,
"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"char")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,
"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(b){for(var c=[],d=b.listSelections(),f=b.options.tabSize,k=0;k<d.length;k++){var g=d[k].from(),g=a(b.getLine(g.line),g.ch,f);c.push(m(f-
g%f))}b.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Na(a,function(){for(var b=a.listSelections(),c=[],f=0;f<b.length;f++)if(b[f].empty()){var k=b[f].head,d=D(a.doc,k.line).text;if(d)if(k.ch==d.length&&(k=new A(k.line,k.ch-1)),0<k.ch)k=new A(k.line,k.ch+1),a.replaceRange(d.charAt(k.ch-1)+d.charAt(k.ch-2),A(k.line,k.ch-2),k,"+transpose");else if(k.line>a.doc.first){var g=D(a.doc,k.line-1).text;
g&&(k=new A(k.line,1),a.replaceRange(d.charAt(0)+a.doc.lineSeparator()+g.charAt(g.length-1),A(k.line-1,g.length-1),k,"+transpose"))}c.push(new S(k,k))}a.setSelections(c)})},newlineAndIndent:function(a){return Na(a,function(){for(var b=a.listSelections(),c=b.length-1;0<=c;c--)a.replaceRange(a.doc.lineSeparator(),b[c].anchor,b[c].head,"+input");b=a.listSelections();for(c=0;c<b.length;c++)a.indentLine(b[c].from().line,null,!0);ac(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},
Ng=new Pb,qe=null,re=function(a,b,c){this.time=a;this.pos=b;this.button=c};re.prototype.compare=function(a,b,c){return this.time+400>a&&0==H(b,this.pos)&&c==this.button};var Rc,Qc,kc={toString:function(){return"CodeMirror.Init"}},Yf={},Cd={};da.defaults=Yf;da.optionHandlers=Cd;var ue=[];da.defineInitHook=function(a){return ue.push(a)};var Va=null,W=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Pb;this.composing=null;this.gracePeriod=
!1;this.readDOMTimeout=null};W.prototype.init=function(a){function b(a){if(!V(k,a)){if(k.somethingSelected())ag({lineWise:!1,text:k.getSelections()}),"cut"==a.type&&k.replaceSelection("",null,"cut");else if(k.options.lineWiseCopyCut){var c=dg(k);ag({lineWise:!0,text:c.text});"cut"==a.type&&k.operation(function(){k.setSelections(c.ranges,0,jb);k.replaceSelection("",null,"cut")})}else return;if(a.clipboardData){a.clipboardData.clearData();var e=Va.text.join("\n");a.clipboardData.setData("Text",e);if(a.clipboardData.getData("Text")==
e){a.preventDefault();return}}var g=fg();a=g.firstChild;k.display.lineSpace.insertBefore(g,k.display.lineSpace.firstChild);a.value=Va.text.join("\n");var m=document.activeElement;Wc(a);setTimeout(function(){k.display.lineSpace.removeChild(g);m.focus();m==d&&f.showPrimarySelection()},50)}}var c=this,f=this,k=f.cm,d=f.div=a.lineDiv;eg(d,k.options.spellcheck);I(d,"paste",function(a){V(k,a)||cg(a,k)||11>=aa&&setTimeout(oa(k,function(){return c.updateFromDOM()}),20)});I(d,"compositionstart",function(a){c.composing=
{data:a.data,done:!1}});I(d,"compositionupdate",function(a){c.composing||(c.composing={data:a.data,done:!1})});I(d,"compositionend",function(a){c.composing&&(a.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)});I(d,"touchstart",function(){return f.forceCompositionEnd()});I(d,"input",function(){c.composing||c.readFromDOMSoon()});I(d,"copy",b);I(d,"cut",b)};W.prototype.prepareSelection=function(){var a=Qe(this.cm,!1);a.focus=this.cm.state.focused;return a};W.prototype.showSelection=
function(a,b){a&&this.cm.display.view.length&&((a.focus||b)&&this.showPrimarySelection(),this.showMultipleSelections(a))};W.prototype.showPrimarySelection=function(){var a=window.getSelection(),b=this.cm,c=b.doc.sel.primary(),f=c.from(),c=c.to();if(b.display.viewTo==b.display.viewFrom||f.line>=b.display.viewTo||c.line<b.display.viewFrom)a.removeAllRanges();else{var k=Dd(b,a.anchorNode,a.anchorOffset),d=Dd(b,a.focusNode,a.focusOffset);if(!k||k.bad||!d||d.bad||0!=H(Xa(k,d),f)||0!=H(Wa(k,d),c))if(k=
b.display.view,f=f.line>=b.display.viewFrom&&hg(b,f)||{node:k[0].measure.map[2],offset:0},c=c.line<b.display.viewTo&&hg(b,c),c||(c=k[k.length-1].measure,c=c.maps?c.maps[c.maps.length-1]:c.map,c={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}),f&&c){var k=a.rangeCount&&a.getRangeAt(0),g;try{g=Yb(f.node,f.offset,c.offset,c.node)}catch(m){}g&&(!sb&&b.state.focused?(a.collapse(f.node,f.offset),g.collapsed||(a.removeAllRanges(),a.addRange(g))):(a.removeAllRanges(),a.addRange(g)),k&&null==a.anchorNode?
a.addRange(k):sb&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};W.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)};W.prototype.showMultipleSelections=function(a){x(this.cm.display.cursorDiv,a.cursors);x(this.cm.display.selectionDiv,a.selection)};W.prototype.rememberSelection=function(){var a=
window.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};W.prototype.selectionInEditor=function(){var a=window.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return u(this.div,a)};W.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())};W.prototype.blur=function(){this.div.blur()};
W.prototype.getField=function(){return this.div};W.prototype.supportsTouch=function(){return!0};W.prototype.receivedFocus=function(){function a(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,a))}var b=this;this.selectionInEditor()?this.pollSelection():Na(this.cm,function(){return b.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};W.prototype.selectionChanged=function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||
a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};W.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=window.getSelection(),b=this.cm;if(kd&&jd&&this.cm.options.gutters.length&&bh(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var c=Dd(b,a.anchorNode,a.anchorOffset),
f=Dd(b,a.focusNode,a.focusOffset);c&&f&&Na(b,function(){ra(b.doc,rb(c,f),jb);if(c.bad||f.bad)b.curOp.selectionChanged=!0})}}};W.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,b=a.display,c=a.doc.sel.primary(),f=c.from(),k=c.to();0==f.ch&&f.line>a.firstLine()&&(f=A(f.line-1,D(a.doc,f.line-1).length));k.ch==D(a.doc,k.line).text.length&&k.line<a.lastLine()&&(k=A(k.line+1,0));if(f.line<b.viewFrom||k.line>b.viewTo-
1)return!1;var d;f.line==b.viewFrom||0==(d=Fb(a,f.line))?(c=L(b.view[0].line),d=b.view[0].node):(c=L(b.view[d].line),d=b.view[d-1].node.nextSibling);var g=Fb(a,k.line);g==b.view.length-1?(k=b.viewTo-1,b=b.lineDiv.lastChild):(k=L(b.view[g+1].line)-1,b=b.view[g+1].node.previousSibling);if(!d)return!1;b=a.doc.splitLines(ch(a,d,b,c,k));for(d=sa(a.doc,A(c,0),A(k,D(a.doc,k).text.length));1<b.length&&1<d.length;)if(F(b)==F(d))b.pop(),d.pop(),k--;else if(b[0]==d[0])b.shift(),d.shift(),c++;else break;for(var m=
0,g=0,l=b[0],n=d[0],h=Math.min(l.length,n.length);m<h&&l.charCodeAt(m)==n.charCodeAt(m);)++m;l=F(b);n=F(d);for(h=Math.min(l.length-(1==b.length?m:0),n.length-(1==d.length?m:0));g<h&&l.charCodeAt(l.length-g-1)==n.charCodeAt(n.length-g-1);)++g;if(1==b.length&&1==d.length&&c==f.line)for(;m&&m>f.ch&&l.charCodeAt(l.length-g-1)==n.charCodeAt(n.length-g-1);)m--,g++;b[b.length-1]=l.slice(0,l.length-g).replace(/^\u200b+/,"");b[0]=b[0].slice(m).replace(/\u200b+$/,"");f=A(c,m);c=A(k,d.length?F(d).length-g:0);
if(1<b.length||b[0]||H(f,c))return gc(a.doc,b,f,c,"+input"),!0};W.prototype.ensurePolled=function(){this.forceCompositionEnd()};W.prototype.reset=function(){this.forceCompositionEnd()};W.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};W.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=
null;else return;a.updateFromDOM()},80))};W.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||Na(this.cm,function(){return Ea(a.cm)})};W.prototype.setUneditable=function(a){a.contentEditable="false"};W.prototype.onKeyPress=function(a){0!=a.charCode&&(a.preventDefault(),this.cm.isReadOnly()||oa(this.cm,ve)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};W.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=
a)};W.prototype.onContextMenu=function(){};W.prototype.resetPosition=function(){};W.prototype.needsContentAttribute=!0;var ma=function(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=new Pb;this.hasSelection=!1;this.composing=null};ma.prototype.init=function(a){function b(a){if(!V(d,a)){if(d.somethingSelected())Va={lineWise:!1,text:d.getSelections()};else if(d.options.lineWiseCopyCut){var c=dg(d);Va={lineWise:!0,text:c.text};"cut"==a.type?d.setSelections(c.ranges,null,jb):(f.prevInput=
"",m.value=c.text.join("\n"),Wc(m))}else return;"cut"==a.type&&(d.state.cutIncoming=!0)}}var c=this,f=this,d=this.cm,g=this.wrapper=fg(),m=this.textarea=g.firstChild;a.wrapper.insertBefore(g,a.wrapper.firstChild);Uc&&(m.style.width="0px");I(m,"input",function(){R&&9<=aa&&c.hasSelection&&(c.hasSelection=null);f.poll()});I(m,"paste",function(a){V(d,a)||cg(a,d)||(d.state.pasteIncoming=!0,f.fastPoll())});I(m,"cut",b);I(m,"copy",b);I(a.scroller,"paste",function(b){qb(a,b)||V(d,b)||(d.state.pasteIncoming=
!0,f.focus())});I(a.lineSpace,"selectstart",function(b){qb(a,b)||Z(b)});I(m,"compositionstart",function(){var a=d.getCursor("from");f.composing&&f.composing.range.clear();f.composing={start:a,range:d.markText(a,d.getCursor("to"),{className:"CodeMirror-composing"})}});I(m,"compositionend",function(){f.composing&&(f.poll(),f.composing.range.clear(),f.composing=null)})};ma.prototype.prepareSelection=function(){var a=this.cm,b=a.display,c=a.doc,f=Qe(a);if(a.options.moveInputWithCursor){var a=bb(a,c.sel.primary().head,
"div"),c=b.wrapper.getBoundingClientRect(),d=b.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,a.top+d.top-c.top));f.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,a.left+d.left-c.left))}return f};ma.prototype.showSelection=function(a){var b=this.cm.display;x(b.cursorDiv,a.cursors);x(b.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};ma.prototype.reset=function(a){if(!this.contextMenuPending&&
!this.composing){var b=this.cm;b.somethingSelected()?(this.prevInput="",a=b.getSelection(),this.textarea.value=a,b.state.focused&&Wc(this.textarea),R&&9<=aa&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",R&&9<=aa&&(this.hasSelection=null))}};ma.prototype.getField=function(){return this.textarea};ma.prototype.supportsTouch=function(){return!1};ma.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!mc||n()!=this.textarea))try{this.textarea.focus()}catch(a){}};ma.prototype.blur=
function(){this.textarea.blur()};ma.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};ma.prototype.receivedFocus=function(){this.slowPoll()};ma.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})};ma.prototype.fastPoll=function(){function a(){c.poll()||b?(c.pollingFast=!1,c.slowPoll()):(b=!0,c.polling.set(60,a))}var b=!1,c=this;c.pollingFast=!0;c.polling.set(20,
a)};ma.prototype.poll=function(){var a=this,b=this.cm,c=this.textarea,f=this.prevInput;if(this.contextMenuPending||!b.state.focused||hh(c)&&!f&&!this.composing||b.isReadOnly()||b.options.disableInput||b.state.keySeq)return!1;var d=c.value;if(d==f&&!b.somethingSelected())return!1;if(R&&9<=aa&&this.hasSelection===d||$a&&/[\uf700-\uf7ff]/.test(d))return b.display.input.reset(),!1;if(b.doc.sel==b.display.selForContextMenu){var g=d.charCodeAt(0);8203!=g||f||(f="\u200b");if(8666==g)return this.reset(),
this.cm.execCommand("undo")}for(var m=0,g=Math.min(f.length,d.length);m<g&&f.charCodeAt(m)==d.charCodeAt(m);)++m;Na(b,function(){ve(b,d.slice(m),f.length-m,null,a.composing?"*compose":null);1E3<d.length||-1<d.indexOf("\n")?c.value=a.prevInput="":a.prevInput=d;a.composing&&(a.composing.range.clear(),a.composing.range=b.markText(a.composing.start,b.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};ma.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};
ma.prototype.onKeyPress=function(){R&&9<=aa&&(this.hasSelection=null);this.fastPoll()};ma.prototype.onContextMenu=function(a){function b(){if(null!=m.selectionStart){var a=d.somethingSelected(),c="\u200b"+(a?m.value:"");m.value="\u21da";m.value=c;f.prevInput=a?"":"\u200b";m.selectionStart=1;m.selectionEnd=c.length;g.selForContextMenu=d.doc.sel}}function c(){f.contextMenuPending=!1;f.wrapper.style.cssText=v;m.style.cssText=h;R&&9>aa&&g.scrollbars.setScrollTop(g.scroller.scrollTop=n);if(null!=m.selectionStart){(!R||
R&&9>aa)&&b();var a=0,e=function(){g.selForContextMenu==d.doc.sel&&0==m.selectionStart&&0<m.selectionEnd&&"\u200b"==f.prevInput?oa(d,wf)(d):10>a++?g.detectingSelectAll=setTimeout(e,500):(g.selForContextMenu=null,g.input.reset())};g.detectingSelectAll=setTimeout(e,200)}}var f=this,d=f.cm,g=d.display,m=f.textarea,l=Jb(d,a),n=g.scroller.scrollTop;if(l&&!cb){d.options.resetSelectionOnContextMenu&&-1==d.doc.sel.contains(l)&&oa(d,ra)(d.doc,rb(l),jb);var h=m.style.cssText,v=f.wrapper.style.cssText;f.wrapper.style.cssText=
"position: absolute";l=f.wrapper.getBoundingClientRect();m.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-l.top-5)+"px; left: "+(a.clientX-l.left-5)+"px;\n      z-index: 1000; background: "+(R?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var q;ta&&(q=window.scrollY);g.input.focus();ta&&window.scrollTo(null,q);g.input.reset();d.somethingSelected()||
(m.value=f.prevInput=" ");f.contextMenuPending=!0;g.selForContextMenu=d.doc.sel;clearTimeout(g.detectingSelectAll);R&&9<=aa&&b();if(se){Sa(a);var t=function(){Y(window,"mouseup",t);setTimeout(c,20)};I(window,"mouseup",t)}else setTimeout(c,50)}};ma.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a};ma.prototype.setUneditable=function(){};ma.prototype.needsContentAttribute=!1;(function(a){function b(f,d,g,m){a.defaults[f]=d;g&&(c[f]=m?function(a,b,c){c!=kc&&
g(a,b,c)}:g)}var c=a.optionHandlers;a.defineOption=b;a.Init=kc;b("value","",function(a,b){return a.setValue(b)},!0);b("mode",null,function(a,b){a.doc.modeOption=b;he(a)},!0);b("indentUnit",2,he,!0);b("indentWithTabs",!1);b("smartIndent",!0);b("tabSize",4,function(a){Gc(a);zc(a);Ea(a)},!0);b("lineSeparator",null,function(a,b){if(a.doc.lineSep=b){var c=[],e=a.doc.first;a.doc.iter(function(a){for(var f=0;;){var d=a.text.indexOf(b,f);if(-1==d)break;f=d+b.length;c.push(A(e,d))}e++});for(var d=c.length-
1;0<=d;d--)gc(a.doc,b,c[d],A(c[d].line,c[d].ch+b.length))}});b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(a,b,c){a.state.specialChars=RegExp(b.source+(b.test("\t")?"":"|\t"),"g");c!=kc&&a.refresh()});b("specialCharPlaceholder",id,function(a){return a.refresh()},!0);b("electricChars",!0);b("inputStyle",mc?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);b("spellcheck",!1,function(a,
b){return a.getInputField().spellcheck=b},!0);b("rtlMoveVisually",!gh);b("wholeLineUpdateBefore",!0);b("theme","default",function(a){Xf(a);Sc(a)},!0);b("keyMap","default",function(a,b,c){b=yd(b);(c=c!=kc&&yd(c))&&c.detach&&c.detach(a,b);b.attach&&b.attach(a,c||null)});b("extraKeys",null);b("configureMouse",null);b("lineWrapping",!1,$g,!0);b("gutters",[],function(a){fe(a.options);Sc(a)},!0);b("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?Wd(a.display)+"px":"0";a.refresh()},!0);b("coverGutterNextToScrollbar",
!1,function(a){return bc(a)},!0);b("scrollbarStyle","native",function(a){$e(a);bc(a);a.display.scrollbars.setScrollTop(a.doc.scrollTop);a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0);b("lineNumbers",!1,function(a){fe(a.options);Sc(a)},!0);b("firstLineNumber",1,Sc,!0);b("lineNumberFormatter",function(a){return a},Sc,!0);b("showCursorWhenSelecting",!1,Ac,!0);b("resetSelectionOnContextMenu",!0);b("lineWiseCopyCut",!0);b("pasteLinesPerSelection",!0);b("readOnly",!1,function(a,b){"nocursor"==
b&&(Bc(a),a.display.input.blur());a.display.input.readOnlyChanged(b)});b("disableInput",!1,function(a,b){b||a.display.input.reset()},!0);b("dragDrop",!0,Zg);b("allowDropFileTypes",null);b("cursorBlinkRate",530);b("cursorScrollMargin",0);b("cursorHeight",1,Ac,!0);b("singleCursorHeightPerLine",!0,Ac,!0);b("workTime",100);b("workDelay",100);b("flattenSpans",!0,Gc,!0);b("addModeClass",!1,Gc,!0);b("pollInterval",100);b("undoDepth",200,function(a,b){return a.doc.history.undoDepth=b});b("historyEventDelay",
1250);b("viewportMargin",10,function(a){return a.refresh()},!0);b("maxHighlightLength",1E4,Gc,!0);b("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()});b("tabindex",null,function(a,b){return a.display.input.getField().tabIndex=b||""});b("autofocus",null);b("direction","ltr",function(a,b){return a.doc.setDirection(b)},!0)})(da);(function(a){var c=a.optionHandlers,d=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(a,
b){var e=this.options,d=e[a];if(e[a]!=b||"mode"==a)e[a]=b,c.hasOwnProperty(a)&&oa(this,c[a])(this,b,d),P(this,"optionChange",this,a)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](yd(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:za(function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw Error("Overlays may not be stateful.");
U(this.state.overlays,{mode:d,modeSpec:b,opaque:c&&c.opaque,priority:c&&c.priority||0},function(a){return a.priority});this.state.modeGen++;Ea(this)}),removeOverlay:za(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var e=b[c].modeSpec;if(e==a||"string"==typeof a&&e.name==a){b.splice(c,1);this.state.modeGen++;Ea(this);break}}}),indentLine:za(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");na(this.doc,a)&&
Tc(this,a,b,c)}),indentSelection:za(function(a){for(var b=this.doc.sel.ranges,c=-1,e=0;e<b.length;e++){var d=b[e];if(d.empty())d.head.line>c&&(Tc(this,d.head.line,a,!0),c=d.head.line,e==this.doc.sel.primIndex&&ac(this));else{for(var g=d.from(),d=d.to(),m=Math.max(c,g.line),c=Math.min(this.lastLine(),d.line-(d.ch?0:1))+1,d=m;d<c;++d)Tc(this,d,a);d=this.doc.sel.ranges;0==g.ch&&b.length==d.length&&0<d[e].from().ch&&le(this.doc,e,new S(g,d[e].to()),jb)}}}),getTokenAt:function(a,b){return vc(this,a,b)},
getLineTokens:function(a,b){return vc(this,A(a),b,!0)},getTokenTypeAt:function(a){a=J(this.doc,a);var b=fd(this,D(this.doc,a.line)),c=0,e=(b.length-1)/2;a=a.ch;var d;if(0==a)d=b[2];else for(;;){var g=c+e>>1;if((g?b[2*g-1]:0)>=a)e=g;else if(b[2*g+1]<a)c=g+1;else{d=b[2*g+2];break}}b=d?d.indexOf("overlay "):-1;return 0>b?d:0==b?null:d.slice(0,b-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,
b)[0]},getHelpers:function(a,c){var e=[];if(!d.hasOwnProperty(c))return e;var g=d[c],m=this.getModeAt(a);if("string"==typeof m[c])g[m[c]]&&e.push(g[m[c]]);else if(m[c])for(var l=0;l<m[c].length;l++){var p=g[m[c][l]];p&&e.push(p)}else m.helperType&&g[m.helperType]?e.push(g[m.helperType]):g[m.name]&&e.push(g[m.name]);for(l=0;l<g._global.length;l++)p=g._global[l],p.pred(m,this)&&-1==b(e,p.val)&&e.push(p.val);return e},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+
c.size-1:a,c.first+c.size-1));return nb(this,a+1,b).state},cursorCoords:function(a,b){var c;c=this.doc.sel.primary();c=null==a?c.head:"object"==typeof a?J(this.doc,a):a?c.from():c.to();return bb(this,c,b||"page")},charCoords:function(a,b){return Sd(this,J(this.doc,a),b||"page")},coordsChar:function(a,b){a=Le(this,a,b||"page");return Ud(this,a.left,a.top)},lineAtHeight:function(a,b){a=Le(this,{top:a,left:0},b||"page").top;return ga(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b,c){var e=
!1;if("number"==typeof a){var d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,e=!0);a=D(this.doc,a)}return ld(this,a,{top:0,left:0},b||"page",c||e).top+(e?this.doc.height-ka(a):0)},defaultTextHeight:function(){return Hb(this.display)},defaultCharWidth:function(){return yc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,e,d){var g=this.display;a=bb(this,J(this.doc,a));var m=a.bottom,l=a.left;b.style.position=
"absolute";b.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(b);g.sizer.appendChild(b);if("over"==e)m=a.top;else if("above"==e||"near"==e){var p=Math.max(g.wrapper.clientHeight,this.doc.height),n=Math.max(g.sizer.clientWidth,g.lineSpace.clientWidth);("above"==e||a.bottom+b.offsetHeight>p)&&a.top>b.offsetHeight?m=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=p&&(m=a.bottom);l+b.offsetWidth>n&&(l=n-b.offsetWidth)}b.style.top=m+"px";b.style.left=b.style.right="";"right"==d?(l=
g.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==d?l=0:"middle"==d&&(l=(g.sizer.clientWidth-b.offsetWidth)/2),b.style.left=l+"px");c&&(a=be(this,{left:l,top:m,right:l+b.offsetWidth,bottom:m+b.offsetHeight}),null!=a.scrollTop&&Dc(this,a.scrollTop),null!=a.scrollLeft&&Lb(this,a.scrollLeft))},triggerOnKeyDown:za(Rf),triggerOnKeyPress:za(Tf),triggerOnKeyUp:Sf,triggerOnMouseDown:za(Uf),execCommand:function(a){if(Oc.hasOwnProperty(a))return Oc[a].call(null,this)},triggerElectric:za(function(a){bg(this,
a)}),findPosH:function(a,b,c,e){var d=1;0>b&&(d=-1,b=-b);a=J(this.doc,a);for(var g=0;g<b&&(a=xe(this.doc,a,d,c,e),!a.hitSide);++g);return a},moveH:za(function(a,b){var c=this;this.extendSelectionsBy(function(e){return c.display.shift||c.doc.extend||e.empty()?xe(c.doc,e.head,a,b,c.options.rtlMoveVisually):0>a?e.from():e.to()},Xc)}),deleteH:za(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):jc(this,function(e){var d=xe(c,e.head,a,b,!1);return 0>a?
{from:d,to:e.head}:{from:e.head,to:d}})}),findPosV:function(a,b,c,e){var d=1;0>b&&(d=-1,b=-b);var g=J(this.doc,a);for(a=0;a<b&&(g=bb(this,g,"div"),null==e?e=g.left:g.left=e,g=gg(this,g,d,c),!g.hitSide);++a);return g},moveV:za(function(a,b){var c=this,e=this.doc,d=[],g=!this.display.shift&&!e.extend&&e.sel.somethingSelected();e.extendSelectionsBy(function(m){if(g)return 0>a?m.from():m.to();var l=bb(c,m.head,"div");null!=m.goalColumn&&(l.left=m.goalColumn);d.push(l.left);var p=gg(c,l,a,b);"page"==b&&
m==e.sel.primary()&&od(c,Sd(c,p,"div").top-l.top);return p},Xc);if(d.length)for(var m=0;m<e.sel.ranges.length;m++)e.sel.ranges[m].goalColumn=d[m]}),findWordAt:function(a){var b=D(this.doc,a.line).text,c=a.ch,e=a.ch;if(b){var d=this.getHelper(a,"wordChars");"before"!=a.sticky&&e!=b.length||!c?++e:--c;for(var g=b.charAt(c),g=t(g,d)?function(a){return t(a,d)}:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!t(a)};0<c&&g(b.charAt(c-1));)--c;for(;e<b.length&&g(b.charAt(e));)++e}return new S(A(a.line,
c),A(a.line,e))},toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?G(this.display.cursorDiv,"CodeMirror-overwrite"):Kb(this.display.cursorDiv,"CodeMirror-overwrite"),P(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==n()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:za(function(a,b){Cc(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller;
return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-ib(this)-this.display.barHeight,width:a.scrollWidth-ib(this)-this.display.barWidth,clientHeight:Nd(this),clientWidth:Eb(this)}},scrollIntoView:za(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:A(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;if(null!=a.from.line){var c=a;pd(this);this.curOp.scrollToPos=c}else Xe(this,
a.from,a.to,a.margin)}),setSize:za(function(a,b){var c=this,e=function(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a};null!=a&&(this.display.wrapper.style.width=e(a));null!=b&&(this.display.wrapper.style.height=e(b));this.options.lineWrapping&&Ie(this);var d=this.display.viewFrom;this.doc.iter(d,this.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){yb(c,d,"widget");break}++d});this.curOp.forceUpdate=!0;P(this,"refresh",this)}),operation:function(a){return Na(this,
a)},startOperation:function(){return Mb(this)},endOperation:function(){return Nb(this)},refresh:za(function(){var a=this.display.cachedTextHeight;Ea(this);this.curOp.forceUpdate=!0;zc(this);Cc(this,this.doc.scrollLeft,this.doc.scrollTop);ae(this);(null==a||0.5<Math.abs(a-Hb(this.display)))&&Xd(this);P(this,"refresh",this)}),swapDoc:za(function(a){var b=this.doc;b.cm=null;kf(this,a);zc(this);this.display.input.reset();Cc(this,a.scrollLeft,a.scrollTop);this.curOp.forceScroll=!0;y(this,"swapDoc",this,
b);return b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Ra(a);a.registerHelper=function(b,c,g){d.hasOwnProperty(b)||(d[b]=a[b]={_global:[]});d[b][c]=g};a.registerGlobalHelper=function(b,c,g,m){a.registerHelper(b,c,m);d[b]._global.push({pred:g,val:m})}})(da);var jh="iter insert remove copy getEditor constructor".split(" "),
ad;for(ad in Fa.prototype)Fa.prototype.hasOwnProperty(ad)&&0>b(jh,ad)&&(da.prototype[ad]=function(a){return function(){return a.apply(this.doc,arguments)}}(Fa.prototype[ad]));Ra(Fa);da.inputStyles={textarea:ma,contenteditable:W};da.defineMode=function(a){da.defaults.mode||"null"==a||(da.defaults.mode=a);Tb.apply(this,arguments)};da.defineMIME=function(a,b){Ub[a]=b};da.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});da.defineMIME("text/plain","null");da.defineExtension=
function(a,b){da.prototype[a]=b};da.defineDocExtension=function(a,b){Fa.prototype[a]=b};da.fromTextArea=function(a,b){function c(){a.value=v.getValue()}b=b?d(b):{};b.value=a.value;!b.tabindex&&a.tabIndex&&(b.tabindex=a.tabIndex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var f=n();b.autofocus=f==a||null!=a.getAttribute("autofocus")&&f==document.body}var g;if(a.form&&(I(a.form,"submit",c),!b.leaveSubmitMethodAlone)){var m=a.form;g=m.submit;try{var l=m.submit=
function(){c();m.submit=g;m.submit();m.submit=l}}catch(h){}}b.finishInit=function(b){b.save=c;b.getTextArea=function(){return a};b.toTextArea=function(){b.toTextArea=isNaN;c();a.parentNode.removeChild(b.getWrapperElement());a.style.display="";a.form&&(Y(a.form,"submit",c),"function"==typeof a.form.submit&&(a.form.submit=g))}};a.style.display="none";var v=da(function(b){return a.parentNode.insertBefore(b,a.nextSibling)},b);return v};(function(b){b.off=Y;b.on=I;b.wheelEventPixels=zg;b.Doc=Fa;b.splitLines=
we;b.countColumn=a;b.findColumn=c;b.isWordChar=w;b.Pass=Ad;b.signal=P;b.Line=cc;b.changeEnd=zb;b.scrollbarModel=af;b.Pos=A;b.cmpPos=H;b.modes=Gd;b.mimeModes=Ub;b.resolveMode=Ma;b.getMode=vb;b.modeExtensions=Vb;b.extendMode=Hd;b.copyState=gb;b.startState=Cb;b.innerMode=pc;b.commands=Oc;b.keyMap=Nc;b.keyName=Mf;b.isModifierKey=Jf;b.lookupKey=ic;b.normalizeKeyMap=Lg;b.StringStream=ja;b.SharedTextMarker=Mc;b.TextMarker=Ab;b.LineWidget=Lc;b.e_preventDefault=Z;b.e_stopPropagation=mb;b.e_stop=Sa;b.addClass=
G;b.contains=u;b.rmClass=Kb;b.keyNames=Bb})(da);da.version="5.34.1";return da});(function(h){"object"==typeof exports&&"object"==typeof module?h(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){function r(h){var u={};h=h.split(" ");for(var n=0;n<h.length;++n)u[h[n]]=!0;return u}h.defineMode("glsl",function(h,u){function n(a,b){var d=a.next();if(U[d]){var l=U[d](a,b);if(!1!==l)return l}if('"'==d||"'"==d)return b.tokenize=G(d),b.tokenize(a,b);if(/[\[\]{}\(\),;\:\.]/.test(d))return w=d,"bracket";
if(/\d/.test(d))return a.eatWhile(/[\w\.]/),"number";if("/"==d){if(a.eat("*"))return b.tokenize=C,C(a,b);if(a.eat("/"))return a.skipToEnd(),"comment"}if("#"==d)return a.eatWhile(/[\S]+/),a.eatWhile(/[\s]+/),a.eatWhile(/[\S]+/),a.eatWhile(/[\s]+/),"comment";if(z.test(d))return a.eatWhile(z),"operator";a.eatWhile(/[\w\$_]/);d=a.current();return c.propertyIsEnumerable(d)?(F.propertyIsEnumerable(d)&&(w="newstatement"),"keyword"):m.propertyIsEnumerable(d)?"builtin":K.propertyIsEnumerable(d)?"atom":"word"}
function G(a){return function(b,c){for(var d=!1,m,l=!1;null!=(m=b.next());){if(m==a&&!d){l=!0;break}d=!d&&"\\"==m}if(l||!d&&!$)c.tokenize=n;return"string"}}function C(a,b){for(var c=!1,d;d=a.next();){if("/"==d&&c){b.tokenize=n;break}c="*"==d}return"comment"}function l(a,b,c,d,m){this.indented=a;this.column=b;this.type=c;this.align=d;this.prev=m}function d(a,b,c){return a.context=new l(a.indented,b,c,null,a.context)}function a(a){var b=a.context.type;if(")"==b||"]"==b||"}"==b)a.indented=a.context.indented;
return a.context=a.context.prev}var b=h.indentUnit,c=u.keywords||r(x),m=u.builtins||r(s),F=u.blockKeywords||r("case do else for if switch while struct"),K=u.atoms||r("null"),U=u.hooks||{},$=u.multiLineStrings,z=/[+\-*&%=<>!?|\/]/,w;return{startState:function(a){return{tokenize:null,context:new l((a||0)-b,0,"top",!1),indented:0,startOfLine:!0}},token:function(b,c){var g=c.context;b.sol()&&(null==g.align&&(g.align=!1),c.indented=b.indentation(),c.startOfLine=!0);if(b.eatSpace())return null;w=null;var m=
(c.tokenize||n)(b,c);if("comment"==m||"meta"==m)return m;null==g.align&&(g.align=!0);if(";"!=w&&":"!=w||"statement"!=g.type)if("{"==w)d(c,b.column(),"}");else if("["==w)d(c,b.column(),"]");else if("("==w)d(c,b.column(),")");else if("}"==w){for(;"statement"==g.type;)g=a(c);for("}"==g.type&&(g=a(c));"statement"==g.type;)g=a(c)}else w==g.type?a(c):("}"==g.type||"top"==g.type||"statement"==g.type&&"newstatement"==w)&&d(c,b.column(),"statement");else a(c);c.startOfLine=!1;return m},indent:function(a,c){if(a.tokenize!=
n&&null!=a.tokenize)return 0;var d=c&&c.charAt(0),m=a.context,l=d==m.type;return"statement"==m.type?m.indented+("{"==d?0:b):m.align?m.column+(l?0:1):m.indented+(l?0:b)},electricChars:"{}"}});var x="attribute const uniform varying break continue do for while if else in out inout float int void bool true false lowp mediump highp precision invariant discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler2D samplerCube struct gl_FragCoord gl_FragColor",s="radians degrees sin cos tan asin acos atan pow exp log exp2 log2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not dFdx dFdy fwidth texture2D texture2DProj texture2DLod texture2DProjLod textureCube textureCubeLod require export";
h.defineMIME("text/x-glsl",{name:"glsl",keywords:r(x),builtins:r(s),blockKeywords:r("case do else for if switch while struct"),atoms:r("null"),hooks:{"#":function(h,u){if(!u.startOfLine)return!1;h.skipToEnd();return"meta"}}})});(function(h){"object"==typeof exports&&"object"==typeof module?h(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){h.defineMode("javascript",function(r,x){function s(a,b,c){wb=a;Db=c;return b}function q(a,b){var c=a.next();if('"'==c||"'"==c)return b.tokenize=u(c),b.tokenize(a,b);if("."==c&&a.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return s("number","number");if("."==c&&a.match(".."))return s("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(c))return s(c);
if("="==c&&a.eat(">"))return s("=>","operator");if("0"==c&&a.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return s("number","number");if(/\d/.test(c))return a.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),s("number","number");if("/"==c){if(a.eat("*"))return b.tokenize=n,n(a,b);if(a.eat("/"))return a.skipToEnd(),s("comment","comment");if(vc(a,b,1)){a:for(var c=!1,d,g=!1;null!=(d=a.next());){if(!c){if("/"==d&&!g)break a;"["==d?g=!0:g&&"]"==d&&(g=!1)}c=!c&&"\\"==d}a.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);
return s("regexp","string-2")}a.eat("=");return s("operator","operator",a.current())}if("`"==c)return b.tokenize=G,G(a,b);if("#"==c)return a.skipToEnd(),s("error","error");if("<"==c&&a.match("!--")||"-"==c&&a.match("->"))return a.skipToEnd(),s("comment","comment");if(hd.test(c))return">"==c&&b.lexical&&">"==b.lexical.type||(a.eat("=")?"!"!=c&&"="!=c||a.eat("="):/[<>*+\-]/.test(c)&&(a.eat(c),">"==c&&a.eat(c))),s("operator","operator",a.current());if(Xb.test(c)){a.eatWhile(Xb);c=a.current();if("."!=
b.lastType){if(id.propertyIsEnumerable(c))return d=id[c],s(d.type,d.style,c);if("async"==c&&a.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return s("async","keyword",c)}return s("variable","variable",c)}}function u(a){return function(b,c){var d=!1,g;if(Wb&&"@"==b.peek()&&b.match(Jd))return c.tokenize=q,s("jsonld-keyword","meta");for(;null!=(g=b.next())&&(g!=a||d);)d=!d&&"\\"==g;d||(c.tokenize=q);return s("string","string")}}function n(a,b){for(var c=!1,d;d=a.next();){if("/"==d&&c){b.tokenize=q;break}c=
"*"==d}return s("comment","comment")}function G(a,b){for(var c=!1,d;null!=(d=a.next());){if(!c&&("`"==d||"$"==d&&a.eat("{"))){b.tokenize=q;break}c=!c&&"\\"==d}return s("quasi","string-2",a.current())}function C(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var c=a.string.indexOf("=>",a.start);if(!(0>c)){if(T){var d=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a.string.slice(a.start,c));d&&(c=d.index)}for(var d=0,g=!1,c=c-1;0<=c;--c){var m=a.string.charAt(c),l=Zb.indexOf(m);if(0<=l&&3>l){if(!d){++c;
break}if(0==--d){"("==m&&(g=!0);break}}else if(3<=l&&6>l)++d;else if(Xb.test(m))g=!0;else if(/["'\/`]/.test(m))for(;;--c){if(0==c)return;if(a.string.charAt(c-1)==m&&"\\"!=a.string.charAt(c-2)){c--;break}}else if(g&&!d){++c;break}}g&&!d&&(b.fatArrowAt=c)}}function l(a,b,c,d,g,m){this.indented=a;this.column=b;this.type=c;this.prev=g;this.info=m;null!=d&&(this.align=d)}function d(){for(var a=arguments.length-1;0<=a;a--)y.cc.push(arguments[a])}function a(){d.apply(null,arguments);return!0}function b(a,
b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}function c(a){var c=y.state;y.marked="def";if(c.context)if("var"==c.lexical.info&&c.context&&c.context.block){var d=m(a,c.context);if(null!=d){c.context=d;return}}else if(!b(a,c.localVars)){c.localVars=new U(a,c.localVars);return}x.globalVars&&!b(a,c.globalVars)&&(c.globalVars=new U(a,c.globalVars))}function m(a,c){if(c){if(c.block){var d=m(a,c.prev);return d?d==c.prev?c:new K(d,c.vars,!0):null}return b(a,c.vars)?c:new K(c.prev,new U(a,c.vars),
!1)}return null}function F(a){return"public"==a||"private"==a||"protected"==a||"abstract"==a||"readonly"==a}function K(a,b,c){this.prev=a;this.vars=b;this.block=c}function U(a,b){this.name=a;this.next=b}function $(){y.state.context=new K(y.state.context,y.state.localVars,!1);y.state.localVars=Ld}function z(){y.state.context=new K(y.state.context,y.state.localVars,!0);y.state.localVars=null}function w(){y.state.localVars=y.state.context.vars;y.state.context=y.state.context.prev}function t(a,b){var c=
function(){var c=y.state,d=c.indented;if("stat"==c.lexical.type)d=c.lexical.indented;else for(var g=c.lexical;g&&")"==g.type&&g.align;g=g.prev)d=g.indented;c.lexical=new l(d,y.stream.column(),a,null,c.lexical,b)};c.lex=!0;return c}function B(){var a=y.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function g(b){function c(g){return g==b?a():";"==b||"}"==g||")"==g||"]"==g?d():a(c)}return c}function M(b,c){return"var"==b?a(t("vardef",c),Za,g(";"),
B):"keyword a"==b?a(t("form"),sa,M,B):"keyword b"==b?a(t("form"),M,B):"keyword d"==b?y.stream.match(/^\s*$/,!1)?a():a(t("stat"),qa,g(";"),B):"debugger"==b?a(g(";")):"{"==b?a(t("}"),z,fb,B,w):";"==b?a():"if"==b?("else"==y.state.lexical.info&&y.state.cc[y.state.cc.length-1]==B&&y.state.cc.pop()(),a(t("form"),sa,M,B,V)):"function"==b?a(Z):"for"==b?a(t("form"),oc,M,B):"class"==b||T&&"interface"==c?(y.marked="keyword",a(t("form","class"==b?b:c),ed,B)):"variable"==b?T&&"declare"==c?(y.marked="keyword",
a(M)):T&&("module"==c||"enum"==c||"type"==c)&&y.stream.match(/^\s*\w/,!1)?(y.marked="keyword","enum"==c?a(tc):"type"==c?a(Sb,g("operator"),Q,g(";")):a(t("form"),ca,g("{"),t("}"),fb,B,B)):T&&"namespace"==c?(y.marked="keyword",a(t("form"),N,M,B)):T&&"abstract"==c?(y.marked="keyword",a(M)):a(t("stat"),Xa):"switch"==b?a(t("form"),sa,g("{"),t("}","switch"),z,fb,B,B,w):"case"==b?a(N,g(":")):"default"==b?a(g(":")):"catch"==b?a(t("form"),$,O,M,B,w):"export"==b?a(t("stat"),Hd,B):"import"==b?a(t("stat"),pc,
B):"async"==b?a(M):"@"==c?a(N,M):d(t("stat"),N,g(";"),B)}function O(b){if("("==b)return a(Sa,g(")"))}function N(a,b){return Ba(a,b,!1)}function D(a,b){return Ba(a,b,!0)}function sa(b){return"("!=b?d():a(t(")"),N,g(")"),B)}function Ba(b,c,m){if(y.state.fatArrowAt==y.stream.start){var l=m?H:A;if("("==b)return a($,t(")"),X(Sa,")"),B,g("=>"),l,w);if("variable"==b)return d($,ca,g("=>"),l,w)}l=m?ga:L;return Kd.hasOwnProperty(b)?a(l):"function"==b?a(Z,l):"class"==b||T&&"interface"==c?(y.marked="keyword",
a(t("form"),dd,B)):"keyword c"==b||"async"==b?a(m?D:N):"("==b?a(t(")"),qa,g(")"),B,l):"operator"==b||"spread"==b?a(m?D:N):"["==b?a(t("]"),sc,B,l):"{"==b?fa(Ha,"}",null,l):"quasi"==b?d(na,l):"new"==b?a(kb(m)):"import"==b?a(N):a()}function qa(a){return a.match(/[;\}\)\],]/)?d():d(N)}function L(b,c){return","==b?a(N):ga(b,c,!1)}function ga(b,c,m){var l=!1==m?L:ga,n=!1==m?N:D;if("=>"==b)return a($,m?H:A,w);if("operator"==b)return/\+\+|--/.test(c)||T&&"!"==c?a(l):T&&"<"==c&&y.stream.match(/^([^>]|<.*?>)*>\s*\(/,
!1)?a(t(">"),X(Q,">"),B,l):"?"==c?a(N,g(":"),n):a(n);if("quasi"==b)return d(na,l);if(";"!=b){if("("==b)return fa(D,")","call",l);if("."==b)return a(J,l);if("["==b)return a(t("]"),qa,g("]"),B,l);if(T&&"as"==c)return y.marked="keyword",a(Q,l);if("regexp"==b)return y.state.lastType=y.marked="operator",y.stream.backUp(y.stream.pos-y.stream.start-1),a(n)}}function na(b,c){return"quasi"!=b?d():"${"!=c.slice(c.length-2)?a(na):a(N,Ga)}function Ga(b){if("}"==b)return y.marked="string-2",y.state.tokenize=G,
a(na)}function A(a){C(y.stream,y.state);return d("{"==a?M:N)}function H(a){C(y.stream,y.state);return d("{"==a?M:D)}function kb(b){return function(c){return"."==c?a(b?Wa:lb):"variable"==c&&T?a(Pa,b?ga:L):d(b?D:N)}}function lb(b,c){if("target"==c)return y.marked="keyword",a(L)}function Wa(b,c){if("target"==c)return y.marked="keyword",a(ga)}function Xa(b){return":"==b?a(B,M):d(L,g(";"),B)}function J(b){if("variable"==b)return y.marked="property",a()}function Ha(b,c){if("async"==b)return y.marked="property",
a(Ha);if("variable"==b||"keyword"==y.style){y.marked="property";if("get"==c||"set"==c)return a(ea);var m;T&&y.state.fatArrowAt==y.stream.start&&(m=y.stream.match(/^\s*:\s*/,!1))&&(y.state.fatArrowAt=y.stream.pos+m[0].length);return a(ua)}if("number"==b||"string"==b)return y.marked=Wb?"property":y.style+" property",a(ua);if("jsonld-keyword"==b)return a(ua);if(T&&F(c))return y.marked="keyword",a(Ha);if("["==b)return a(N,Ia,g("]"),ua);if("spread"==b)return a(D,ua);if("*"==c)return y.marked="keyword",
a(Ha);if(":"==b)return d(ua)}function ea(b){if("variable"!=b)return d(ua);y.marked="property";return a(Z)}function ua(b){if(":"==b)return a(D);if("("==b)return d(Z)}function X(b,c,m){function l(n,h){if(m?-1<m.indexOf(n):","==n){var q=y.state.lexical;"call"==q.info&&(q.pos=(q.pos||0)+1);return a(function(a,g){return a==c||g==c?d():d(b)},l)}return n==c||h==c?a():m&&-1<m.indexOf(";")?d(b):a(g(c))}return function(g,m){return g==c||m==c?a():d(b,l)}}function fa(b,c,d){for(var g=3;g<arguments.length;g++)y.cc.push(arguments[g]);
return a(t(c,d),X(b,c),B)}function fb(b){return"}"==b?a():d(M,fb)}function Ia(b,c){if(T){if(":"==b)return a(Q);if("?"==c)return a(Ia)}}function tb(b,c){if(T&&(":"==b||"in"==c))return a(Q)}function ha(b){if(T&&":"==b)return y.stream.match(/^\s*\w+\s+is\b/,!1)?a(N,Ja,Q):a(Q)}function Ja(b,c){if("is"==c)return y.marked="keyword",a()}function Q(b,c){if("keyof"==c||"typeof"==c||"infer"==c)return y.marked="keyword",a("typeof"==c?D:Q);if("variable"==b||"void"==c)return y.marked="type",a(ia);if("|"==c||"&"==
c)return a(Q);if("string"==b||"number"==b||"atom"==b)return a(ia);if("["==b)return a(t("]"),X(Q,"]",","),B,ia);if("{"==b)return a(t("}"),X(Ka,"}",",;"),B,ia);if("("==b)return a(X(Ca,")"),va,ia);if("<"==b)return a(X(Q,">"),Q)}function va(b){if("=>"==b)return a(Q)}function Ka(b,c){if("variable"==b||"keyword"==y.style)return y.marked="property",a(Ka);if("?"==c||"number"==b||"string"==b)return a(Ka);if(":"==b)return a(Q);if("["==b)return a(g("variable"),tb,g("]"),Ka);if("("==b)return d(mb,Ka)}function Ca(b,
c){return"variable"==b&&y.stream.match(/^\s*[?:]/,!1)||"?"==c?a(Ca):":"==b?a(Q):"spread"==b?a(Ca):d(Q)}function ia(b,c){if("<"==c)return a(t(">"),X(Q,">"),B,ia);if("|"==c||"."==b||"&"==c)return a(Q);if("["==b)return a(Q,g("]"),ia);if("extends"==c||"implements"==c)return y.marked="keyword",a(Q);if("?"==c)return a(Q,g(":"),Q)}function Pa(b,c){if("<"==c)return a(t(">"),X(Q,">"),B,ia)}function ka(){return d(Q,Qa)}function Qa(b,c){if("="==c)return a(Q)}function Za(b,c){return"enum"==c?(y.marked="keyword",
a(tc)):d(ca,Ia,Y,P)}function ca(b,d){if(T&&F(d))return y.marked="keyword",a(ca);if("variable"==b)return c(d),a();if("spread"==b)return a(ca);if("["==b)return fa(Da,"]");if("{"==b)return fa(Ya,"}")}function Ya(b,m){if("variable"==b&&!y.stream.match(/^\s*:/,!1))return c(m),a(Y);"variable"==b&&(y.marked="property");return"spread"==b?a(ca):"}"==b?d():"["==b?a(N,g("]"),g(":"),Ya):a(g(":"),ca,Y)}function Da(){return d(ca,Y)}function Y(b,c){if("="==c)return a(D)}function P(b){if(","==b)return a(Za)}function V(b,
c){if("keyword b"==b&&"else"==c)return a(t("form","else"),M,B)}function oc(b,c){if("await"==c)return a(oc);if("("==b)return a(t(")"),La,B)}function La(b){return"var"==b?a(Za,Ra):"variable"==b?a(Ra):d(Ra)}function Ra(b,c){return")"==b?a():";"==b?a(Ra):"in"==c||"of"==c?(y.marked="keyword",a(N,Ra)):d(N,Ra)}function Z(b,d){if("*"==d)return y.marked="keyword",a(Z);if("variable"==b)return c(d),a(Z);if("("==b)return a($,t(")"),X(Sa,")"),B,ha,M,w);if(T&&"<"==d)return a(t(">"),X(ka,">"),B,Z)}function mb(b,
d){if("*"==d)return y.marked="keyword",a(mb);if("variable"==b)return c(d),a(mb);if("("==b)return a($,t(")"),X(Sa,")"),B,ha,w);if(T&&"<"==d)return a(t(">"),X(ka,">"),B,mb)}function Sb(b,c){if("keyword"==b||"variable"==b)return y.marked="type",a(Sb);if("<"==c)return a(t(">"),X(ka,">"),B)}function Sa(b,c){"@"==c&&a(N,Sa);return"spread"==b?a(Sa):T&&F(c)?(y.marked="keyword",a(Sa)):T&&"this"==b?a(Ia,Y):d(ca,Ia,Y)}function dd(a,b){return"variable"==a?ed(a,b):Tb(a,b)}function ed(b,d){if("variable"==b)return c(d),
a(Tb)}function Tb(b,c){if("<"==c)return a(t(">"),X(ka,">"),B,Tb);if("extends"==c||"implements"==c||T&&","==b)return"implements"==c&&(y.marked="keyword"),a(T?Q:N,Tb);if("{"==b)return a(t("}"),Ma,B)}function Ma(b,c){if("async"==b||"variable"==b&&("static"==c||"get"==c||"set"==c||T&&F(c))&&y.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return y.marked="keyword",a(Ma);if("variable"==b||"keyword"==y.style)return y.marked="property",a(T?vb:Z,Ma);if("number"==b||"string"==b)return a(T?vb:Z,Ma);if("["==b)return a(N,
Ia,g("]"),T?vb:Z,Ma);if("*"==c)return y.marked="keyword",a(Ma);if(T&&"("==b)return d(mb,Ma);if(";"==b||","==b)return a(Ma);if("}"==b)return a();if("@"==c)return a(N,Ma)}function vb(b,c){if("?"==c)return a(vb);if(":"==b)return a(Q,Y);if("="==c)return a(D);var g=y.state.lexical.prev;return d(g&&"interface"==g.info?mb:Z)}function Hd(b,c){return"*"==c?(y.marked="keyword",a(nb,g(";"))):"default"==c?(y.marked="keyword",a(N,g(";"))):"{"==b?a(X(gb,"}"),nb,g(";")):d(M)}function gb(b,c){if("as"==c)return y.marked=
"keyword",a(g("variable"));if("variable"==b)return d(D,gb)}function pc(b){return"string"==b?a():"("==b?d(N):d(Cb,qc,nb)}function Cb(b,d){if("{"==b)return fa(Cb,"}");"variable"==b&&c(d);"*"==d&&(y.marked="keyword");return a(fd)}function qc(b){if(","==b)return a(Cb,qc)}function fd(b,c){if("as"==c)return y.marked="keyword",a(Cb)}function nb(b,c){if("from"==c)return y.marked="keyword",a(N)}function sc(b){return"]"==b?a():d(X(D,"]"))}function tc(){return d(t("form"),ca,g("{"),t("}"),X(uc,"}"),B,B)}function uc(){return d(ca,
Y)}function vc(a,b,c){return b.tokenize==q&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||"quasi"==b.lastType&&/\{\s*$/.test(a.string.slice(0,a.pos-(c||0)))}var ob=r.indentUnit,rc=x.statementIndent,Wb=x.jsonld,pb=x.json||Wb,T=x.typescript,Xb=x.wordCharacters||/[\w$\xa1-\uffff]/,id=function(){function a(b){return{type:b,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),g=a("keyword d"),m=a("operator"),l={type:"atom",style:"atom"};
return{"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":g,"break":g,"continue":g,"new":a("new"),"delete":d,"void":d,"throw":d,"debugger":a("debugger"),"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":m,"typeof":m,"instanceof":m,"true":l,"false":l,"null":l,undefined:l,NaN:l,Infinity:l,"this":a("this"),"class":a("class"),"super":a("atom"),yield:d,"export":a("export"),
"import":a("import"),"extends":d,await:d}}(),hd=/[+\-*&%=<>!?|~^@]/,Jd=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,wb,Db,Zb="([{}])",Kd={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},y={state:null,column:null,marked:null,cc:null},Ld=new U("this",new U("arguments",null));w.lex=!0;B.lex=!0;return{startState:function(a){a={tokenize:q,lastType:"sof",cc:[],lexical:new l((a||0)-ob,0,"block",!1),localVars:x.localVars,context:x.localVars&&
new K(null,null,!1),indented:a||0};x.globalVars&&"object"==typeof x.globalVars&&(a.globalVars=x.globalVars);return a},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),C(a,b));if(b.tokenize!=n&&a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==wb)return c;b.lastType="operator"!=wb||"++"!=Db&&"--"!=Db?wb:"incdec";a:{var d=wb,g=Db,m=b.cc;y.state=b;y.stream=a;y.marked=null;y.cc=m;y.style=c;b.lexical.hasOwnProperty("align")||(b.lexical.align=
!0);for(;;)if((m.length?m.pop():pb?N:M)(d,g)){for(;m.length&&m[m.length-1].lex;)m.pop()();if(y.marked){c=y.marked;break a}if(d="variable"==d)b:{for(d=b.localVars;d;d=d.next)if(d.name==g){d=!0;break b}for(m=b.context;m;m=m.prev)for(d=m.vars;d;d=d.next)if(d.name==g){d=!0;break b}d=void 0}if(d){c="variable-2";break a}break a}c=void 0}return c},indent:function(a,b){if(a.tokenize==n)return h.Pass;if(a.tokenize!=q)return 0;var c=b&&b.charAt(0),d=a.lexical,g;if(!/^\s*else\b/.test(b))for(var m=a.cc.length-
1;0<=m;--m){var l=a.cc[m];if(l==B)d=d.prev;else if(l!=V)break}for(;!("stat"!=d.type&&"form"!=d.type||"}"!=c&&(!(g=a.cc[a.cc.length-1])||g!=L&&g!=ga||/^[,\.=+\-*:?[\(]/.test(b)));)d=d.prev;rc&&")"==d.type&&"stat"==d.prev.type&&(d=d.prev);g=d.type;m=c==g;return"vardef"==g?d.indented+("operator"==a.lastType||","==a.lastType?d.info.length+1:0):"form"==g&&"{"==c?d.indented:"form"==g?d.indented+ob:"stat"==g?(c=d.indented,d="operator"==a.lastType||","==a.lastType||hd.test(b.charAt(0))||/[,.]/.test(b.charAt(0)),
c+(d?rc||ob:0)):"switch"!=d.info||m||!1==x.doubleIndentSwitch?d.align?d.column+(m?0:1):d.indented+(m?0:ob):d.indented+(/^(?:case|default)\b/.test(b)?ob:2*ob)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:pb?null:"/*",blockCommentEnd:pb?null:"*/",blockCommentContinue:pb?null:" * ",lineComment:pb?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:pb?"json":"javascript",jsonldMode:Wb,jsonMode:pb,expressionAllowed:vc,skipExpression:function(a){var b=a.cc[a.cc.length-
1];b!=N&&b!=D||a.cc.pop()}}});h.registerHelper("wordChars","javascript",/[\w$]/);h.defineMIME("text/javascript","javascript");h.defineMIME("text/ecmascript","javascript");h.defineMIME("application/javascript","javascript");h.defineMIME("application/x-javascript","javascript");h.defineMIME("application/ecmascript","javascript");h.defineMIME("application/json",{name:"javascript",json:!0});h.defineMIME("application/x-json",{name:"javascript",json:!0});h.defineMIME("application/ld+json",{name:"javascript",
jsonld:!0});h.defineMIME("text/typescript",{name:"javascript",typescript:!0});h.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(h){"object"==typeof exports&&"object"==typeof module?h(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){function r(h){for(var l=0;l<h.state.activeLines.length;l++)h.removeLineClass(h.state.activeLines[l],"wrap",u),h.removeLineClass(h.state.activeLines[l],"background",n),h.removeLineClass(h.state.activeLines[l],"gutter",G)}function x(n,l){if(n.length!=l.length)return!1;for(var d=0;d<n.length;d++)if(n[d]!=
l[d])return!1;return!0}function s(h,l){for(var d=[],a=0;a<l.length;a++){var b=l[a],c=h.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?b.anchor.line==b.head.line:b.empty())b=h.getLineHandleVisualStart(b.head.line),d[d.length-1]!=b&&d.push(b)}x(h.state.activeLines,d)||h.operation(function(){r(h);for(var a=0;a<d.length;a++)h.addLineClass(d[a],"wrap",u),h.addLineClass(d[a],"background",n),h.addLineClass(d[a],"gutter",G);h.state.activeLines=d})}function q(n,l){s(n,l.ranges)}var u="CodeMirror-activeline",
n="CodeMirror-activeline-background",G="CodeMirror-activeline-gutter";h.defineOption("styleActiveLine",!1,function(n,l,d){d=d==h.Init?!1:d;l!=d&&(d&&(n.off("beforeSelectionChange",q),r(n),delete n.state.activeLines),l&&(n.state.activeLines=[],s(n,n.listSelections()),n.on("beforeSelectionChange",q)))})});(function(h){"object"==typeof exports&&"object"==typeof module?h(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){function r(h,l,d){var a=h.getLineHandle(l.line),b=l.ch-1,c=d&&d.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(h.getWrapperElement().className));var m=d&&d.bracketRegex||/[(){}[\]]/,a=!c&&0<=b&&m.test(a.text.charAt(b))&&G[a.text.charAt(b)]||m.test(a.text.charAt(b+1))&&G[a.text.charAt(++b)];if(!a)return null;
c=">"==a.charAt(1)?1:-1;if(d&&d.strict&&0<c!=(b==l.ch))return null;m=h.getTokenTypeAt(n(l.line,b+1));h=x(h,n(l.line,b+(0<c?1:0)),c,m||null,d);return null==h?null:{from:n(l.line,b),to:h&&h.pos,match:h&&h.ch==a.charAt(0),forward:0<c}}function x(h,l,d,a,b){var c=b&&b.maxScanLineLength||1E4,m=b&&b.maxScanLines||1E3,q=[];b=b&&b.bracketRegex||/[(){}[\]]/;for(var m=0<d?Math.min(l.line+m,h.lastLine()+1):Math.max(h.firstLine()-1,l.line-m),u=l.line;u!=m;u+=d){var s=h.getLine(u);if(s){var r=0<d?0:s.length-1,
z=0<d?s.length:-1;if(!(s.length>c))for(u==l.line&&(r=l.ch-(0>d?1:0));r!=z;r+=d){var w=s.charAt(r);if(b.test(w)&&(void 0===a||h.getTokenTypeAt(n(u,r+1))==a)){var t=G[w];if(t&&">"==t.charAt(1)==0<d)q.push(w);else if(q.length)q.pop();else return{pos:n(u,r),ch:w}}}}}return u-d==(0<d?h.lastLine():h.firstLine())?!1:null}function s(h,l,d){for(var a=h.state.matchBrackets.maxHighlightLineLength||1E3,b=[],c=h.listSelections(),m=0;m<c.length;m++){var q=c[m].empty()&&r(h,c[m].head,d);if(q&&h.getLine(q.from.line).length<=
a){var s=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";b.push(h.markText(q.from,n(q.from.line,q.from.ch+1),{className:s}));q.to&&h.getLine(q.to.line).length<=a&&b.push(h.markText(q.to,n(q.to.line,q.to.ch+1),{className:s}))}}if(b.length)if(u&&h.state.focused&&h.focus(),d=function(){h.operation(function(){for(var a=0;a<b.length;a++)b[a].clear()})},l)setTimeout(d,800);else return d}function q(n){n.operation(function(){n.state.matchBrackets.currentlyHighlighted&&(n.state.matchBrackets.currentlyHighlighted(),
n.state.matchBrackets.currentlyHighlighted=null);n.state.matchBrackets.currentlyHighlighted=s(n,!1,n.state.matchBrackets)})}var u=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),n=h.Pos,G={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};h.defineOption("matchBrackets",!1,function(n,l,d){d&&d!=h.Init&&(n.off("cursorActivity",q),n.state.matchBrackets&&n.state.matchBrackets.currentlyHighlighted&&(n.state.matchBrackets.currentlyHighlighted(),
n.state.matchBrackets.currentlyHighlighted=null));l&&(n.state.matchBrackets="object"==typeof l?l:{},n.on("cursorActivity",q))});h.defineExtension("matchBrackets",function(){s(this,!0)});h.defineExtension("findMatchingBracket",function(n,l,d){if(d||"boolean"==typeof l)d?(d.strict=l,l=d):l=l?{strict:!0}:null;return r(this,n,l)});h.defineExtension("scanForBracket",function(n,l,d,a){return x(this,n,l,d,a)})});(function(h){"object"==typeof exports&&"object"==typeof module?h(require("../../lib/codemirror"),require("./matchesonscrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./matchesonscrollbar"],h):h(CodeMirror)})(function(h){function r(d){this.options={};for(var a in l)this.options[a]=(d&&d.hasOwnProperty(a)?d:l)[a];this.matchesonscroll=this.overlay=this.timeout=null;this.active=!1}function x(d){var a=d.state.matchHighlighter;(a.active||d.hasFocus())&&q(d,a)}function s(d){var a=
d.state.matchHighlighter;a.active||(a.active=!0,q(d,a))}function q(d,a){clearTimeout(a.timeout);a.timeout=setTimeout(function(){G(d)},a.options.delay)}function u(d,a,b,c){var m=d.state.matchHighlighter;d.addOverlay(m.overlay=C(a,b,c));m.options.annotateScrollbar&&d.showMatchesOnScrollbar&&(a=b?RegExp("\\b"+a.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+"\\b"):a,m.matchesonscroll=d.showMatchesOnScrollbar(a,!1,{className:"CodeMirror-selection-highlight-scrollbar"}))}function n(d){var a=d.state.matchHighlighter;
a.overlay&&(d.removeOverlay(a.overlay),a.overlay=null,a.matchesonscroll&&(a.matchesonscroll.clear(),a.matchesonscroll=null))}function G(d){d.operation(function(){var a=d.state.matchHighlighter;n(d);if(!d.somethingSelected()&&a.options.showToken){for(var b=!0===a.options.showToken?/[\w$]/:a.options.showToken,c=d.getCursor(),m=d.getLine(c.line),l=c=c.ch;c&&b.test(m.charAt(c-1));)--c;for(;l<m.length&&b.test(m.charAt(l));)++l;c<l&&u(d,m.slice(c,l),b,a.options.style)}else if(b=d.getCursor("from"),m=d.getCursor("to"),
b.line==m.line){if(c=a.options.wordsOnly){a:if(null!==d.getRange(b,m).match(/^\w+$/)){if(0<b.ch&&(c={line:b.line,ch:b.ch-1},c=d.getRange(c,b),null===c.match(/\W/))){c=!1;break a}if(m.ch<d.getLine(b.line).length&&(c={line:m.line,ch:m.ch+1},c=d.getRange(m,c),null===c.match(/\W/))){c=!1;break a}c=!0}else c=!1;c=!c}c||(b=d.getRange(b,m),a.options.trim&&(b=b.replace(/^\s+|\s+$/g,"")),b.length>=a.options.minChars&&u(d,b,!1,a.options.style))}})}function C(d,a,b){return{token:function(c){var m;if(m=c.match(d))(m=
!a)||(m=(!c.start||!a.test(c.string.charAt(c.start-1)))&&(c.pos==c.string.length||!a.test(c.string.charAt(c.pos))));if(m)return b;c.next();c.skipTo(d.charAt(0))||c.skipToEnd()}}}var l={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};h.defineOption("highlightSelectionMatches",!1,function(d,a,b){b&&b!=h.Init&&(n(d),clearTimeout(d.state.matchHighlighter.timeout),d.state.matchHighlighter=null,d.off("cursorActivity",x),d.off("focus",s));if(a){a=d.state.matchHighlighter=
new r(a);if(d.hasFocus())a.active=!0,G(d);else d.on("focus",s);d.on("cursorActivity",x)}})});(function(h,r){"object"===typeof exports&&"object"===typeof module?module.exports=r():"function"===typeof define&&define.amd?define([],r):"object"===typeof exports?exports.esprima=r():h.esprima=r()})(this,function(){return function(h){function r(s){if(x[s])return x[s].exports;var q=x[s]={exports:{},id:s,loaded:!1};h[s].call(q.exports,q,q.exports,r);q.loaded=!0;return q.exports}var x={};r.m=h;r.c=x;r.p="";return r(0)}([function(h,r,x){function s(h,l,d){var a=null,b=function(b,c){d&&d(b,c);a&&a.visit(b,
c)},c="function"===typeof d?b:null,m=!1;if(l){var m="boolean"===typeof l.comment&&l.comment,F="boolean"===typeof l.attachComment&&l.attachComment;if(m||F)a=new q.CommentHandler,a.attach=F,l.comment=!0,c=b}b=!1;l&&"string"===typeof l.sourceType&&(b="module"===l.sourceType);h=l&&"boolean"===typeof l.jsx&&l.jsx?new u.JSXParser(h,l,c):new n.Parser(h,l,c);l=b?h.parseModule():h.parseScript();m&&a&&(l.comments=a.comments);h.config.tokens&&(l.tokens=h.tokens);h.config.tolerant&&(l.errors=h.errorHandler.errors);
return l}Object.defineProperty(r,"__esModule",{value:!0});var q=x(1),u=x(3),n=x(8),G=x(15);r.parse=s;r.parseModule=function(n,l,d){l=l||{};l.sourceType="module";return s(n,l,d)};r.parseScript=function(n,l,d){l=l||{};l.sourceType="script";return s(n,l,d)};r.tokenize=function(n,l,d){n=new G.Tokenizer(n,l);l=[];try{for(;;){var a=n.getNextToken();if(!a)break;d&&(a=d(a));l.push(a)}}catch(b){n.errorHandler.tolerate(b)}n.errorHandler.tolerant&&(l.errors=n.errors());return l};h=x(2);r.Syntax=h.Syntax;r.version=
"4.0.1"},function(h,r,x){Object.defineProperty(r,"__esModule",{value:!0});var s=x(2);h=function(){function h(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}h.prototype.insertInnerComments=function(h,n){if(h.type===s.Syntax.BlockStatement&&0===h.body.length){for(var q=[],r=this.leading.length-1;0<=r;--r){var l=this.leading[r];n.end.offset>=l.start&&(q.unshift(l.comment),this.leading.splice(r,1),this.trailing.splice(r,1))}q.length&&(h.innerComments=q)}};h.prototype.findTrailingComments=
function(h){var n=[];if(0<this.trailing.length){for(var q=this.trailing.length-1;0<=q;--q){var s=this.trailing[q];s.start>=h.end.offset&&n.unshift(s.comment)}this.trailing.length=0;return n}(q=this.stack[this.stack.length-1])&&q.node.trailingComments&&(s=q.node.trailingComments[0])&&s.range[0]>=h.end.offset&&(n=q.node.trailingComments,delete q.node.trailingComments);return n};h.prototype.findLeadingComments=function(h){for(var n=[],q;0<this.stack.length;){var s=this.stack[this.stack.length-1];if(s&&
s.start>=h.start.offset)q=s.node,this.stack.pop();else break}if(q){for(var l=(q.leadingComments?q.leadingComments.length:0)-1;0<=l;--l)s=q.leadingComments[l],s.range[1]<=h.start.offset&&(n.unshift(s),q.leadingComments.splice(l,1));q.leadingComments&&0===q.leadingComments.length&&delete q.leadingComments;return n}for(l=this.leading.length-1;0<=l;--l)s=this.leading[l],s.start<=h.start.offset&&(n.unshift(s.comment),this.leading.splice(l,1));return n};h.prototype.visitNode=function(h,n){if(!(h.type===
s.Syntax.Program&&0<h.body.length)){this.insertInnerComments(h,n);var q=this.findTrailingComments(n),r=this.findLeadingComments(n);0<r.length&&(h.leadingComments=r);0<q.length&&(h.trailingComments=q);this.stack.push({node:h,start:n.start.offset})}};h.prototype.visitComment=function(h,n){var q="L"===h.type[0]?"Line":"Block",s={type:q,value:h.value};h.range&&(s.range=h.range);h.loc&&(s.loc=h.loc);this.comments.push(s);this.attach&&(s={comment:{type:q,value:h.value,range:[n.start.offset,n.end.offset]},
start:n.start.offset},h.loc&&(s.comment.loc=h.loc),h.type=q,this.leading.push(s),this.trailing.push(s))};h.prototype.visit=function(h,n){"LineComment"===h.type?this.visitComment(h,n):"BlockComment"===h.type?this.visitComment(h,n):this.attach&&this.visitNode(h,n)};return h}();r.CommentHandler=h},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});r.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",
ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",
ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",
ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",
SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",
YieldExpression:"YieldExpression"}},function(h,r,x){function s(a){var b;switch(a.type){case G.JSXSyntax.JSXIdentifier:b=a.name;break;case G.JSXSyntax.JSXNamespacedName:b=s(a.namespace)+":"+s(a.name);break;case G.JSXSyntax.JSXMemberExpression:b=s(a.object)+"."+s(a.property)}return b}var q=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])};return function(b,c){function d(){this.constructor=
b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=x(4),n=x(5),G=x(6),C=x(7);h=x(8);var l=x(13),d=x(14);l.TokenName[100]="JSXIdentifier";l.TokenName[101]="JSXText";x=function(a){function b(b,d,l){return a.call(this,b,d,l)||this}q(b,a);b.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():a.prototype.parsePrimaryExpression.call(this)};b.prototype.startJSX=function(){this.scanner.index=
this.startMarker.index;this.scanner.lineNumber=this.startMarker.line;this.scanner.lineStart=this.startMarker.index-this.startMarker.column};b.prototype.finishJSX=function(){this.nextToken()};b.prototype.reenterJSX=function(){this.startJSX();this.expectJSX("}");this.config.tokens&&this.tokens.pop()};b.prototype.createJSXNode=function(){this.collectComments();return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}};b.prototype.createJSXChildNode=
function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}};b.prototype.scanXHTMLEntity=function(a){for(var b="&",l=!0,h=!1,n=!1,q=!1;!this.scanner.eof()&&l&&!h;){var s=this.scanner.source[this.scanner.index];if(s===a)break;h=";"===s;b+=s;++this.scanner.index;if(!h)switch(b.length){case 2:n="#"===s;break;case 3:n&&(l=(q="x"===s)||u.Character.isDecimalDigit(s.charCodeAt(0)),n=n&&!q);break;default:l=(l=l&&!(n&&!u.Character.isDecimalDigit(s.charCodeAt(0))))&&
!(q&&!u.Character.isHexDigit(s.charCodeAt(0)))}}l&&h&&2<b.length&&(a=b.substr(1,b.length-2),n&&1<a.length?b=String.fromCharCode(parseInt(a.substr(1),10)):q&&2<a.length?b=String.fromCharCode(parseInt("0"+a.substr(1),16)):n||q||!d.XHTMLEntities[a]||(b=d.XHTMLEntities[a]));return b};b.prototype.lexJSX=function(){var a=this.scanner.source.charCodeAt(this.scanner.index);if(60===a||62===a||47===a||58===a||61===a||123===a||125===a){var b=this.scanner.source[this.scanner.index++];return{type:7,value:b,lineNumber:this.scanner.lineNumber,
lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(34===a||39===a){for(var a=this.scanner.index,b=this.scanner.source[this.scanner.index++],d="";!this.scanner.eof();){var l=this.scanner.source[this.scanner.index++];if(l===b)break;else d="&"===l?d+this.scanXHTMLEntity(b):d+l}return{type:8,value:d,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index}}if(46===a)return a=this.scanner.source.charCodeAt(this.scanner.index+
1),b=this.scanner.source.charCodeAt(this.scanner.index+2),b=46===a&&46===b?"...":".",a=this.scanner.index,this.scanner.index+=b.length,{type:7,value:b,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index};if(96===a)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(u.Character.isIdentifierStart(a)&&92!==a){a=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();)if(l=
this.scanner.source.charCodeAt(this.scanner.index),u.Character.isIdentifierPart(l)&&92!==l)++this.scanner.index;else if(45===l)++this.scanner.index;else break;return{type:100,value:this.scanner.source.slice(a,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index}}return this.scanner.lex()};b.prototype.nextJSXToken=function(){this.collectComments();this.startMarker.index=this.scanner.index;this.startMarker.line=this.scanner.lineNumber;
this.startMarker.column=this.scanner.index-this.scanner.lineStart;var a=this.lexJSX();this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.config.tokens&&this.tokens.push(this.convertToken(a));return a};b.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index;this.startMarker.line=this.scanner.lineNumber;this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var a=
this.scanner.index,b="";!this.scanner.eof();){var d=this.scanner.source[this.scanner.index];if("{"===d||"<"===d)break;++this.scanner.index;b+=d;u.Character.isLineTerminator(d.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===d&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;a={type:101,
value:b,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index};0<b.length&&this.config.tokens&&this.tokens.push(this.convertToken(a));return a};b.prototype.peekJSXToken=function(){var a=this.scanner.saveState();this.scanner.scanComments();var b=this.lexJSX();this.scanner.restoreState(a);return b};b.prototype.expectJSX=function(a){var b=this.nextJSXToken();7===b.type&&b.value===a||this.throwUnexpectedToken(b)};b.prototype.matchJSX=function(a){var b=this.peekJSXToken();
return 7===b.type&&b.value===a};b.prototype.parseJSXIdentifier=function(){var a=this.createJSXNode(),b=this.nextJSXToken();100!==b.type&&this.throwUnexpectedToken(b);return this.finalize(a,new n.JSXIdentifier(b.value))};b.prototype.parseJSXElementName=function(){var a=this.createJSXNode(),b=this.parseJSXIdentifier();if(this.matchJSX(":")){this.expectJSX(":");var d=this.parseJSXIdentifier(),b=this.finalize(a,new n.JSXNamespacedName(b,d))}else if(this.matchJSX("."))for(;this.matchJSX(".");)this.expectJSX("."),
d=this.parseJSXIdentifier(),b=this.finalize(a,new n.JSXMemberExpression(b,d));return b};b.prototype.parseJSXAttributeName=function(){var a=this.createJSXNode(),b=this.parseJSXIdentifier();if(this.matchJSX(":")){this.expectJSX(":");var d=this.parseJSXIdentifier(),a=this.finalize(a,new n.JSXNamespacedName(b,d))}else a=b;return a};b.prototype.parseJSXStringLiteralAttribute=function(){var a=this.createJSXNode(),b=this.nextJSXToken();8!==b.type&&this.throwUnexpectedToken(b);var d=this.getTokenRaw(b);return this.finalize(a,
new C.Literal(b.value,d))};b.prototype.parseJSXExpressionAttribute=function(){var a=this.createJSXNode();this.expectJSX("{");this.finishJSX();this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var b=this.parseAssignmentExpression();this.reenterJSX();return this.finalize(a,new n.JSXExpressionContainer(b))};b.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():
this.parseJSXStringLiteralAttribute()};b.prototype.parseJSXNameValueAttribute=function(){var a=this.createJSXNode(),b=this.parseJSXAttributeName(),d=null;this.matchJSX("=")&&(this.expectJSX("="),d=this.parseJSXAttributeValue());return this.finalize(a,new n.JSXAttribute(b,d))};b.prototype.parseJSXSpreadAttribute=function(){var a=this.createJSXNode();this.expectJSX("{");this.expectJSX("...");this.finishJSX();var b=this.parseAssignmentExpression();this.reenterJSX();return this.finalize(a,new n.JSXSpreadAttribute(b))};
b.prototype.parseJSXAttributes=function(){for(var a=[];!this.matchJSX("/")&&!this.matchJSX(">");){var b=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();a.push(b)}return a};b.prototype.parseJSXOpeningElement=function(){var a=this.createJSXNode();this.expectJSX("<");var b=this.parseJSXElementName(),d=this.parseJSXAttributes(),l=this.matchJSX("/");l&&this.expectJSX("/");this.expectJSX(">");return this.finalize(a,new n.JSXOpeningElement(b,l,d))};b.prototype.parseJSXBoundaryElement=
function(){var a=this.createJSXNode();this.expectJSX("<");if(this.matchJSX("/")){this.expectJSX("/");var b=this.parseJSXElementName();this.expectJSX(">");return this.finalize(a,new n.JSXClosingElement(b))}var b=this.parseJSXElementName(),d=this.parseJSXAttributes(),l=this.matchJSX("/");l&&this.expectJSX("/");this.expectJSX(">");return this.finalize(a,new n.JSXOpeningElement(b,l,d))};b.prototype.parseJSXEmptyExpression=function(){var a=this.createJSXChildNode();this.collectComments();this.lastMarker.index=
this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;return this.finalize(a,new n.JSXEmptyExpression)};b.prototype.parseJSXExpressionContainer=function(){var a=this.createJSXNode();this.expectJSX("{");var b;this.matchJSX("}")?(b=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),b=this.parseAssignmentExpression(),this.reenterJSX());return this.finalize(a,new n.JSXExpressionContainer(b))};b.prototype.parseJSXChildren=
function(){for(var a=[];!this.scanner.eof();){var b=this.createJSXChildNode(),d=this.nextJSXText();if(d.start<d.end){var l=this.getTokenRaw(d),b=this.finalize(b,new n.JSXText(d.value,l));a.push(b)}if("{"===this.scanner.source[this.scanner.index])b=this.parseJSXExpressionContainer(),a.push(b);else break}return a};b.prototype.parseComplexJSXElement=function(a){for(var b=[];!this.scanner.eof();){a.children=a.children.concat(this.parseJSXChildren());var d=this.createJSXChildNode(),l=this.parseJSXBoundaryElement();
if(l.type===G.JSXSyntax.JSXOpeningElement){var h=l;h.selfClosing?(d=this.finalize(d,new n.JSXElement(h,[],null)),a.children.push(d)):(b.push(a),a={node:d,opening:h,closing:null,children:[]})}if(l.type===G.JSXSyntax.JSXClosingElement)if(a.closing=l,l=s(a.opening.name),d=s(a.closing.name),l!==d&&this.tolerateError("Expected corresponding JSX closing tag for %0",l),0<b.length)d=this.finalize(a.node,new n.JSXElement(a.opening,a.children,a.closing)),a=b[b.length-1],a.children.push(d),b.pop();else break}return a};
b.prototype.parseJSXElement=function(){var a=this.createJSXNode(),b=this.parseJSXOpeningElement(),d=[],l=null;b.selfClosing||(l=this.parseComplexJSXElement({node:a,opening:b,closing:l,children:d}),d=l.children,l=l.closing);return this.finalize(a,new n.JSXElement(b,d,l))};b.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop();this.startJSX();var a=this.parseJSXElement();this.finishJSX();return a};b.prototype.isStartOfExpression=function(){return a.prototype.isStartOfExpression.call(this)||
this.match("<")};return b}(h.Parser);r.JSXParser=x},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});var x=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,
s=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
r.Character={fromCodePoint:function(h){return 65536>h?String.fromCharCode(h):String.fromCharCode(55296+(h-65536>>10))+String.fromCharCode(56320+(h-65536&1023))},isWhiteSpace:function(h){return 32===h||9===h||11===h||12===h||160===h||5760<=h&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(h)},isLineTerminator:function(h){return 10===h||13===h||8232===h||8233===h},isIdentifierStart:function(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||92===h||
128<=h&&x.test(r.Character.fromCodePoint(h))},isIdentifierPart:function(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||48<=h&&57>=h||92===h||128<=h&&s.test(r.Character.fromCodePoint(h))},isDecimalDigit:function(h){return 48<=h&&57>=h},isHexDigit:function(h){return 48<=h&&57>=h||65<=h&&70>=h||97<=h&&102>=h},isOctalDigit:function(h){return 48<=h&&55>=h}}},function(h,r,x){Object.defineProperty(r,"__esModule",{value:!0});var s=x(6);h=function(){return function(h){this.type=s.JSXSyntax.JSXClosingElement;
this.name=h}}();r.JSXClosingElement=h;h=function(){return function(h,u,n){this.type=s.JSXSyntax.JSXElement;this.openingElement=h;this.children=u;this.closingElement=n}}();r.JSXElement=h;h=function(){return function(){this.type=s.JSXSyntax.JSXEmptyExpression}}();r.JSXEmptyExpression=h;h=function(){return function(h){this.type=s.JSXSyntax.JSXExpressionContainer;this.expression=h}}();r.JSXExpressionContainer=h;h=function(){return function(h){this.type=s.JSXSyntax.JSXIdentifier;this.name=h}}();r.JSXIdentifier=
h;h=function(){return function(h,u){this.type=s.JSXSyntax.JSXMemberExpression;this.object=h;this.property=u}}();r.JSXMemberExpression=h;h=function(){return function(h,u){this.type=s.JSXSyntax.JSXAttribute;this.name=h;this.value=u}}();r.JSXAttribute=h;h=function(){return function(h,u){this.type=s.JSXSyntax.JSXNamespacedName;this.namespace=h;this.name=u}}();r.JSXNamespacedName=h;h=function(){return function(h,u,n){this.type=s.JSXSyntax.JSXOpeningElement;this.name=h;this.selfClosing=u;this.attributes=
n}}();r.JSXOpeningElement=h;h=function(){return function(h){this.type=s.JSXSyntax.JSXSpreadAttribute;this.argument=h}}();r.JSXSpreadAttribute=h;h=function(){return function(h,u){this.type=s.JSXSyntax.JSXText;this.value=h;this.raw=u}}();r.JSXText=h},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});r.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",
JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(h,r,x){Object.defineProperty(r,"__esModule",{value:!0});var s=x(2);h=function(){return function(h){this.type=s.Syntax.ArrayExpression;this.elements=h}}();r.ArrayExpression=h;h=function(){return function(h){this.type=s.Syntax.ArrayPattern;this.elements=h}}();r.ArrayPattern=h;h=function(){return function(h,
u,n){this.type=s.Syntax.ArrowFunctionExpression;this.id=null;this.params=h;this.body=u;this.generator=!1;this.expression=n;this.async=!1}}();r.ArrowFunctionExpression=h;h=function(){return function(h,u,n){this.type=s.Syntax.AssignmentExpression;this.operator=h;this.left=u;this.right=n}}();r.AssignmentExpression=h;h=function(){return function(h,u){this.type=s.Syntax.AssignmentPattern;this.left=h;this.right=u}}();r.AssignmentPattern=h;h=function(){return function(h,u,n){this.type=s.Syntax.ArrowFunctionExpression;
this.id=null;this.params=h;this.body=u;this.generator=!1;this.expression=n;this.async=!0}}();r.AsyncArrowFunctionExpression=h;h=function(){return function(h,u,n){this.type=s.Syntax.FunctionDeclaration;this.id=h;this.params=u;this.body=n;this.expression=this.generator=!1;this.async=!0}}();r.AsyncFunctionDeclaration=h;h=function(){return function(h,u,n){this.type=s.Syntax.FunctionExpression;this.id=h;this.params=u;this.body=n;this.expression=this.generator=!1;this.async=!0}}();r.AsyncFunctionExpression=
h;h=function(){return function(h){this.type=s.Syntax.AwaitExpression;this.argument=h}}();r.AwaitExpression=h;h=function(){return function(h,u,n){this.type="||"===h||"&&"===h?s.Syntax.LogicalExpression:s.Syntax.BinaryExpression;this.operator=h;this.left=u;this.right=n}}();r.BinaryExpression=h;h=function(){return function(h){this.type=s.Syntax.BlockStatement;this.body=h}}();r.BlockStatement=h;h=function(){return function(h){this.type=s.Syntax.BreakStatement;this.label=h}}();r.BreakStatement=h;h=function(){return function(h,
u){this.type=s.Syntax.CallExpression;this.callee=h;this.arguments=u}}();r.CallExpression=h;h=function(){return function(h,u){this.type=s.Syntax.CatchClause;this.param=h;this.body=u}}();r.CatchClause=h;h=function(){return function(h){this.type=s.Syntax.ClassBody;this.body=h}}();r.ClassBody=h;h=function(){return function(h,u,n){this.type=s.Syntax.ClassDeclaration;this.id=h;this.superClass=u;this.body=n}}();r.ClassDeclaration=h;h=function(){return function(h,u,n){this.type=s.Syntax.ClassExpression;this.id=
h;this.superClass=u;this.body=n}}();r.ClassExpression=h;h=function(){return function(h,u){this.type=s.Syntax.MemberExpression;this.computed=!0;this.object=h;this.property=u}}();r.ComputedMemberExpression=h;h=function(){return function(h,u,n){this.type=s.Syntax.ConditionalExpression;this.test=h;this.consequent=u;this.alternate=n}}();r.ConditionalExpression=h;h=function(){return function(h){this.type=s.Syntax.ContinueStatement;this.label=h}}();r.ContinueStatement=h;h=function(){return function(){this.type=
s.Syntax.DebuggerStatement}}();r.DebuggerStatement=h;h=function(){return function(h,u){this.type=s.Syntax.ExpressionStatement;this.expression=h;this.directive=u}}();r.Directive=h;h=function(){return function(h,u){this.type=s.Syntax.DoWhileStatement;this.body=h;this.test=u}}();r.DoWhileStatement=h;h=function(){return function(){this.type=s.Syntax.EmptyStatement}}();r.EmptyStatement=h;h=function(){return function(h){this.type=s.Syntax.ExportAllDeclaration;this.source=h}}();r.ExportAllDeclaration=h;
h=function(){return function(h){this.type=s.Syntax.ExportDefaultDeclaration;this.declaration=h}}();r.ExportDefaultDeclaration=h;h=function(){return function(h,u,n){this.type=s.Syntax.ExportNamedDeclaration;this.declaration=h;this.specifiers=u;this.source=n}}();r.ExportNamedDeclaration=h;h=function(){return function(h,u){this.type=s.Syntax.ExportSpecifier;this.exported=u;this.local=h}}();r.ExportSpecifier=h;h=function(){return function(h){this.type=s.Syntax.ExpressionStatement;this.expression=h}}();
r.ExpressionStatement=h;h=function(){return function(h,u,n){this.type=s.Syntax.ForInStatement;this.left=h;this.right=u;this.body=n;this.each=!1}}();r.ForInStatement=h;h=function(){return function(h,u,n){this.type=s.Syntax.ForOfStatement;this.left=h;this.right=u;this.body=n}}();r.ForOfStatement=h;h=function(){return function(h,u,n,r){this.type=s.Syntax.ForStatement;this.init=h;this.test=u;this.update=n;this.body=r}}();r.ForStatement=h;h=function(){return function(h,u,n,r){this.type=s.Syntax.FunctionDeclaration;
this.id=h;this.params=u;this.body=n;this.generator=r;this.async=this.expression=!1}}();r.FunctionDeclaration=h;h=function(){return function(h,u,n,r){this.type=s.Syntax.FunctionExpression;this.id=h;this.params=u;this.body=n;this.generator=r;this.async=this.expression=!1}}();r.FunctionExpression=h;h=function(){return function(h){this.type=s.Syntax.Identifier;this.name=h}}();r.Identifier=h;h=function(){return function(h,u,n){this.type=s.Syntax.IfStatement;this.test=h;this.consequent=u;this.alternate=
n}}();r.IfStatement=h;h=function(){return function(h,u){this.type=s.Syntax.ImportDeclaration;this.specifiers=h;this.source=u}}();r.ImportDeclaration=h;h=function(){return function(h){this.type=s.Syntax.ImportDefaultSpecifier;this.local=h}}();r.ImportDefaultSpecifier=h;h=function(){return function(h){this.type=s.Syntax.ImportNamespaceSpecifier;this.local=h}}();r.ImportNamespaceSpecifier=h;h=function(){return function(h,u){this.type=s.Syntax.ImportSpecifier;this.local=h;this.imported=u}}();r.ImportSpecifier=
h;h=function(){return function(h,u){this.type=s.Syntax.LabeledStatement;this.label=h;this.body=u}}();r.LabeledStatement=h;h=function(){return function(h,u){this.type=s.Syntax.Literal;this.value=h;this.raw=u}}();r.Literal=h;h=function(){return function(h,u){this.type=s.Syntax.MetaProperty;this.meta=h;this.property=u}}();r.MetaProperty=h;h=function(){return function(h,u,n,r,C){this.type=s.Syntax.MethodDefinition;this.key=h;this.computed=u;this.value=n;this.kind=r;this.static=C}}();r.MethodDefinition=
h;h=function(){return function(h){this.type=s.Syntax.Program;this.body=h;this.sourceType="module"}}();r.Module=h;h=function(){return function(h,u){this.type=s.Syntax.NewExpression;this.callee=h;this.arguments=u}}();r.NewExpression=h;h=function(){return function(h){this.type=s.Syntax.ObjectExpression;this.properties=h}}();r.ObjectExpression=h;h=function(){return function(h){this.type=s.Syntax.ObjectPattern;this.properties=h}}();r.ObjectPattern=h;h=function(){return function(h,u,n,r,C,l){this.type=
s.Syntax.Property;this.key=u;this.computed=n;this.value=r;this.kind=h;this.method=C;this.shorthand=l}}();r.Property=h;h=function(){return function(h,u,n,r){this.type=s.Syntax.Literal;this.value=h;this.raw=u;this.regex={pattern:n,flags:r}}}();r.RegexLiteral=h;h=function(){return function(h){this.type=s.Syntax.RestElement;this.argument=h}}();r.RestElement=h;h=function(){return function(h){this.type=s.Syntax.ReturnStatement;this.argument=h}}();r.ReturnStatement=h;h=function(){return function(h){this.type=
s.Syntax.Program;this.body=h;this.sourceType="script"}}();r.Script=h;h=function(){return function(h){this.type=s.Syntax.SequenceExpression;this.expressions=h}}();r.SequenceExpression=h;h=function(){return function(h){this.type=s.Syntax.SpreadElement;this.argument=h}}();r.SpreadElement=h;h=function(){return function(h,u){this.type=s.Syntax.MemberExpression;this.computed=!1;this.object=h;this.property=u}}();r.StaticMemberExpression=h;h=function(){return function(){this.type=s.Syntax.Super}}();r.Super=
h;h=function(){return function(h,u){this.type=s.Syntax.SwitchCase;this.test=h;this.consequent=u}}();r.SwitchCase=h;h=function(){return function(h,u){this.type=s.Syntax.SwitchStatement;this.discriminant=h;this.cases=u}}();r.SwitchStatement=h;h=function(){return function(h,u){this.type=s.Syntax.TaggedTemplateExpression;this.tag=h;this.quasi=u}}();r.TaggedTemplateExpression=h;h=function(){return function(h,u){this.type=s.Syntax.TemplateElement;this.value=h;this.tail=u}}();r.TemplateElement=h;h=function(){return function(h,
u){this.type=s.Syntax.TemplateLiteral;this.quasis=h;this.expressions=u}}();r.TemplateLiteral=h;h=function(){return function(){this.type=s.Syntax.ThisExpression}}();r.ThisExpression=h;h=function(){return function(h){this.type=s.Syntax.ThrowStatement;this.argument=h}}();r.ThrowStatement=h;h=function(){return function(h,u,n){this.type=s.Syntax.TryStatement;this.block=h;this.handler=u;this.finalizer=n}}();r.TryStatement=h;h=function(){return function(h,u){this.type=s.Syntax.UnaryExpression;this.operator=
h;this.argument=u;this.prefix=!0}}();r.UnaryExpression=h;h=function(){return function(h,u,n){this.type=s.Syntax.UpdateExpression;this.operator=h;this.argument=u;this.prefix=n}}();r.UpdateExpression=h;h=function(){return function(h,u){this.type=s.Syntax.VariableDeclaration;this.declarations=h;this.kind=u}}();r.VariableDeclaration=h;h=function(){return function(h,u){this.type=s.Syntax.VariableDeclarator;this.id=h;this.init=u}}();r.VariableDeclarator=h;h=function(){return function(h,u){this.type=s.Syntax.WhileStatement;
this.test=h;this.body=u}}();r.WhileStatement=h;h=function(){return function(h,u){this.type=s.Syntax.WithStatement;this.object=h;this.body=u}}();r.WithStatement=h;h=function(){return function(h,u){this.type=s.Syntax.YieldExpression;this.argument=h;this.delegate=u}}();r.YieldExpression=h},function(h,r,x){Object.defineProperty(r,"__esModule",{value:!0});var s=x(9),q=x(10),u=x(11),n=x(7),G=x(12),C=x(2),l=x(13);h=function(){function d(a,b,c){void 0===b&&(b={});this.config={range:"boolean"===typeof b.range&&
b.range,loc:"boolean"===typeof b.loc&&b.loc,source:null,tokens:"boolean"===typeof b.tokens&&b.tokens,comment:"boolean"===typeof b.comment&&b.comment,tolerant:"boolean"===typeof b.tolerant&&b.tolerant};this.config.loc&&b.source&&null!==b.source&&(this.config.source=String(b.source));this.delegate=c;this.errorHandler=new q.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new G.Scanner(a,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence=
{")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,
labelSet:{},strict:!1};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}d.prototype.throwError=function(a){for(var b=1;b<arguments.length;b++);var c=Array.prototype.slice.call(arguments,1),b=a.replace(/%(\d)/g,function(a,b){s.assert(b<c.length,"Message reference must be in range");
return c[b]});throw this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,b);};d.prototype.tolerateError=function(a){for(var b=1;b<arguments.length;b++);var c=Array.prototype.slice.call(arguments,1),b=a.replace(/%(\d)/g,function(a,b){s.assert(b<c.length,"Message reference must be in range");return c[b]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,b)};d.prototype.unexpectedTokenError=function(a,
b){var c=b||u.Messages.UnexpectedToken,d;a?(b||(c=2===a.type?u.Messages.UnexpectedEOS:3===a.type?u.Messages.UnexpectedIdentifier:6===a.type?u.Messages.UnexpectedNumber:8===a.type?u.Messages.UnexpectedString:10===a.type?u.Messages.UnexpectedTemplate:u.Messages.UnexpectedToken,4===a.type&&(this.scanner.isFutureReservedWord(a.value)?c=u.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(a.value)&&(c=u.Messages.StrictReservedWord))),d=a.value):d="ILLEGAL";c=c.replace("%0",
d);if(a&&"number"===typeof a.lineNumber){d=a.start;var l=a.lineNumber,h=a.start-(this.lastMarker.index-this.lastMarker.column)+1}else d=this.lastMarker.index,l=this.lastMarker.line,h=this.lastMarker.column+1;return this.errorHandler.createError(d,l,h,c)};d.prototype.throwUnexpectedToken=function(a,b){throw this.unexpectedTokenError(a,b);};d.prototype.tolerateUnexpectedToken=function(a,b){this.errorHandler.tolerate(this.unexpectedTokenError(a,b))};d.prototype.collectComments=function(){if(this.config.comment){var a=
this.scanner.scanComments();if(0<a.length&&this.delegate)for(var b=0;b<a.length;++b){var c=a[b],d=void 0,d={type:c.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(c.slice[0],c.slice[1])};this.config.range&&(d.range=c.range);this.config.loc&&(d.loc=c.loc);this.delegate(d,{start:{line:c.loc.start.line,column:c.loc.start.column,offset:c.range[0]},end:{line:c.loc.end.line,column:c.loc.end.column,offset:c.range[1]}})}}else this.scanner.scanComments()};d.prototype.getTokenRaw=function(a){return this.scanner.source.slice(a.start,
a.end)};d.prototype.convertToken=function(a){var b={type:l.TokenName[a.type],value:this.getTokenRaw(a)};this.config.range&&(b.range=[a.start,a.end]);this.config.loc&&(b.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===a.type&&(b.regex={pattern:a.pattern,flags:a.flags});return b};d.prototype.nextToken=function(){var a=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=
this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var b=this.scanner.lex();this.hasLineTerminator=a.lineNumber!==b.lineNumber;b&&this.context.strict&&3===b.type&&this.scanner.isStrictModeReservedWord(b.value)&&(b.type=4);this.lookahead=b;
this.config.tokens&&2!==b.type&&this.tokens.push(this.convertToken(b));return a};d.prototype.nextRegexToken=function(){this.collectComments();var a=this.scanner.scanRegExp();this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(a)));this.lookahead=a;this.nextToken();return a};d.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};d.prototype.startNode=function(a,b){void 0===b&&(b=0);var c=a.start-a.lineStart,
d=a.lineNumber;0>c&&(c+=b,d--);return{index:a.start,line:d,column:c}};d.prototype.finalize=function(a,b){this.config.range&&(b.range=[a.index,this.lastMarker.index]);this.config.loc&&(b.loc={start:{line:a.line,column:a.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(b.loc.source=this.config.source));this.delegate&&this.delegate(b,{start:{line:a.line,column:a.column,offset:a.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});
return b};d.prototype.expect=function(a){var b=this.nextToken();7===b.type&&b.value===a||this.throwUnexpectedToken(b)};d.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var a=this.lookahead;7===a.type&&","===a.value?this.nextToken():7===a.type&&";"===a.value?(this.nextToken(),this.tolerateUnexpectedToken(a)):this.tolerateUnexpectedToken(a,u.Messages.UnexpectedToken)}else this.expect(",")};d.prototype.expectKeyword=function(a){var b=this.nextToken();4===b.type&&b.value===a||this.throwUnexpectedToken(b)};
d.prototype.match=function(a){return 7===this.lookahead.type&&this.lookahead.value===a};d.prototype.matchKeyword=function(a){return 4===this.lookahead.type&&this.lookahead.value===a};d.prototype.matchContextualKeyword=function(a){return 3===this.lookahead.type&&this.lookahead.value===a};d.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var a=this.lookahead.value;return"="===a||"*="===a||"**="===a||"/="===a||"%="===a||"+="===a||"-="===a||"<<="===a||">>="===a||">>>="===a||"&="===
a||"^="===a||"|="===a};d.prototype.isolateCoverGrammar=function(a){var b=this.context.isBindingElement,c=this.context.isAssignmentTarget,d=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=b;this.context.isAssignmentTarget=
c;this.context.firstCoverInitializedNameError=d;return a};d.prototype.inheritCoverGrammar=function(a){var b=this.context.isBindingElement,c=this.context.isAssignmentTarget,d=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);this.context.isBindingElement=this.context.isBindingElement&&b;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&c;this.context.firstCoverInitializedNameError=
d||this.context.firstCoverInitializedNameError;return a};d.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};d.prototype.parsePrimaryExpression=function(){var a=this.createNode(),b,c;switch(this.lookahead.type){case 3:(this.context.isModule||
this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead);a=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(a,new n.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,u.Messages.StrictOctalLiteral);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.nextToken();c=this.getTokenRaw(b);a=this.finalize(a,new n.Literal(b.value,
c));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.nextToken();c=this.getTokenRaw(b);a=this.finalize(a,new n.Literal("true"===b.value,c));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.nextToken();c=this.getTokenRaw(b);a=this.finalize(a,new n.Literal(null,c));break;case 10:a=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;a=this.inheritCoverGrammar(this.parseGroupExpression);
break;case "[":a=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":a=this.inheritCoverGrammar(this.parseObjectInitializer);break;case "/":case "/=":this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;this.scanner.index=this.startMarker.index;b=this.nextRegexToken();c=this.getTokenRaw(b);a=this.finalize(a,new n.RegexLiteral(b.regex,c,b.pattern,b.flags));break;default:a=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&
this.matchKeyword("yield")?a=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?a=this.finalize(a,new n.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?a=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),a=this.finalize(a,new n.ThisExpression)):a=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:a=this.throwUnexpectedToken(this.nextToken())}return a};
d.prototype.parseSpreadElement=function(){var a=this.createNode();this.expect("...");var b=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(a,new n.SpreadElement(b))};d.prototype.parseArrayInitializer=function(){var a=this.createNode(),b=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),b.push(null);else if(this.match("...")){var c=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,
this.expect(","));b.push(c)}else b.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");this.expect("]");return this.finalize(a,new n.ArrayExpression(b))};d.prototype.parsePropertyMethod=function(a){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var b=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var d=this.isolateCoverGrammar(this.parseFunctionSourceElements);this.context.strict&&
a.firstRestricted&&this.tolerateUnexpectedToken(a.firstRestricted,a.message);this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message);this.context.strict=b;this.context.allowStrictDirective=c;return d};d.prototype.parsePropertyMethodFunction=function(){var a=this.createNode(),b=this.context.allowYield;this.context.allowYield=!0;var c=this.parseFormalParameters(),d=this.parsePropertyMethod(c);this.context.allowYield=b;return this.finalize(a,new n.FunctionExpression(null,
c.params,d,!1))};d.prototype.parsePropertyMethodAsyncFunction=function(){var a=this.createNode(),b=this.context.allowYield,c=this.context.await;this.context.allowYield=!1;this.context.await=!0;var d=this.parseFormalParameters(),l=this.parsePropertyMethod(d);this.context.allowYield=b;this.context.await=c;return this.finalize(a,new n.AsyncFunctionExpression(null,d.params,l))};d.prototype.parseObjectPropertyKey=function(){var a=this.createNode(),b=this.nextToken();switch(b.type){case 8:case 6:this.context.strict&&
b.octal&&this.tolerateUnexpectedToken(b,u.Messages.StrictOctalLiteral);var c=this.getTokenRaw(b),a=this.finalize(a,new n.Literal(b.value,c));break;case 3:case 1:case 5:case 4:a=this.finalize(a,new n.Identifier(b.value));break;case 7:"["===b.value?(a=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):a=this.throwUnexpectedToken(b);break;default:a=this.throwUnexpectedToken(b)}return a};d.prototype.isPropertyKey=function(a,b){return a.type===C.Syntax.Identifier&&a.name===b||a.type===
C.Syntax.Literal&&a.value===b};d.prototype.parseObjectProperty=function(a){var b=this.createNode(),c=this.lookahead,d,l=null,h=null,q=!1,s=!1,r=!1,w=!1;if(3===c.type){var t=c.value;this.nextToken();q=this.match("[");l=(w=!this.hasLineTerminator&&"async"===t&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","))?this.parseObjectPropertyKey():this.finalize(b,new n.Identifier(t))}else this.match("*")?this.nextToken():(q=this.match("["),l=this.parseObjectPropertyKey());d=this.qualifiedPropertyName(this.lookahead);
3===c.type&&!w&&"get"===c.value&&d?(d="get",q=this.match("["),l=this.parseObjectPropertyKey(),this.context.allowYield=!1,h=this.parseGetterMethod()):3===c.type&&!w&&"set"===c.value&&d?(d="set",q=this.match("["),l=this.parseObjectPropertyKey(),h=this.parseSetterMethod()):7===c.type&&"*"===c.value&&d?(d="init",q=this.match("["),l=this.parseObjectPropertyKey(),h=this.parseGeneratorMethod(),s=!0):(l||this.throwUnexpectedToken(this.lookahead),d="init",this.match(":")&&!w?(!q&&this.isPropertyKey(l,"__proto__")&&
(a.value&&this.tolerateError(u.Messages.DuplicateProtoProperty),a.value=!0),this.nextToken(),h=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(h=w?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),s=!0):3===c.type?(t=this.finalize(b,new n.Identifier(c.value)),this.match("=")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),r=!0,a=this.isolateCoverGrammar(this.parseAssignmentExpression),h=this.finalize(b,new n.AssignmentPattern(t,
a))):(r=!0,h=t)):this.throwUnexpectedToken(this.nextToken()));return this.finalize(b,new n.Property(d,l,q,h,s,r))};d.prototype.parseObjectInitializer=function(){var a=this.createNode();this.expect("{");for(var b=[],c={value:!1};!this.match("}");)b.push(this.parseObjectProperty(c)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new n.ObjectExpression(b))};d.prototype.parseTemplateHead=function(){s.assert(this.lookahead.head,"Template literal must start with a template head");
var a=this.createNode(),b=this.nextToken();return this.finalize(a,new n.TemplateElement({raw:b.value,cooked:b.cooked},b.tail))};d.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var a=this.createNode(),b=this.nextToken();return this.finalize(a,new n.TemplateElement({raw:b.value,cooked:b.cooked},b.tail))};d.prototype.parseTemplateLiteral=function(){var a=this.createNode(),b=[],c=[],d=this.parseTemplateHead();for(c.push(d);!d.tail;)b.push(this.parseExpression()),
d=this.parseTemplateElement(),c.push(d);return this.finalize(a,new n.TemplateLiteral(c,b))};d.prototype.reinterpretExpressionAsPattern=function(a){switch(a.type){case C.Syntax.SpreadElement:a.type=C.Syntax.RestElement;this.reinterpretExpressionAsPattern(a.argument);break;case C.Syntax.ArrayExpression:a.type=C.Syntax.ArrayPattern;for(var b=0;b<a.elements.length;b++)null!==a.elements[b]&&this.reinterpretExpressionAsPattern(a.elements[b]);break;case C.Syntax.ObjectExpression:a.type=C.Syntax.ObjectPattern;
for(b=0;b<a.properties.length;b++)this.reinterpretExpressionAsPattern(a.properties[b].value);break;case C.Syntax.AssignmentExpression:a.type=C.Syntax.AssignmentPattern,delete a.operator,this.reinterpretExpressionAsPattern(a.left)}};d.prototype.parseGroupExpression=function(){var a;this.expect("(");if(this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),a={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var b=this.lookahead,c=[];if(this.match("..."))a=this.parseRestElement(c),
this.expect(")"),this.match("=>")||this.expect("=>"),a={type:"ArrowParameterPlaceHolder",params:[a],async:!1};else{var d=!1;this.context.isBindingElement=!0;a=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var l=[];this.context.isAssignmentTarget=!1;for(l.push(a);2!==this.lookahead.type&&this.match(",");){this.nextToken();if(this.match(")")){this.nextToken();for(d=0;d<l.length;d++)this.reinterpretExpressionAsPattern(l[d]);d=!0;a={type:"ArrowParameterPlaceHolder",params:l,
async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);l.push(this.parseRestElement(c));this.expect(")");this.match("=>")||this.expect("=>");this.context.isBindingElement=!1;for(d=0;d<l.length;d++)this.reinterpretExpressionAsPattern(l[d]);d=!0;a={type:"ArrowParameterPlaceHolder",params:l,async:!1}}else l.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(d)break}d||(a=this.finalize(this.startNode(b),new n.SequenceExpression(l)))}if(!d){this.expect(")");
if(this.match("=>")&&(a.type===C.Syntax.Identifier&&"yield"===a.name&&(d=!0,a={type:"ArrowParameterPlaceHolder",params:[a],async:!1}),!d)){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);if(a.type===C.Syntax.SequenceExpression)for(d=0;d<a.expressions.length;d++)this.reinterpretExpressionAsPattern(a.expressions[d]);else this.reinterpretExpressionAsPattern(a);a={type:"ArrowParameterPlaceHolder",params:a.type===C.Syntax.SequenceExpression?a.expressions:[a],async:!1}}this.context.isBindingElement=
!1}}}return a};d.prototype.parseArguments=function(){this.expect("(");var a=[];if(!this.match(")"))for(;;){var b=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);a.push(b);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return a};d.prototype.isIdentifierName=function(a){return 3===a.type||4===a.type||1===a.type||5===a.type};d.prototype.parseIdentifierName=function(){var a=this.createNode(),b=this.nextToken();
this.isIdentifierName(b)||this.throwUnexpectedToken(b);return this.finalize(a,new n.Identifier(b.value))};d.prototype.parseNewExpression=function(){var a=this.createNode(),b=this.parseIdentifierName();s.assert("new"===b.name,"New expression must start with `new`");var c;this.match(".")?(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value?(c=this.parseIdentifierName(),c=new n.MetaProperty(b,c)):this.throwUnexpectedToken(this.lookahead)):(b=this.isolateCoverGrammar(this.parseLeftHandSideExpression),
c=this.match("(")?this.parseArguments():[],c=new n.NewExpression(b,c),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);return this.finalize(a,c)};d.prototype.parseAsyncArgument=function(){var a=this.parseAssignmentExpression();this.context.firstCoverInitializedNameError=null;return a};d.prototype.parseAsyncArguments=function(){this.expect("(");var a=[];if(!this.match(")"))for(;;){var b=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);
a.push(b);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return a};d.prototype.parseLeftHandSideExpressionAllowCall=function(){var a=this.lookahead,b=this.matchContextualKeyword("async"),c=this.context.allowIn;this.context.allowIn=!0;var d;this.matchKeyword("super")&&this.context.inFunctionBody?(d=this.createNode(),this.nextToken(),d=this.finalize(d,new n.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):
d=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);for(;;)if(this.match(".")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect(".");var l=this.parseIdentifierName();d=this.finalize(this.startNode(a),new n.StaticMemberExpression(d,l))}else if(this.match("(")){var h=b&&a.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1;this.context.isAssignmentTarget=!1;l=h?this.parseAsyncArguments():this.parseArguments();
d=this.finalize(this.startNode(a),new n.CallExpression(d,l));if(h&&this.match("=>")){for(d=0;d<l.length;++d)this.reinterpretExpressionAsPattern(l[d]);d={type:"ArrowParameterPlaceHolder",params:l,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),l=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),d=this.finalize(this.startNode(a),new n.ComputedMemberExpression(d,l));else if(10===this.lookahead.type&&this.lookahead.head)l=
this.parseTemplateLiteral(),d=this.finalize(this.startNode(a),new n.TaggedTemplateExpression(d,l));else break;this.context.allowIn=c;return d};d.prototype.parseSuper=function(){var a=this.createNode();this.expectKeyword("super");this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead);return this.finalize(a,new n.Super)};d.prototype.parseLeftHandSideExpression=function(){s.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var a=this.startNode(this.lookahead),
b=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var c=this.isolateCoverGrammar(this.parseExpression);this.expect("]");b=this.finalize(a,new n.ComputedMemberExpression(b,c))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,
this.expect("."),c=this.parseIdentifierName(),b=this.finalize(a,new n.StaticMemberExpression(b,c));else if(10===this.lookahead.type&&this.lookahead.head)c=this.parseTemplateLiteral(),b=this.finalize(a,new n.TaggedTemplateExpression(b,c));else break;return b};d.prototype.parseUpdateExpression=function(){var a,b=this.lookahead;if(this.match("++")||this.match("--")){var b=this.startNode(b),c=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.strict&&a.type===C.Syntax.Identifier&&
this.scanner.isRestrictedWord(a.name)&&this.tolerateError(u.Messages.StrictLHSPrefix);this.context.isAssignmentTarget||this.tolerateError(u.Messages.InvalidLHSInAssignment);a=this.finalize(b,new n.UpdateExpression(c.value,a,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else if(a=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&a.type===C.Syntax.Identifier&&
this.scanner.isRestrictedWord(a.name)&&this.tolerateError(u.Messages.StrictLHSPostfix);this.context.isAssignmentTarget||this.tolerateError(u.Messages.InvalidLHSInAssignment);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var d=this.nextToken().value,c=!1;a=this.finalize(this.startNode(b),new n.UpdateExpression(d,a,c))}return a};d.prototype.parseAwaitExpression=function(){var a=this.createNode();this.nextToken();var b=this.parseUnaryExpression();return this.finalize(a,new n.AwaitExpression(b))};
d.prototype.parseUnaryExpression=function(){var a;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var b=this.startNode(this.lookahead),c=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);a=this.finalize(b,new n.UnaryExpression(c.value,a));this.context.strict&&"delete"===a.operator&&a.argument.type===C.Syntax.Identifier&&this.tolerateError(u.Messages.StrictDelete);this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1}else a=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return a};d.prototype.parseExponentiationExpression=function(){var a=this.lookahead,b=this.inheritCoverGrammar(this.parseUnaryExpression);if(b.type!==C.Syntax.UnaryExpression&&this.match("**")){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var c=this.isolateCoverGrammar(this.parseExponentiationExpression),
b=this.finalize(this.startNode(a),new n.BinaryExpression("**",b,c))}return b};d.prototype.binaryPrecedence=function(a){var b=a.value;return 7===a.type?this.operatorPrecedence[b]||0:4===a.type?"instanceof"===b||this.context.allowIn&&"in"===b?7:0:0};d.prototype.parseBinaryExpression=function(){var a=this.lookahead,b=this.inheritCoverGrammar(this.parseExponentiationExpression),c=this.lookahead,d=this.binaryPrecedence(c);if(0<d){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=
!1;for(var a=[a,this.lookahead],l=this.isolateCoverGrammar(this.parseExponentiationExpression),c=[b,c.value,l],h=[d];;){d=this.binaryPrecedence(this.lookahead);if(0>=d)break;for(;2<c.length&&d<=h[h.length-1];){var l=c.pop(),q=c.pop();h.pop();b=c.pop();a.pop();var s=this.startNode(a[a.length-1]);c.push(this.finalize(s,new n.BinaryExpression(q,b,l)))}c.push(this.nextToken().value);h.push(d);a.push(this.lookahead);c.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}d=c.length-1;b=c[d];
for(q=a.pop();1<d;)l=a.pop(),s=this.startNode(l,q&&q.lineStart),q=c[d-1],b=this.finalize(s,new n.BinaryExpression(q,c[d-2],b)),d-=2,q=l}return b};d.prototype.parseConditionalExpression=function(){var a=this.lookahead,b=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var c=this.context.allowIn;this.context.allowIn=!0;var d=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=c;this.expect(":");c=this.isolateCoverGrammar(this.parseAssignmentExpression);
b=this.finalize(this.startNode(a),new n.ConditionalExpression(b,d,c));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}return b};d.prototype.checkPatternParam=function(a,b){switch(b.type){case C.Syntax.Identifier:this.validateParam(a,b,b.name);break;case C.Syntax.RestElement:this.checkPatternParam(a,b.argument);break;case C.Syntax.AssignmentPattern:this.checkPatternParam(a,b.left);break;case C.Syntax.ArrayPattern:for(var c=0;c<b.elements.length;c++)null!==b.elements[c]&&this.checkPatternParam(a,
b.elements[c]);break;case C.Syntax.ObjectPattern:for(c=0;c<b.properties.length;c++)this.checkPatternParam(a,b.properties[c].value)}a.simple=a.simple&&b instanceof n.Identifier};d.prototype.reinterpretAsCoverFormalsList=function(a){var b=[a],c=!1;switch(a.type){case C.Syntax.Identifier:break;case "ArrowParameterPlaceHolder":b=a.params;c=a.async;break;default:return null}a={simple:!0,paramSet:{}};for(var d=0;d<b.length;++d){var l=b[d];l.type===C.Syntax.AssignmentPattern?l.right.type===C.Syntax.YieldExpression&&
(l.right.argument&&this.throwUnexpectedToken(this.lookahead),l.right.type=C.Syntax.Identifier,l.right.name="yield",delete l.right.argument,delete l.right.delegate):c&&l.type===C.Syntax.Identifier&&"await"===l.name&&this.throwUnexpectedToken(this.lookahead);this.checkPatternParam(a,l);b[d]=l}if(this.context.strict||!this.context.allowYield)for(d=0;d<b.length;++d)l=b[d],l.type===C.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead);a.message===u.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?
a.stricted:a.firstRestricted,a.message);return{simple:a.simple,params:b,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}};d.prototype.parseAssignmentExpression=function(){var a;if(!this.context.allowYield&&this.matchKeyword("yield"))a=this.parseYieldExpression();else{var b=this.lookahead,c=b;a=this.parseConditionalExpression();3!==c.type||c.lineNumber!==this.lookahead.lineNumber||"async"!==c.value||3!==this.lookahead.type&&!this.matchKeyword("yield")||(a=this.parsePrimaryExpression(),
this.reinterpretExpressionAsPattern(a),a={type:"ArrowParameterPlaceHolder",params:[a],async:!0});if("ArrowParameterPlaceHolder"===a.type||this.match("=>")){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var c=a.async,d=this.reinterpretAsCoverFormalsList(a);if(d){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead);this.context.firstCoverInitializedNameError=null;var l=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;
var q=this.context.allowYield,s=this.context.await;this.context.allowYield=!0;this.context.await=c;b=this.startNode(b);this.expect("=>");a=void 0;if(this.match("{")){var r=this.context.allowIn;this.context.allowIn=!0;a=this.parseFunctionSourceElements();this.context.allowIn=r}else a=this.isolateCoverGrammar(this.parseAssignmentExpression);r=a.type!==C.Syntax.BlockStatement;this.context.strict&&d.firstRestricted&&this.throwUnexpectedToken(d.firstRestricted,d.message);this.context.strict&&d.stricted&&
this.tolerateUnexpectedToken(d.stricted,d.message);a=c?this.finalize(b,new n.AsyncArrowFunctionExpression(d.params,a,r)):this.finalize(b,new n.ArrowFunctionExpression(d.params,a,r));this.context.strict=l;this.context.allowStrictDirective=h;this.context.allowYield=q;this.context.await=s}}else this.matchAssign()&&(this.context.isAssignmentTarget||this.tolerateError(u.Messages.InvalidLHSInAssignment),this.context.strict&&a.type===C.Syntax.Identifier&&(d=a,this.scanner.isRestrictedWord(d.name)&&this.tolerateUnexpectedToken(c,
u.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(d.name)&&this.tolerateUnexpectedToken(c,u.Messages.StrictReservedWord)),this.match("=")?this.reinterpretExpressionAsPattern(a):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),c=this.nextToken(),c=c.value,d=this.isolateCoverGrammar(this.parseAssignmentExpression),a=this.finalize(this.startNode(b),new n.AssignmentExpression(c,a,d)),this.context.firstCoverInitializedNameError=null)}return a};d.prototype.parseExpression=
function(){var a=this.lookahead,b=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var c=[];for(c.push(b);2!==this.lookahead.type&&this.match(",");)this.nextToken(),c.push(this.isolateCoverGrammar(this.parseAssignmentExpression));b=this.finalize(this.startNode(a),new n.SequenceExpression(c))}return b};d.prototype.parseStatementListItem=function(){var a;this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "export":this.context.isModule||
this.tolerateUnexpectedToken(this.lookahead,u.Messages.IllegalExportDeclaration);a=this.parseExportDeclaration();break;case "import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,u.Messages.IllegalImportDeclaration);a=this.parseImportDeclaration();break;case "const":a=this.parseLexicalDeclaration({inFor:!1});break;case "function":a=this.parseFunctionDeclaration();break;case "class":a=this.parseClassDeclaration();break;case "let":a=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):
this.parseStatement();break;default:a=this.parseStatement()}else a=this.parseStatement();return a};d.prototype.parseBlock=function(){var a=this.createNode();this.expect("{");for(var b=[];!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new n.BlockStatement(b))};d.prototype.parseLexicalBinding=function(a,b){var c=this.createNode(),d=this.parsePattern([],a);this.context.strict&&d.type===C.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(u.Messages.StrictVarName);
var l=null;if("const"===a)this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),l=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(u.Messages.DeclarationMissingInitializer,"const"));else if(!b.inFor&&d.type!==C.Syntax.Identifier||this.match("="))this.expect("="),l=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(c,new n.VariableDeclarator(d,l))};d.prototype.parseBindingList=function(a,b){for(var c=[this.parseLexicalBinding(a,
b)];this.match(",");)this.nextToken(),c.push(this.parseLexicalBinding(a,b));return c};d.prototype.isLexicalDeclaration=function(){var a=this.scanner.saveState();this.scanner.scanComments();var b=this.scanner.lex();this.scanner.restoreState(a);return 3===b.type||7===b.type&&"["===b.value||7===b.type&&"{"===b.value||4===b.type&&"let"===b.value||4===b.type&&"yield"===b.value};d.prototype.parseLexicalDeclaration=function(a){var b=this.createNode(),c=this.nextToken().value;s.assert("let"===c||"const"===
c,"Lexical declaration must be either let or const");a=this.parseBindingList(c,a);this.consumeSemicolon();return this.finalize(b,new n.VariableDeclaration(a,c))};d.prototype.parseBindingRestElement=function(a,b){var c=this.createNode();this.expect("...");var d=this.parsePattern(a,b);return this.finalize(c,new n.RestElement(d))};d.prototype.parseArrayPattern=function(a,b){var c=this.createNode();this.expect("[");for(var d=[];!this.match("]");)if(this.match(","))this.nextToken(),d.push(null);else{if(this.match("...")){d.push(this.parseBindingRestElement(a,
b));break}else d.push(this.parsePatternWithDefault(a,b));this.match("]")||this.expect(",")}this.expect("]");return this.finalize(c,new n.ArrayPattern(d))};d.prototype.parsePropertyPattern=function(a,b){var c=this.createNode(),d=!1,l=!1,h,q;if(3===this.lookahead.type){q=this.lookahead;h=this.parseVariableIdentifier();var s=this.finalize(c,new n.Identifier(q.value));if(this.match("=")){a.push(q);l=!0;this.nextToken();var u=this.parseAssignmentExpression();q=this.finalize(this.startNode(q),new n.AssignmentPattern(s,
u))}else this.match(":")?(this.expect(":"),q=this.parsePatternWithDefault(a,b)):(a.push(q),l=!0,q=s)}else d=this.match("["),h=this.parseObjectPropertyKey(),this.expect(":"),q=this.parsePatternWithDefault(a,b);return this.finalize(c,new n.Property("init",h,d,q,!1,l))};d.prototype.parseObjectPattern=function(a,b){var c=this.createNode(),d=[];for(this.expect("{");!this.match("}");)d.push(this.parsePropertyPattern(a,b)),this.match("}")||this.expect(",");this.expect("}");return this.finalize(c,new n.ObjectPattern(d))};
d.prototype.parsePattern=function(a,b){var c;this.match("[")?c=this.parseArrayPattern(a,b):this.match("{")?c=this.parseObjectPattern(a,b):(!this.matchKeyword("let")||"const"!==b&&"let"!==b||this.tolerateUnexpectedToken(this.lookahead,u.Messages.LetInLexicalBinding),a.push(this.lookahead),c=this.parseVariableIdentifier(b));return c};d.prototype.parsePatternWithDefault=function(a,b){var c=this.lookahead,d=this.parsePattern(a,b);if(this.match("=")){this.nextToken();var l=this.context.allowYield;this.context.allowYield=
!0;var h=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=l;d=this.finalize(this.startNode(c),new n.AssignmentPattern(d,h))}return d};d.prototype.parseVariableIdentifier=function(a){var b=this.createNode(),c=this.nextToken();4===c.type&&"yield"===c.value?this.context.strict?this.tolerateUnexpectedToken(c,u.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(c):3!==c.type?this.context.strict&&4===c.type&&this.scanner.isStrictModeReservedWord(c.value)?
this.tolerateUnexpectedToken(c,u.Messages.StrictReservedWord):(this.context.strict||"let"!==c.value||"var"!==a)&&this.throwUnexpectedToken(c):(this.context.isModule||this.context.await)&&3===c.type&&"await"===c.value&&this.tolerateUnexpectedToken(c);return this.finalize(b,new n.Identifier(c.value))};d.prototype.parseVariableDeclaration=function(a){var b=this.createNode(),c=this.parsePattern([],"var");this.context.strict&&c.type===C.Syntax.Identifier&&this.scanner.isRestrictedWord(c.name)&&this.tolerateError(u.Messages.StrictVarName);
var d=null;this.match("=")?(this.nextToken(),d=this.isolateCoverGrammar(this.parseAssignmentExpression)):c.type===C.Syntax.Identifier||a.inFor||this.expect("=");return this.finalize(b,new n.VariableDeclarator(c,d))};d.prototype.parseVariableDeclarationList=function(a){a={inFor:a.inFor};var b=[];for(b.push(this.parseVariableDeclaration(a));this.match(",");)this.nextToken(),b.push(this.parseVariableDeclaration(a));return b};d.prototype.parseVariableStatement=function(){var a=this.createNode();this.expectKeyword("var");
var b=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(a,new n.VariableDeclaration(b,"var"))};d.prototype.parseEmptyStatement=function(){var a=this.createNode();this.expect(";");return this.finalize(a,new n.EmptyStatement)};d.prototype.parseExpressionStatement=function(){var a=this.createNode(),b=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new n.ExpressionStatement(b))};d.prototype.parseIfClause=function(){this.context.strict&&this.matchKeyword("function")&&
this.tolerateError(u.Messages.StrictFunction);return this.parseStatement()};d.prototype.parseIfStatement=function(){var a=this.createNode(),b,c=null;this.expectKeyword("if");this.expect("(");var d=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),b=this.finalize(this.createNode(),new n.EmptyStatement)):(this.expect(")"),b=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),c=this.parseIfClause()));return this.finalize(a,new n.IfStatement(d,
b,c))};d.prototype.parseDoWhileStatement=function(){var a=this.createNode();this.expectKeyword("do");var b=this.context.inIteration;this.context.inIteration=!0;var c=this.parseStatement();this.context.inIteration=b;this.expectKeyword("while");this.expect("(");b=this.parseExpression();!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken());return this.finalize(a,new n.DoWhileStatement(c,b))};d.prototype.parseWhileStatement=
function(){var a=this.createNode(),b;this.expectKeyword("while");this.expect("(");var c=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),b=this.finalize(this.createNode(),new n.EmptyStatement);else{this.expect(")");var d=this.context.inIteration;this.context.inIteration=!0;b=this.parseStatement();this.context.inIteration=d}return this.finalize(a,new n.WhileStatement(c,b))};d.prototype.parseForStatement=function(){var a=null,b=null,c=null,
d=!0,l,h,q=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){a=this.createNode();this.nextToken();var s=this.context.allowIn;this.context.allowIn=!1;var r=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=s;1===r.length&&this.matchKeyword("in")?(l=r[0],l.init&&(l.id.type===C.Syntax.ArrayPattern||l.id.type===C.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(u.Messages.ForInOfLoopInitializer,
"for-in"),a=this.finalize(a,new n.VariableDeclaration(r,"var")),this.nextToken(),l=a,h=this.parseExpression(),a=null):1===r.length&&null===r[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new n.VariableDeclaration(r,"var")),this.nextToken(),l=a,h=this.parseAssignmentExpression(),a=null,d=!1):(a=this.finalize(a,new n.VariableDeclaration(r,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){var a=this.createNode(),w=this.nextToken().value;this.context.strict||
"in"!==this.lookahead.value?(s=this.context.allowIn,this.context.allowIn=!1,r=this.parseBindingList(w,{inFor:!0}),this.context.allowIn=s,1===r.length&&null===r[0].init&&this.matchKeyword("in")?(a=this.finalize(a,new n.VariableDeclaration(r,w)),this.nextToken(),l=a,h=this.parseExpression(),a=null):1===r.length&&null===r[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new n.VariableDeclaration(r,w)),this.nextToken(),l=a,h=this.parseAssignmentExpression(),a=null,d=!1):(this.consumeSemicolon(),
a=this.finalize(a,new n.VariableDeclaration(r,w)))):(a=this.finalize(a,new n.Identifier(w)),this.nextToken(),l=a,h=this.parseExpression(),a=null)}else if(r=this.lookahead,s=this.context.allowIn,this.context.allowIn=!1,a=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=s,this.matchKeyword("in"))this.context.isAssignmentTarget&&a.type!==C.Syntax.AssignmentExpression||this.tolerateError(u.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(a),
l=a,h=this.parseExpression(),a=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&a.type!==C.Syntax.AssignmentExpression||this.tolerateError(u.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(a),l=a,h=this.parseAssignmentExpression(),a=null,d=!1;else{if(this.match(",")){for(a=[a];this.match(",");)this.nextToken(),a.push(this.isolateCoverGrammar(this.parseAssignmentExpression));a=this.finalize(this.startNode(r),new n.SequenceExpression(a))}this.expect(";")}"undefined"===
typeof l&&(this.match(";")||(b=this.parseExpression()),this.expect(";"),this.match(")")||(c=this.parseExpression()));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),s=this.finalize(this.createNode(),new n.EmptyStatement)):(this.expect(")"),r=this.context.inIteration,this.context.inIteration=!0,s=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=r);return"undefined"===typeof l?this.finalize(q,new n.ForStatement(a,b,c,s)):d?this.finalize(q,
new n.ForInStatement(l,h,s)):this.finalize(q,new n.ForOfStatement(l,h,s))};d.prototype.parseContinueStatement=function(){var a=this.createNode();this.expectKeyword("continue");var b=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var c=this.parseVariableIdentifier(),b=c;Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+c.name)||this.throwError(u.Messages.UnknownLabel,c.name)}this.consumeSemicolon();null!==b||this.context.inIteration||this.throwError(u.Messages.IllegalContinue);
return this.finalize(a,new n.ContinueStatement(b))};d.prototype.parseBreakStatement=function(){var a=this.createNode();this.expectKeyword("break");var b=null;3!==this.lookahead.type||this.hasLineTerminator||(b=this.parseVariableIdentifier(),Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+b.name)||this.throwError(u.Messages.UnknownLabel,b.name));this.consumeSemicolon();null!==b||this.context.inIteration||this.context.inSwitch||this.throwError(u.Messages.IllegalBreak);return this.finalize(a,
new n.BreakStatement(b))};d.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(u.Messages.IllegalReturn);var a=this.createNode();this.expectKeyword("return");var b=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();this.consumeSemicolon();return this.finalize(a,new n.ReturnStatement(b))};d.prototype.parseWithStatement=function(){this.context.strict&&
this.tolerateError(u.Messages.StrictModeWith);var a=this.createNode(),b;this.expectKeyword("with");this.expect("(");var c=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),b=this.finalize(this.createNode(),new n.EmptyStatement)):(this.expect(")"),b=this.parseStatement());return this.finalize(a,new n.WithStatement(c,b))};d.prototype.parseSwitchCase=function(){var a=this.createNode(),b;this.matchKeyword("default")?(this.nextToken(),b=null):
(this.expectKeyword("case"),b=this.parseExpression());this.expect(":");for(var c=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)c.push(this.parseStatementListItem());return this.finalize(a,new n.SwitchCase(b,c))};d.prototype.parseSwitchStatement=function(){var a=this.createNode();this.expectKeyword("switch");this.expect("(");var b=this.parseExpression();this.expect(")");var c=this.context.inSwitch;this.context.inSwitch=!0;var d=[],l=!1;for(this.expect("{");!this.match("}");){var h=
this.parseSwitchCase();null===h.test&&(l&&this.throwError(u.Messages.MultipleDefaultsInSwitch),l=!0);d.push(h)}this.expect("}");this.context.inSwitch=c;return this.finalize(a,new n.SwitchStatement(b,d))};d.prototype.parseLabelledStatement=function(){var a=this.createNode(),b=this.parseExpression();if(b.type===C.Syntax.Identifier&&this.match(":")){this.nextToken();var c="$"+b.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,c)&&this.throwError(u.Messages.Redeclaration,"Label",b.name);
this.context.labelSet[c]=!0;var d=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),d=this.parseClassDeclaration();else if(this.matchKeyword("function")){var d=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(d,u.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(d,u.Messages.GeneratorInLegacyContext);d=l}else d=this.parseStatement();delete this.context.labelSet[c];b=new n.LabeledStatement(b,d)}else this.consumeSemicolon(),
b=new n.ExpressionStatement(b);return this.finalize(a,b)};d.prototype.parseThrowStatement=function(){var a=this.createNode();this.expectKeyword("throw");this.hasLineTerminator&&this.throwError(u.Messages.NewlineAfterThrow);var b=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new n.ThrowStatement(b))};d.prototype.parseCatchClause=function(){var a=this.createNode();this.expectKeyword("catch");this.expect("(");this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var b=
[],c=this.parsePattern(b),d={},l=0;l<b.length;l++){var h="$"+b[l].value;Object.prototype.hasOwnProperty.call(d,h)&&this.tolerateError(u.Messages.DuplicateBinding,b[l].value);d[h]=!0}this.context.strict&&c.type===C.Syntax.Identifier&&this.scanner.isRestrictedWord(c.name)&&this.tolerateError(u.Messages.StrictCatchVariable);this.expect(")");b=this.parseBlock();return this.finalize(a,new n.CatchClause(c,b))};d.prototype.parseFinallyClause=function(){this.expectKeyword("finally");return this.parseBlock()};
d.prototype.parseTryStatement=function(){var a=this.createNode();this.expectKeyword("try");var b=this.parseBlock(),c=this.matchKeyword("catch")?this.parseCatchClause():null,d=this.matchKeyword("finally")?this.parseFinallyClause():null;c||d||this.throwError(u.Messages.NoCatchOrFinally);return this.finalize(a,new n.TryStatement(b,c,d))};d.prototype.parseDebuggerStatement=function(){var a=this.createNode();this.expectKeyword("debugger");this.consumeSemicolon();return this.finalize(a,new n.DebuggerStatement)};
d.prototype.parseStatement=function(){var a;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:a=this.parseExpressionStatement();break;case 7:a=this.lookahead.value;a="{"===a?this.parseBlock():"("===a?this.parseExpressionStatement():";"===a?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:a=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case "break":a=this.parseBreakStatement();
break;case "continue":a=this.parseContinueStatement();break;case "debugger":a=this.parseDebuggerStatement();break;case "do":a=this.parseDoWhileStatement();break;case "for":a=this.parseForStatement();break;case "function":a=this.parseFunctionDeclaration();break;case "if":a=this.parseIfStatement();break;case "return":a=this.parseReturnStatement();break;case "switch":a=this.parseSwitchStatement();break;case "throw":a=this.parseThrowStatement();break;case "try":a=this.parseTryStatement();break;case "var":a=
this.parseVariableStatement();break;case "while":a=this.parseWhileStatement();break;case "with":a=this.parseWithStatement();break;default:a=this.parseExpressionStatement()}break;default:a=this.throwUnexpectedToken(this.lookahead)}return a};d.prototype.parseFunctionSourceElements=function(){var a=this.createNode();this.expect("{");var b=this.parseDirectivePrologues(),c=this.context.labelSet,d=this.context.inIteration,l=this.context.inSwitch,h=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=
!1;this.context.inSwitch=!1;for(this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");this.context.labelSet=c;this.context.inIteration=d;this.context.inSwitch=l;this.context.inFunctionBody=h;return this.finalize(a,new n.BlockStatement(b))};d.prototype.validateParam=function(a,b,c){var d="$"+c;this.context.strict?(this.scanner.isRestrictedWord(c)&&(a.stricted=b,a.message=u.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,
d)&&(a.stricted=b,a.message=u.Messages.StrictParamDupe)):a.firstRestricted||(this.scanner.isRestrictedWord(c)?(a.firstRestricted=b,a.message=u.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(c)?(a.firstRestricted=b,a.message=u.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,d)&&(a.stricted=b,a.message=u.Messages.StrictParamDupe));"function"===typeof Object.defineProperty?Object.defineProperty(a.paramSet,d,{value:!0,enumerable:!0,writable:!0,configurable:!0}):
a.paramSet[d]=!0};d.prototype.parseRestElement=function(a){var b=this.createNode();this.expect("...");a=this.parsePattern(a);this.match("=")&&this.throwError(u.Messages.DefaultRestParameter);this.match(")")||this.throwError(u.Messages.ParameterAfterRestParameter);return this.finalize(b,new n.RestElement(a))};d.prototype.parseFormalParameter=function(a){for(var b=[],c=this.match("...")?this.parseRestElement(b):this.parsePatternWithDefault(b),d=0;d<b.length;d++)this.validateParam(a,b[d],b[d].value);
a.simple=a.simple&&c instanceof n.Identifier;a.params.push(c)};d.prototype.parseFormalParameters=function(a){a={simple:!0,params:[],firstRestricted:a};this.expect("(");if(!this.match(")"))for(a.paramSet={};2!==this.lookahead.type;){this.parseFormalParameter(a);if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return{simple:a.simple,params:a.params,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}};d.prototype.matchAsyncFunction=function(){var a=
this.matchContextualKeyword("async");if(a){a=this.scanner.saveState();this.scanner.scanComments();var b=this.scanner.lex();this.scanner.restoreState(a);a=a.lineNumber===b.lineNumber&&4===b.type&&"function"===b.value}return a};d.prototype.parseFunctionDeclaration=function(a){var b=this.createNode(),c=this.matchContextualKeyword("async");c&&this.nextToken();this.expectKeyword("function");var d=c?!1:this.match("*");d&&this.nextToken();var l,h=null,q=null;a&&this.match("(")||(a=this.lookahead,h=this.parseVariableIdentifier(),
this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,u.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(q=a,l=u.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(q=a,l=u.Messages.StrictReservedWord));a=this.context.await;var s=this.context.allowYield;this.context.await=c;this.context.allowYield=!d;var r=this.parseFormalParameters(q),w=r.params,t=r.stricted,q=r.firstRestricted;r.message&&(l=r.message);var C=this.context.strict,
g=this.context.allowStrictDirective;this.context.allowStrictDirective=r.simple;r=this.parseFunctionSourceElements();this.context.strict&&q&&this.throwUnexpectedToken(q,l);this.context.strict&&t&&this.tolerateUnexpectedToken(t,l);this.context.strict=C;this.context.allowStrictDirective=g;this.context.await=a;this.context.allowYield=s;return c?this.finalize(b,new n.AsyncFunctionDeclaration(h,w,r)):this.finalize(b,new n.FunctionDeclaration(h,w,r,d))};d.prototype.parseFunctionExpression=function(){var a=
this.createNode(),b=this.matchContextualKeyword("async");b&&this.nextToken();this.expectKeyword("function");var c=b?!1:this.match("*");c&&this.nextToken();var d,l=null,h,q=this.context.await,s=this.context.allowYield;this.context.await=b;this.context.allowYield=!c;if(!this.match("(")){var r=this.lookahead,l=this.context.strict||c||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName();this.context.strict?this.scanner.isRestrictedWord(r.value)&&this.tolerateUnexpectedToken(r,
u.Messages.StrictFunctionName):this.scanner.isRestrictedWord(r.value)?(h=r,d=u.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(r.value)&&(h=r,d=u.Messages.StrictReservedWord)}var w=this.parseFormalParameters(h),r=w.params,t=w.stricted;h=w.firstRestricted;w.message&&(d=w.message);var C=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=w.simple;w=this.parseFunctionSourceElements();this.context.strict&&h&&this.throwUnexpectedToken(h,d);this.context.strict&&
t&&this.tolerateUnexpectedToken(t,d);this.context.strict=C;this.context.allowStrictDirective=g;this.context.await=q;this.context.allowYield=s;return b?this.finalize(a,new n.AsyncFunctionExpression(l,r,w)):this.finalize(a,new n.FunctionExpression(l,r,w,c))};d.prototype.parseDirective=function(){var a=this.lookahead,b=this.createNode(),c=this.parseExpression(),a=c.type===C.Syntax.Literal?this.getTokenRaw(a).slice(1,-1):null;this.consumeSemicolon();return this.finalize(b,a?new n.Directive(c,a):new n.ExpressionStatement(c))};
d.prototype.parseDirectivePrologues=function(){for(var a=null,b=[];;){var c=this.lookahead;if(8!==c.type)break;var d=this.parseDirective();b.push(d);d=d.directive;if("string"!==typeof d)break;"use strict"===d?(this.context.strict=!0,a&&this.tolerateUnexpectedToken(a,u.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(c,u.Messages.IllegalLanguageModeDirective)):!a&&c.octal&&(a=c)}return b};d.prototype.qualifiedPropertyName=function(a){switch(a.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;
case 7:return"["===a.value}return!1};d.prototype.parseGetterMethod=function(){var a=this.createNode(),b=this.context.allowYield;this.context.allowYield=!0;var c=this.parseFormalParameters();0<c.params.length&&this.tolerateError(u.Messages.BadGetterArity);var d=this.parsePropertyMethod(c);this.context.allowYield=b;return this.finalize(a,new n.FunctionExpression(null,c.params,d,!1))};d.prototype.parseSetterMethod=function(){var a=this.createNode(),b=this.context.allowYield;this.context.allowYield=!0;
var c=this.parseFormalParameters();1!==c.params.length?this.tolerateError(u.Messages.BadSetterArity):c.params[0]instanceof n.RestElement&&this.tolerateError(u.Messages.BadSetterRestParameter);var d=this.parsePropertyMethod(c);this.context.allowYield=b;return this.finalize(a,new n.FunctionExpression(null,c.params,d,!1))};d.prototype.parseGeneratorMethod=function(){var a=this.createNode(),b=this.context.allowYield;this.context.allowYield=!0;var c=this.parseFormalParameters();this.context.allowYield=
!1;var d=this.parsePropertyMethod(c);this.context.allowYield=b;return this.finalize(a,new n.FunctionExpression(null,c.params,d,!0))};d.prototype.isStartOfExpression=function(){var a=!0,b=this.lookahead.value;switch(this.lookahead.type){case 7:a="["===b||"("===b||"{"===b||"+"===b||"-"===b||"!"===b||"~"===b||"++"===b||"--"===b||"/"===b||"/="===b;break;case 4:a="class"===b||"delete"===b||"function"===b||"let"===b||"new"===b||"super"===b||"this"===b||"typeof"===b||"void"===b||"yield"===b}return a};d.prototype.parseYieldExpression=
function(){var a=this.createNode();this.expectKeyword("yield");var b=null,c=!1;if(!this.hasLineTerminator){var d=this.context.allowYield;this.context.allowYield=!1;(c=this.match("*"))?(this.nextToken(),b=this.parseAssignmentExpression()):this.isStartOfExpression()&&(b=this.parseAssignmentExpression());this.context.allowYield=d}return this.finalize(a,new n.YieldExpression(b,c))};d.prototype.parseClassElement=function(a){var b=this.lookahead,c=this.createNode(),d="",l=null,h=null,q=!1,s=!1,r=!1,w=!1;
if(this.match("*"))this.nextToken();else if(q=this.match("["),l=this.parseObjectPropertyKey(),"static"===l.name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(b=this.lookahead,r=!0,q=this.match("["),this.match("*")?this.nextToken():l=this.parseObjectPropertyKey()),3===b.type&&!this.hasLineTerminator&&"async"===b.value){var t=this.lookahead.value;":"!==t&&"("!==t&&"*"!==t&&(w=!0,b=this.lookahead,l=this.parseObjectPropertyKey(),3===b.type&&"constructor"===b.value&&this.tolerateUnexpectedToken(b,
u.Messages.ConstructorIsAsync))}t=this.qualifiedPropertyName(this.lookahead);3===b.type?"get"===b.value&&t?(d="get",q=this.match("["),l=this.parseObjectPropertyKey(),this.context.allowYield=!1,h=this.parseGetterMethod()):"set"===b.value&&t&&(d="set",q=this.match("["),l=this.parseObjectPropertyKey(),h=this.parseSetterMethod()):7===b.type&&"*"===b.value&&t&&(d="init",q=this.match("["),l=this.parseObjectPropertyKey(),h=this.parseGeneratorMethod(),s=!0);!d&&l&&this.match("(")&&(d="init",h=w?this.parsePropertyMethodAsyncFunction():
this.parsePropertyMethodFunction(),s=!0);d||this.throwUnexpectedToken(this.lookahead);"init"===d&&(d="method");q||(r&&this.isPropertyKey(l,"prototype")&&this.throwUnexpectedToken(b,u.Messages.StaticPrototype),!r&&this.isPropertyKey(l,"constructor")&&(("method"!==d||!s||h&&h.generator)&&this.throwUnexpectedToken(b,u.Messages.ConstructorSpecialMethod),a.value?this.throwUnexpectedToken(b,u.Messages.DuplicateConstructor):a.value=!0,d="constructor"));return this.finalize(c,new n.MethodDefinition(l,q,h,
d,r))};d.prototype.parseClassElementList=function(){var a=[],b={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():a.push(this.parseClassElement(b));this.expect("}");return a};d.prototype.parseClassBody=function(){var a=this.createNode(),b=this.parseClassElementList();return this.finalize(a,new n.ClassBody(b))};d.prototype.parseClassDeclaration=function(a){var b=this.createNode(),c=this.context.strict;this.context.strict=!0;this.expectKeyword("class");a=a&&3!==this.lookahead.type?
null:this.parseVariableIdentifier();var d=null;this.matchKeyword("extends")&&(this.nextToken(),d=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var l=this.parseClassBody();this.context.strict=c;return this.finalize(b,new n.ClassDeclaration(a,d,l))};d.prototype.parseClassExpression=function(){var a=this.createNode(),b=this.context.strict;this.context.strict=!0;this.expectKeyword("class");var c=3===this.lookahead.type?this.parseVariableIdentifier():null,d=null;this.matchKeyword("extends")&&
(this.nextToken(),d=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var l=this.parseClassBody();this.context.strict=b;return this.finalize(a,new n.ClassExpression(c,d,l))};d.prototype.parseModule=function(){this.context.strict=!0;this.context.isModule=!0;this.scanner.isModule=!0;for(var a=this.createNode(),b=this.parseDirectivePrologues();2!==this.lookahead.type;)b.push(this.parseStatementListItem());return this.finalize(a,new n.Module(b))};d.prototype.parseScript=function(){for(var a=
this.createNode(),b=this.parseDirectivePrologues();2!==this.lookahead.type;)b.push(this.parseStatementListItem());return this.finalize(a,new n.Script(b))};d.prototype.parseModuleSpecifier=function(){var a=this.createNode();8!==this.lookahead.type&&this.throwError(u.Messages.InvalidModuleSpecifier);var b=this.nextToken(),c=this.getTokenRaw(b);return this.finalize(a,new n.Literal(b.value,c))};d.prototype.parseImportSpecifier=function(){var a=this.createNode(),b,c;3===this.lookahead.type?(c=b=this.parseVariableIdentifier(),
this.matchContextualKeyword("as")&&(this.nextToken(),c=this.parseVariableIdentifier())):(c=b=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),c=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken()));return this.finalize(a,new n.ImportSpecifier(c,b))};d.prototype.parseNamedImports=function(){this.expect("{");for(var a=[];!this.match("}");)a.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");this.expect("}");return a};d.prototype.parseImportDefaultSpecifier=
function(){var a=this.createNode(),b=this.parseIdentifierName();return this.finalize(a,new n.ImportDefaultSpecifier(b))};d.prototype.parseImportNamespaceSpecifier=function(){var a=this.createNode();this.expect("*");this.matchContextualKeyword("as")||this.throwError(u.Messages.NoAsAfterImportNamespace);this.nextToken();var b=this.parseIdentifierName();return this.finalize(a,new n.ImportNamespaceSpecifier(b))};d.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(u.Messages.IllegalImportDeclaration);
var a=this.createNode();this.expectKeyword("import");var b,c=[];8!==this.lookahead.type&&(this.match("{")?c=c.concat(this.parseNamedImports()):this.match("*")?c.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(c.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?c.push(this.parseImportNamespaceSpecifier()):this.match("{")?c=c.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):
this.throwUnexpectedToken(this.nextToken()),this.matchContextualKeyword("from")||this.throwError(this.lookahead.value?u.Messages.UnexpectedToken:u.Messages.MissingFromClause,this.lookahead.value),this.nextToken());b=this.parseModuleSpecifier();this.consumeSemicolon();return this.finalize(a,new n.ImportDeclaration(c,b))};d.prototype.parseExportSpecifier=function(){var a=this.createNode(),b=this.parseIdentifierName(),c=b;this.matchContextualKeyword("as")&&(this.nextToken(),c=this.parseIdentifierName());
return this.finalize(a,new n.ExportSpecifier(b,c))};d.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(u.Messages.IllegalExportDeclaration);var a=this.createNode();this.expectKeyword("export");if(this.matchKeyword("default")){this.nextToken();if(this.matchKeyword("function"))var b=this.parseFunctionDeclaration(!0);else this.matchKeyword("class")?b=this.parseClassDeclaration(!0):this.matchContextualKeyword("async")?b=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):
this.parseAssignmentExpression():(this.matchContextualKeyword("from")&&this.throwError(u.Messages.UnexpectedToken,this.lookahead.value),b=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon());a=this.finalize(a,new n.ExportDefaultDeclaration(b))}else if(this.match("*")){this.nextToken();if(!this.matchContextualKeyword("from")){var c=this.lookahead.value?u.Messages.UnexpectedToken:u.Messages.MissingFromClause;
this.throwError(c,this.lookahead.value)}this.nextToken();b=this.parseModuleSpecifier();this.consumeSemicolon();a=this.finalize(a,new n.ExportAllDeclaration(b))}else if(4===this.lookahead.type){b=void 0;switch(this.lookahead.value){case "let":case "const":b=this.parseLexicalDeclaration({inFor:!1});break;case "var":case "class":case "function":b=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}a=this.finalize(a,new n.ExportNamedDeclaration(b,[],null))}else if(this.matchAsyncFunction())b=
this.parseFunctionDeclaration(),a=this.finalize(a,new n.ExportNamedDeclaration(b,[],null));else{var b=[],d=null,c=!1;for(this.expect("{");!this.match("}");)c=c||this.matchKeyword("default"),b.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}");this.matchContextualKeyword("from")?(this.nextToken(),d=this.parseModuleSpecifier(),this.consumeSemicolon()):c?(c=this.lookahead.value?u.Messages.UnexpectedToken:u.Messages.MissingFromClause,this.throwError(c,this.lookahead.value)):
this.consumeSemicolon();a=this.finalize(a,new n.ExportNamedDeclaration(null,b,d))}return a};return d}();r.Parser=h},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});r.assert=function(h,s){if(!h)throw Error("ASSERT: "+s);}},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});var x=function(){function h(){this.errors=[];this.tolerant=!1}h.prototype.recordError=function(h){this.errors.push(h)};h.prototype.tolerate=function(h){if(this.tolerant)this.recordError(h);else throw h;
};h.prototype.constructError=function(h,r){var n=Error(h);try{throw n;}catch(s){Object.create&&Object.defineProperty&&(n=Object.create(s),Object.defineProperty(n,"column",{value:r}))}return n};h.prototype.createError=function(h,r,n,s){n=this.constructError("Line "+r+": "+s,n);n.index=h;n.lineNumber=r;n.description=s;return n};h.prototype.throwError=function(h,r,n,s){throw this.createError(h,r,n,s);};h.prototype.tolerateError=function(h,r,n,s){h=this.createError(h,r,n,s);if(this.tolerant)this.recordError(h);
else throw h;};return h}();r.ErrorHandler=x},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});r.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",
DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",
IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",
InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",
StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",
StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",
TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},
function(h,r,x){function s(h){return"0123456789abcdef".indexOf(h.toLowerCase())}function q(h){return"01234567".indexOf(h)}Object.defineProperty(r,"__esModule",{value:!0});var u=x(9),n=x(4),G=x(11);h=function(){function h(l,d){this.source=l;this.errorHandler=d;this.isModule=this.trackComment=!1;this.length=l.length;this.index=0;this.lineNumber=0<l.length?1:0;this.lineStart=0;this.curlyStack=[]}h.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}};
h.prototype.restoreState=function(h){this.index=h.index;this.lineNumber=h.lineNumber;this.lineStart=h.lineStart};h.prototype.eof=function(){return this.index>=this.length};h.prototype.throwUnexpectedToken=function(h){void 0===h&&(h=G.Messages.UnexpectedTokenIllegal);return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,h)};h.prototype.tolerateUnexpectedToken=function(h){void 0===h&&(h=G.Messages.UnexpectedTokenIllegal);this.errorHandler.tolerateError(this.index,
this.lineNumber,this.index-this.lineStart+1,h)};h.prototype.skipSingleLineComment=function(h){var d=[],a,b;this.trackComment&&(d=[],a=this.index-h,b={start:{line:this.lineNumber,column:this.index-this.lineStart-h},end:{}});for(;!this.eof();){var c=this.source.charCodeAt(this.index);++this.index;if(n.Character.isLineTerminator(c))return this.trackComment&&(b.end={line:this.lineNumber,column:this.index-this.lineStart-1},h={multiLine:!1,slice:[a+h,this.index-1],range:[a,this.index-1],loc:b},d.push(h)),
13===c&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,d}this.trackComment&&(b.end={line:this.lineNumber,column:this.index-this.lineStart},h={multiLine:!1,slice:[a+h,this.index],range:[a,this.index],loc:b},d.push(h));return d};h.prototype.skipMultiLineComment=function(){var h=[],d,a;this.trackComment&&(h=[],d=this.index-2,a={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});for(;!this.eof();){var b=this.source.charCodeAt(this.index);
if(n.Character.isLineTerminator(b))13===b&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===b&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(a.end={line:this.lineNumber,column:this.index-this.lineStart},d={multiLine:!0,slice:[d+2,this.index-2],range:[d,this.index],loc:a},h.push(d)),h;++this.index}}this.trackComment&&(a.end={line:this.lineNumber,column:this.index-this.lineStart},d={multiLine:!0,
slice:[d+2,this.index],range:[d,this.index],loc:a},h.push(d));this.tolerateUnexpectedToken();return h};h.prototype.scanComments=function(){var h;this.trackComment&&(h=[]);for(var d=0===this.index;!this.eof();){var a=this.source.charCodeAt(this.index);if(n.Character.isWhiteSpace(a))++this.index;else if(n.Character.isLineTerminator(a))++this.index,13===a&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,d=!0;else if(47===a)if(a=this.source.charCodeAt(this.index+
1),47===a)this.index+=2,a=this.skipSingleLineComment(2),this.trackComment&&(h=h.concat(a)),d=!0;else if(42===a)this.index+=2,a=this.skipMultiLineComment(),this.trackComment&&(h=h.concat(a));else break;else if(d&&45===a)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,a=this.skipSingleLineComment(3),this.trackComment&&(h=h.concat(a));else break;else if(60!==a||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=
4,a=this.skipSingleLineComment(4),this.trackComment&&(h=h.concat(a));else break}return h};h.prototype.isFutureReservedWord=function(h){switch(h){case "enum":case "export":case "import":case "super":return!0;default:return!1}};h.prototype.isStrictModeReservedWord=function(h){switch(h){case "implements":case "interface":case "package":case "private":case "protected":case "public":case "static":case "yield":case "let":return!0;default:return!1}};h.prototype.isRestrictedWord=function(h){return"eval"===
h||"arguments"===h};h.prototype.isKeyword=function(h){switch(h.length){case 2:return"if"===h||"in"===h||"do"===h;case 3:return"var"===h||"for"===h||"new"===h||"try"===h||"let"===h;case 4:return"this"===h||"else"===h||"case"===h||"void"===h||"with"===h||"enum"===h;case 5:return"while"===h||"break"===h||"catch"===h||"throw"===h||"const"===h||"yield"===h||"class"===h||"super"===h;case 6:return"return"===h||"typeof"===h||"delete"===h||"switch"===h||"export"===h||"import"===h;case 7:return"default"===
h||"finally"===h||"extends"===h;case 8:return"function"===h||"continue"===h||"debugger"===h;case 10:return"instanceof"===h;default:return!1}};h.prototype.codePointAt=function(h){var d=this.source.charCodeAt(h);55296<=d&&56319>=d&&(h=this.source.charCodeAt(h+1),56320<=h&&57343>=h&&(d=1024*(d-55296)+h-56320+65536));return d};h.prototype.scanHexEscape=function(h){h="u"===h?4:2;for(var d=0,a=0;a<h;++a)if(!this.eof()&&n.Character.isHexDigit(this.source.charCodeAt(this.index)))d=16*d+s(this.source[this.index++]);
else return null;return String.fromCharCode(d)};h.prototype.scanUnicodeCodePointEscape=function(){var h=this.source[this.index],d=0;for("}"===h&&this.throwUnexpectedToken();!this.eof();){h=this.source[this.index++];if(!n.Character.isHexDigit(h.charCodeAt(0)))break;d=16*d+s(h)}(1114111<d||"}"!==h)&&this.throwUnexpectedToken();return n.Character.fromCodePoint(d)};h.prototype.getIdentifier=function(){for(var h=this.index++;!this.eof();){var d=this.source.charCodeAt(this.index);if(92===d||55296<=d&&57343>
d)return this.index=h,this.getComplexIdentifier();if(n.Character.isIdentifierPart(d))++this.index;else break}return this.source.slice(h,this.index)};h.prototype.getComplexIdentifier=function(){var h=this.codePointAt(this.index),d=n.Character.fromCodePoint(h);this.index+=d.length;var a;92===h&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,a=this.scanUnicodeCodePointEscape()):(a=this.scanHexEscape("u"),null!==a&&"\\"!==
a&&n.Character.isIdentifierStart(a.charCodeAt(0))||this.throwUnexpectedToken()),d=a);for(;!this.eof();){h=this.codePointAt(this.index);if(!n.Character.isIdentifierPart(h))break;a=n.Character.fromCodePoint(h);d+=a;this.index+=a.length;92===h&&(d=d.substr(0,d.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,a=this.scanUnicodeCodePointEscape()):(a=this.scanHexEscape("u"),null!==a&&"\\"!==a&&n.Character.isIdentifierPart(a.charCodeAt(0))||
this.throwUnexpectedToken()),d+=a)}return d};h.prototype.octalToDecimal=function(h){var d="0"!==h,a=q(h);!this.eof()&&n.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(d=!0,a=8*a+q(this.source[this.index++]),0<="0123".indexOf(h)&&!this.eof()&&n.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(a=8*a+q(this.source[this.index++])));return{code:a,octal:d}};h.prototype.scanIdentifier=function(){var h,d=this.index,a=92===this.source.charCodeAt(d)?this.getComplexIdentifier():this.getIdentifier();
h=1===a.length?3:this.isKeyword(a)?4:"null"===a?5:"true"===a||"false"===a?1:3;if(3!==h&&d+a.length!==this.index){var b=this.index;this.index=d;this.tolerateUnexpectedToken(G.Messages.InvalidEscapedReservedWord);this.index=b}return{type:h,value:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};h.prototype.scanPunctuator=function(){var h=this.index,d=this.source[this.index];switch(d){case "(":case "{":"{"===d&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;
"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,d="...");break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:d=this.source.substr(this.index,4),">>>="===d?this.index+=4:(d=d.substr(0,3),"==="===d||"!=="===d||">>>"===d||"<<="===d||">>="===d||"**="===d?this.index+=3:(d=d.substr(0,2),"&&"===d||"||"===d||"=="===d||"!="===d||"+="===d||"-="===d||"*="===d||"/="===d||"++"===
d||"--"===d||"<<"===d||">>"===d||"&="===d||"|="===d||"^="===d||"%="===d||"<="===d||">="===d||"=>"===d||"**"===d?this.index+=2:(d=this.source[this.index],0<="<>=!+-*%&|^/".indexOf(d)&&++this.index)))}this.index===h&&this.throwUnexpectedToken();return{type:7,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};h.prototype.scanHexLiteral=function(h){for(var d="";!this.eof()&&n.Character.isHexDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];0===d.length&&
this.throwUnexpectedToken();n.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+d,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};h.prototype.scanBinaryLiteral=function(h){for(var d="",a;!this.eof();){a=this.source[this.index];if("0"!==a&&"1"!==a)break;d+=this.source[this.index++]}0===d.length&&this.throwUnexpectedToken();this.eof()||(a=this.source.charCodeAt(this.index),(n.Character.isIdentifierStart(a)||
n.Character.isDecimalDigit(a))&&this.throwUnexpectedToken());return{type:6,value:parseInt(d,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};h.prototype.scanOctalLiteral=function(h,d){var a="",b=!1;n.Character.isOctalDigit(h.charCodeAt(0))?(b=!0,a="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&n.Character.isOctalDigit(this.source.charCodeAt(this.index));)a+=this.source[this.index++];b||0!==a.length||this.throwUnexpectedToken();(n.Character.isIdentifierStart(this.source.charCodeAt(this.index))||
n.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(a,8),octal:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};h.prototype.isImplicitOctalLiteral=function(){for(var h=this.index+1;h<this.length;++h){var d=this.source[h];if("8"===d||"9"===d)return!1;if(!n.Character.isOctalDigit(d.charCodeAt(0)))break}return!0};h.prototype.scanNumericLiteral=function(){var h=this.index,d=this.source[h];u.assert(n.Character.isDecimalDigit(d.charCodeAt(0))||
"."===d,"Numeric literal must start with a decimal digit or a decimal point");var a="";if("."!==d){a=this.source[this.index++];d=this.source[this.index];if("0"===a){if("x"===d||"X"===d)return++this.index,this.scanHexLiteral(h);if("b"===d||"B"===d)return++this.index,this.scanBinaryLiteral(h);if("o"===d||"O"===d||d&&n.Character.isOctalDigit(d.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(d,h)}for(;n.Character.isDecimalDigit(this.source.charCodeAt(this.index));)a+=this.source[this.index++];
d=this.source[this.index]}if("."===d){for(a+=this.source[this.index++];n.Character.isDecimalDigit(this.source.charCodeAt(this.index));)a+=this.source[this.index++];d=this.source[this.index]}if("e"===d||"E"===d){a+=this.source[this.index++];d=this.source[this.index];if("+"===d||"-"===d)a+=this.source[this.index++];if(n.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;n.Character.isDecimalDigit(this.source.charCodeAt(this.index));)a+=this.source[this.index++];else this.throwUnexpectedToken()}n.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&
this.throwUnexpectedToken();return{type:6,value:parseFloat(a),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};h.prototype.scanStringLiteral=function(){var h=this.index,d=this.source[h];u.assert("'"===d||'"'===d,"String literal must starts with a quote");++this.index;for(var a=!1,b="";!this.eof();){var c=this.source[this.index++];if(c===d){d="";break}else if("\\"===c)if((c=this.source[this.index++])&&n.Character.isLineTerminator(c.charCodeAt(0)))++this.lineNumber,"\r"===
c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(c){case "u":"{"===this.source[this.index]?(++this.index,b+=this.scanUnicodeCodePointEscape()):(c=this.scanHexEscape(c),null===c&&this.throwUnexpectedToken(),b+=c);break;case "x":c=this.scanHexEscape(c);null===c&&this.throwUnexpectedToken(G.Messages.InvalidHexEscapeSequence);b+=c;break;case "n":b+="\n";break;case "r":b+="\r";break;case "t":b+="\t";break;case "b":b+="\b";break;case "f":b+="\f";break;case "v":b+="\x0B";
break;case "8":case "9":b+=c;this.tolerateUnexpectedToken();break;default:c&&n.Character.isOctalDigit(c.charCodeAt(0))?(c=this.octalToDecimal(c),a=c.octal||a,b+=String.fromCharCode(c.code)):b+=c}else if(n.Character.isLineTerminator(c.charCodeAt(0)))break;else b+=c}""!==d&&(this.index=h,this.throwUnexpectedToken());return{type:8,value:b,octal:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};h.prototype.scanTemplate=function(){var h="",d=!1,a=this.index,b="`"===this.source[a],
c=!1,m=2;for(++this.index;!this.eof();){var q=this.source[this.index++];if("`"===q){m=1;d=c=!0;break}else if("$"===q){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;d=!0;break}h+=q}else if("\\"===q)if(q=this.source[this.index++],n.Character.isLineTerminator(q.charCodeAt(0)))++this.lineNumber,"\r"===q&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(q){case "n":h+="\n";break;case "r":h+="\r";break;case "t":h+="\t";break;case "u":if("{"===
this.source[this.index])++this.index,h+=this.scanUnicodeCodePointEscape();else{var r=this.index,s=this.scanHexEscape(q);null!==s?h+=s:(this.index=r,h+=q)}break;case "x":q=this.scanHexEscape(q);null===q&&this.throwUnexpectedToken(G.Messages.InvalidHexEscapeSequence);h+=q;break;case "b":h+="\b";break;case "f":h+="\f";break;case "v":h+="\v";break;default:"0"===q?(n.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(G.Messages.TemplateOctalLiteral),h+="\x00"):n.Character.isOctalDigit(q.charCodeAt(0))?
this.throwUnexpectedToken(G.Messages.TemplateOctalLiteral):h+=q}else n.Character.isLineTerminator(q.charCodeAt(0))?(++this.lineNumber,"\r"===q&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,h+="\n"):h+=q}d||this.throwUnexpectedToken();b||this.curlyStack.pop();return{type:10,value:this.source.slice(a+1,this.index-m),cooked:h,head:b,tail:c,lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}};h.prototype.testRegExp=function(h,d){var a=h,b=this;0<=d.indexOf("u")&&
(a=a.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(a,c,d){a=parseInt(c||d,16);1114111<a&&b.throwUnexpectedToken(G.Messages.InvalidRegExp);return 65535>=a?String.fromCharCode(a):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{return RegExp(h,d)}catch(c){return null}};h.prototype.scanRegExpBody=function(){var h=this.source[this.index];u.assert("/"===h,"Regular expression literal must start with a slash");for(var d=this.source[this.index++],a=!1,b=!1;!this.eof();)if(h=
this.source[this.index++],d+=h,"\\"===h)h=this.source[this.index++],n.Character.isLineTerminator(h.charCodeAt(0))&&this.throwUnexpectedToken(G.Messages.UnterminatedRegExp),d+=h;else if(n.Character.isLineTerminator(h.charCodeAt(0)))this.throwUnexpectedToken(G.Messages.UnterminatedRegExp);else if(a)"]"===h&&(a=!1);else if("/"===h){b=!0;break}else"["===h&&(a=!0);b||this.throwUnexpectedToken(G.Messages.UnterminatedRegExp);return d.substr(1,d.length-2)};h.prototype.scanRegExpFlags=function(){for(var h=
"";!this.eof();){var d=this.source[this.index];if(!n.Character.isIdentifierPart(d.charCodeAt(0)))break;++this.index;if("\\"!==d||this.eof())h+=d;else{d=this.source[this.index];if("u"===d){++this.index;var d=this.index,a=this.scanHexEscape("u");if(null!==a)for(h+=a;d<this.index;++d);else this.index=d,h+="u"}this.tolerateUnexpectedToken()}}return h};h.prototype.scanRegExp=function(){var h=this.index,d=this.scanRegExpBody(),a=this.scanRegExpFlags(),b=this.testRegExp(d,a);return{type:9,value:"",pattern:d,
flags:a,regex:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};h.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var h=this.source.charCodeAt(this.index);return n.Character.isIdentifierStart(h)?this.scanIdentifier():40===h||41===h||59===h?this.scanPunctuator():39===h||34===h?this.scanStringLiteral():46===h?n.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?
this.scanNumericLiteral():this.scanPunctuator():n.Character.isDecimalDigit(h)?this.scanNumericLiteral():96===h||125===h&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=h&&57343>h&&n.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return h}();r.Scanner=h},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});r.TokenName={};r.TokenName[1]="Boolean";r.TokenName[2]="<end>";r.TokenName[3]="Identifier";r.TokenName[4]=
"Keyword";r.TokenName[5]="Null";r.TokenName[6]="Numeric";r.TokenName[7]="Punctuator";r.TokenName[8]="String";r.TokenName[9]="RegularExpression";r.TokenName[10]="Template"},function(h,r){Object.defineProperty(r,"__esModule",{value:!0});r.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\u00a0",iexcl:"\u00a1",cent:"\u00a2",pound:"\u00a3",curren:"\u00a4",yen:"\u00a5",brvbar:"\u00a6",sect:"\u00a7",uml:"\u00a8",copy:"\u00a9",ordf:"\u00aa",laquo:"\u00ab",not:"\u00ac",shy:"\u00ad",reg:"\u00ae",macr:"\u00af",
deg:"\u00b0",plusmn:"\u00b1",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",
Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",Otilde:"\u00d5",Ouml:"\u00d6",times:"\u00d7",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",
oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",divide:"\u00f7",oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",
Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",
thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",frasl:"\u2044",euro:"\u20ac",image:"\u2111",weierp:"\u2118",real:"\u211c",trade:"\u2122",
alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",
asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27e8",rang:"\u27e9"}},function(h,r,x){Object.defineProperty(r,"__esModule",{value:!0});var s=x(10),q=x(12),u=x(13),n=function(){function h(){this.values=[];this.curly=
this.paren=-1}h.prototype.beforeFunctionExpression=function(h){return 0<="( { [ in typeof instanceof new return case delete throw void = += -= *= **= /= %= <<= >>= >>>= &= |= ^= , + - * ** / % ++ -- << >> >>> & | ^ ! ~ && || ? : === == >= <= < > != !==".split(" ").indexOf(h)};h.prototype.isRegexStart=function(){var h=this.values[this.values.length-1],l=null!==h;switch(h){case "this":case "]":l=!1;break;case ")":h=this.values[this.paren-1];l="if"===h||"while"===h||"for"===h||"with"===h;break;case "}":l=
!1,"function"===this.values[this.curly-3]?l=(h=this.values[this.curly-4])?!this.beforeFunctionExpression(h):!1:"function"===this.values[this.curly-4]&&(l=(h=this.values[this.curly-5])?!this.beforeFunctionExpression(h):!0)}return l};h.prototype.push=function(h){7===h.type||4===h.type?("{"===h.value?this.curly=this.values.length:"("===h.value&&(this.paren=this.values.length),this.values.push(h.value)):this.values.push(null)};return h}();h=function(){function h(r,l){this.errorHandler=new s.ErrorHandler;
this.errorHandler.tolerant=l?"boolean"===typeof l.tolerant&&l.tolerant:!1;this.scanner=new q.Scanner(r,this.errorHandler);this.scanner.trackComment=l?"boolean"===typeof l.comment&&l.comment:!1;this.trackRange=l?"boolean"===typeof l.range&&l.range:!1;this.trackLoc=l?"boolean"===typeof l.loc&&l.loc:!1;this.buffer=[];this.reader=new n}h.prototype.errors=function(){return this.errorHandler.errors};h.prototype.getNextToken=function(){if(0===this.buffer.length){var h=this.scanner.scanComments();if(this.scanner.trackComment)for(var l=
0;l<h.length;++l){var d=h[l],a=this.scanner.source.slice(d.slice[0],d.slice[1]),a={type:d.multiLine?"BlockComment":"LineComment",value:a};this.trackRange&&(a.range=d.range);this.trackLoc&&(a.loc=d.loc);this.buffer.push(a)}this.scanner.eof()||(h=void 0,this.trackLoc&&(h={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}}),l="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex(),this.reader.push(l),
d={type:u.TokenName[l.type],value:this.scanner.source.slice(l.start,l.end)},this.trackRange&&(d.range=[l.start,l.end]),this.trackLoc&&(h.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},d.loc=h),9===l.type&&(d.regex={pattern:l.pattern,flags:l.flags}),this.buffer.push(d))}return this.buffer.shift()};return h}();r.Tokenizer=h}])});var saveAs=saveAs||function(h){if(!("undefined"===typeof h||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var r=function(){return h.URL||h.webkitURL||h},x=h.document.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in x,q=/constructor/i.test(h.HTMLElement)||h.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),n=function(a){(h.setImmediate||h.setTimeout)(function(){throw a;},0)},G=function(a){setTimeout(function(){"string"===typeof a?r().revokeObjectURL(a):
a.remove()},4E4)},C=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},l=function(a,b,c){c||(a=C(a));var d=this,l="application/octet-stream"===a.type,K,U=function(){for(var a=["writestart","progress","write","writeend"],a=[].concat(a),b=a.length;b--;){var c=d["on"+a[b]];if("function"===typeof c)try{c.call(d,d)}catch(h){n(h)}}};c=function(){if((u||l&&q)&&h.FileReader){var b=new FileReader;
b.onloadend=function(){var a=u?b.result:b.result.replace(/^data:[^;]*;/,"data:attachment/file;");h.open(a,"_blank")||(h.location.href=a);d.readyState=d.DONE;U()};b.readAsDataURL(a);d.readyState=d.INIT}else K||(K=r().createObjectURL(a)),l?h.location.href=K:h.open(K,"_blank")||(h.location.href=K),d.readyState=d.DONE,U(),G(K)};d.readyState=d.INIT;s?(K=r().createObjectURL(a),setTimeout(function(){x.href=K;x.download=b;var a=new MouseEvent("click");x.dispatchEvent(a);U();G(K);d.readyState=d.DONE})):c()},
d=l.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(a,b,c){b=b||a.name||"download";c||(a=C(a));return navigator.msSaveOrOpenBlob(a,b)};d.abort=function(){};d.readyState=d.INIT=0;d.WRITING=1;d.DONE=2;d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null;return function(a,b,c){return new l(a,b||a.name||"download",c)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);var gui=function(){var h=null;return gui={init:function(r,x){h=new UIL.Gui({parent:r,css:"left:0px; right: auto; ",size:240,color:"no",h:22,close:!1});x.withFps&&h.add("fps",{height:30}).show();this.add(x)},add:function(r){var x=r.base,s=r.function,q;for(q in x)if(r[q])h.add(x,q,r[q]).onChange(s)},dispose:function(){h.dispose()},resize:function(r){h.setWidth(r-10)}}}();var editor=function(){var h,r,x,s,q,u,n,G,C,l="javascript",d={},a,b,c,m,F,K,U,$,z,w=[],t,B,g,M,O,N,D,sa,Ba,qa,L,ga,na,Ga,A=function(){},H=function(){},kb=!1,lb=!1,Wa=[],Xa=[],J=null,Ha=null,ea=0,ua=0,X=!1,fa=0,fb=0,Ia=!1,tb=null,ha="#DE5825",Ja=!1,Q=!1,va=!1,Ka=!1,Ca=!1,ia=!1,Pa=!1,ka=!1,Qa="",Za="",ca="",Ya="",Da,Y,P;return editor={isFullScreen:!1,extraMode:"",init:function(d,g,l,t){d&&(A=d);document.body.style.cssText="font-family: Consolas,monaco,monospace; padding:0; margin:0; font-size: 13px; height:100%; background:#222322; color:#dedede; overflow:hidden;";
ha=l||"#DE5825";z="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAQAAABKxSfDAAAAI0lEQVR42kXCsQ0AIAzAsKgDAwM/8P+R6RjZSHCCJ3iDL/izpHclY0Bn72IAAAAASUVORK5CYII=)";h="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; background:none; pointer-events:none; top:0;  height:100%;";r="box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box;position:absolute; background:none; pointer-events:auto; display:block; border-left:1px solid #3f3f3f; border-right:1px solid #3f3f3f; top:0px; width:10px; height:100%; color: rgba(255, 255, 255, 0.2); cursor: e-resize;";
x="padding:0 0; width:70px; height:30px; font-size: 16px; font-weight: 900; letter-spacing: 1px; text-align: center; pointer-events:auto; cursor:pointer; display: inline-block; margin-left:10px; border-radius:6px;line-height: 30px; text-shadow: 1px 1px #000000;";s="font-size: 13px; pointer-events:auto; cursor: pointer; text-align: left; display: inline-block; width:120px; padding:2px 3px; text-shadow: 1px 1px #000000;";q="vertical-align: top; pointer-events:none; font-size: 12px; height: 12px; padding: 2px 0px; margin : 2px 0px; width:calc(100% - 40px); display: block; text-align: left; border-bottom: 1px dashed #626262; color:#626262;";
u="position:absolute; background:none; pointer-events:none; display:block; left:0px; top:45px; width:100%; background:none; height:calc(100% - 45px);";n="position:absolute; top:0px; left:0px; width:100%; height:40px; background:none; border-bottom:1px solid #3f3f3f; box-sizing:border-box;";G="pointer-events:auto; cursor:pointer; border-top-left-radius:6px; border-top-right-radius:6px; height: 35px; font-size: 14px; font-weight: 500; text-align: center; padding:10px 10px; margin-left:5px; margin-top:5px; border:1px solid #3f3f3f; border-bottom:none; display:inline-block; box-sizing:border-box;";
C="position:absolute; width:30px; height:30px; right:5px; top:5px; border-radius:6px; pointer-events:auto; cursor:pointer; ";Q=g||!1;$=document.createElement("div");$.style.cssText="box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box;-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position: absolute; padding-top:10px; border-bottom:none; overflow:hidden;";document.body.appendChild($);editor.resizeMenu();
editor.makeBigMenu();U=document.createElement("div");U.style.cssText="padding: 10px 20px; width:100%; display: block; background-position: bottom; background-repeat: repeat-x;";$.appendChild(U);L=document.createElement("div");L.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; right:0; bottom:0;";document.body.appendChild(L);ga=document.createElement("div");ga.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; left:0; bottom:0;";
document.body.appendChild(ga);c=document.createElement("div");c.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute;  bottom:9px; color:#000000; text-align:left; left:21px";ga.appendChild(c);b=document.createElement("div");b.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute; bottom:10px; color:"+
ha+"; text-align:left; left:70px";ga.appendChild(b);K=document.createElement("div");K.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; font-size: 14px;  bottom: 24px; color:#888988; text-shadow: 1px 1px #000000; text-align:right; right:50px";L.appendChild(K);F=document.createElement("div");F.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute;  bottom:9px; color:#000000; text-align:right; right:49px";
L.appendChild(F);m=document.createElement("div");m.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute; bottom:10px; color:#787978; text-align:right; right:50px";L.appendChild(m);a=document.createElement("div");a.style.cssText="position:absolute; width:30px; height:30px; right:10px; bottom:10px; pointer-events:auto; cursor:pointer; ";a.innerHTML=editor.icon("scrIn","#787978",
30,30);L.appendChild(a);a.addEventListener("click",editor.toggleFullScreen,!1);a.addEventListener("mouseover",function(){this.innerHTML=editor.icon(editor.isFullScreen?"scrOut":"scrIn",ha,30,30)},!1);a.addEventListener("mouseout",function(){this.innerHTML=editor.icon(editor.isFullScreen?"scrOut":"scrIn","#787978",30,30)},!1);Ba=document.createElement("a");Ba.href="https://github.com/lo-th";Ba.target="_blank";Ba.style.cssText="position:absolute; width:60px; height:30px; left:6px; bottom:13px; pointer-events:auto; cursor:pointer;";
Ba.innerHTML=editor.icon("3TH","#787978");ga.appendChild(Ba);qa=document.getElementById("3TH");Ba.addEventListener("mouseover",function(){qa.setAttributeNS(null,"fill",ha)},!1);Ba.addEventListener("mouseout",function(){qa.setAttributeNS(null,"fill","#787978")},!1);document.addEventListener("fullscreenchange",editor.screenChange,!1);document.addEventListener("webkitfullscreenchange",editor.screenChange,!1);document.addEventListener("mozfullscreenchange",editor.screenChange,!1);document.addEventListener("MSFullscreenChange",
editor.screenChange,!1);document.addEventListener("contextmenu",editor.noMenu,!1);void 0!==t&&this.setLink(t);Q&&this.show()},noMenu:function(a){a.clientX<ea-10&&40<a.clientY||a.preventDefault()},addExtraOption:function(a){H=a;na=document.createElement("div");na.style.cssText="position:absolute; width:30px; height:30px; right:10px; bottom:50px; pointer-events:auto; cursor:pointer; ";na.innerHTML=editor.icon("shoot","#383938",30,30);L.appendChild(na);Ga=document.createElement("div");Ga.style.cssText=
"position:absolute; width:30px; height:30px; right:10px; bottom:90px; pointer-events:auto; cursor:pointer; ";Ga.innerHTML=editor.icon("picker","#383938",30,30);L.appendChild(Ga);na.addEventListener("click",function(){editor.toggleExtraMode("shoot")},!1);na.addEventListener("mouseover",function(){this.innerHTML=editor.icon("shoot",ha,30,30)},!1);na.addEventListener("mouseout",function(){this.innerHTML=editor.icon("shoot","shoot"===editor.extraMode?"#787978":"#383938",30,30)},!1);Ga.addEventListener("click",
function(){editor.toggleExtraMode("picker")},!1);Ga.addEventListener("mouseover",function(){this.innerHTML=editor.icon("picker",ha,30,30)},!1);Ga.addEventListener("mouseout",function(){this.innerHTML=editor.icon("picker","picker"===editor.extraMode?"#787978":"#383938",30,30)},!1)},toggleExtraMode:function(a){editor.extraMode=a!==editor.extraMode?a:"";na.innerHTML=editor.icon("shoot","shoot"===editor.extraMode?"#787978":"#383938",30,30);Ga.innerHTML=editor.icon("picker","picker"===editor.extraMode?
"#787978":"#383938",30,30);H(editor.extraMode)},icon:function(a,b,c,d){var g=c=c||40;d=d||40;b=b||"#DEDEDE";d="0 0 "+d+" "+d;var h="";"3TH"===a&&(d="0 0 100 50",c=60,g=30,h="<filter id='f1' x='0' y='0' width='200%' height='200%'><feOffset result='offOut' in='SourceAlpha' dx='1' dy='1' /><feGaussianBlur result='blurOut' in='offOut' stdDeviation='1' /><feBlend in='SourceGraphic' in2='blurOut' mode='normal' /></filter>");c=["<svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' style='pointer-events:none;' preserveAspectRatio='xMinYMax meet' x='0px' y='0px' width='"+
c+"px' height='"+g+"px' viewBox='"+d+"'>"+h+"<g>"];switch(a){case "save":c[1]="<path stroke='"+b+"' stroke-width='4' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 26.125 17 L 20 22.95 14.05 17 M 20 9.95 L 20 22.95'/>";c[1]+="<path stroke='"+b+"' stroke-width='2.5' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 32.6 23 L 32.6 25.5 Q 32.6 28.5 29.6 28.5 L 10.6 28.5 Q 7.6 28.5 7.6 25.5 L 7.6 23'/>";break;case "scrIn":c[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 3 20 L 1 20 1 30 11 30 11 28 3 28 3 20 M 11 3 L 11 1 1 1 1 11 3 11 3 3 11 3 M 30 11 L 30 1 20 1 20 3 28 3 28 11 30 11 M 30 20 L 28 20 28 28 20 28 20 30 30 30 30 20 M 24 22 L 24 9 7 9 7 22 24 22 M 22 11 L 22 20 9 20 9 11 22 11 Z'/>";
c[1]+="<path fill='"+b+"' stroke='none' d='M 23 21 L 23 8 6 8 6 21 23 21 M 21 10 L 21 19 8 19 8 10 21 10 M 2 19 L 0 19 0 29 10 29 10 27 2 27 2 19 M 10 2 L 10 0 0 0 0 10 2 10 2 2 10 2 M 29 19 L 27 19 27 27 19 27 19 29 29 29 29 19 M 27 10 L 29 10 29 0 19 0 19 2 27 2 27 10 Z'/>";break;case "scrOut":c[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 30 1 L 1 1 1 30 30 30 30 1 M 3 3 L 28 3 28 28 3 28 3 3 M 9 17 L 7 17 7 22 12 22 12 20 9 20 9 17 M 12 11 L 12 9 7 9 7 14 9 14 9 11 12 11 M 22 14 L 24 14 24 9 19 9 19 11 22 11 22 14 M 24 17 L 22 17 22 20 19 20 19 22 24 22 24 17 Z'/>";
c[1]+="<path fill='"+b+"' stroke='none' d='M 29 0 L 0 0 0 29 29 29 29 0 M 27 27 L 2 27 2 2 27 2 27 27 M 8 16 L 6 16 6 21 11 21 11 19 8 19 8 16 M 11 10 L 11 8 6 8 6 13 8 13 8 10 11 10 M 21 16 L 21 19 18 19 18 21 23 21 23 16 21 16 M 21 10 L 21 13 23 13 23 8 18 8 18 10 21 10 Z'/>";break;case "shoot":c[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 12.1 11.1 Q 11.9 11.55 10.7 11.9 9.5 12.2 10.4 13.15 12.45 14.3 12 14.8 11.55 15 11.15 15.4 10.15 16.4 10.15 17.85 10.15 19.3 11.15 20.3 12.15 21.3 13.6 21.3 L 17.3 21.3 Q 21.1 21.1 21.45 16.25 21.85 14.05 19.7 14.65 17.35 15.5 16.5 14.35 16.6 14.3 16.65 14.2 17.5 13.4 17.5 12.25 17.5 11.05 16.65 10.25 15.85 9.45 14.7 9.45 13.5 9.45 12.7 10.25 12.35 10.6 12.15 11.1 L 12.1 11.1 M 3 18 L 3 24 7 28 13 28 13 26 8 26 5 23 5 18 3 18 M 13 5 L 13 3 7 3 3 7 3 13 5 13 5 8 8 5 13 5 M 28 18 L 26 18 26 23 23 26 18 26 18 28 24 28 28 24 28 18 M 23 5 L 26 8 26 13 28 13 28 7 24 3 18 3 18 5 23 5 M 14.5 25 L 14.5 30 16.5 30 16.5 25 14.5 25 M 1 14.5 L 1 16.5 6 16.5 6 14.5 1 14.5 M 16.5 6 L 16.5 1 14.5 1 14.5 6 16.5 6 M 30 14.5 L 25 14.5 25 16.5 30 16.5 30 14.5 Z'/>";
c[1]+="<path fill='"+b+"' stroke='none' d='M 11.1 10.05 L 11.1 10.1 Q 10.9 10.57 9.7 10.85 8.5 11.2 9.4 12.15 11.48 13.3 10.95 13.75 10.53 14 10.15 14.4 9.15 15.4 9.15 16.85 9.15 18.3 10.15 19.3 11.15 20.3 12.6 20.3 L 16.3 20.3 Q 20.1 20.1 20.45 15.25 20.8625 13 18.7 13.65 16.36 14.5 15.5 13.35 15.57 13.27 15.65 13.2 16.5 12.4 16.5 11.25 16.5 10.05 15.65 9.25 14.85 8.45 13.7 8.45 12.5 8.45 11.7 9.25 11.33 9.61 11.1 10.05 M 2 17 L 2 23 6 27 12 27 12 25 7 25 4 22 4 17 2 17 M 12 4 L 12 2 6 2 2 6 2 12 4 12 4 7 7 4 12 4 M 27 17 L 25 17 25 22 22 25 17 25 17 27 23 27 27 23 27 17 M 22 4 L 25 7 25 12 27 12 27 6 23 2 17 2 17 4 22 4 M 5 15.5 L 5 13.5 0 13.5 0 15.5 5 15.5 M 15.5 24 L 13.5 24 13.5 29 15.5 29 15.5 24 M 15.5 5 L 15.5 0 13.5 0 13.5 5 15.5 5 M 24 13.5 L 24 15.5 29 15.5 29 13.5 24 13.5 Z'/>";
break;case "picker":c[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 7.15 14.25 L 5.75 12.85 2.95 15.65 4.35 17.05 7.15 14.25 M 5 9 L 1 9 1 11 5 11 5 9 M 4.35 2.95 L 2.95 4.35 5.75 7.15 7.15 5.75 4.35 2.95 M 14.25 7.15 L 17.05 4.35 15.65 2.95 12.85 5.75 14.25 7.15 M 11 5 L 11 1 9 1 9 5 11 5 M 22.9 19.9 L 28 17 10 10 17 28 19.9 22.9 26 29 29 26 22.9 19.9 M 19 20 L 17 24 13 13 24 17 20 19 27 26 26 27 19 20 Z'/>";c[1]+="<path fill='"+b+"' stroke='none' d='M 3.35 16.05 L 6.15 13.25 4.75 11.85 1.95 14.65 3.35 16.05 M 4 10 L 4 8 0 8 0 10 4 10 M 3.35 1.95 L 1.95 3.35 4.75 6.15 6.15 4.75 3.35 1.95 M 8 4 L 10 4 10 0 8 0 8 4 M 16.05 3.35 L 14.65 1.95 11.85 4.75 13.25 6.15 16.05 3.35 M 21.9 18.9 L 27 16 9 9 16 27 18.9 21.9 25 28 28 25 21.9 18.9 M 18 19 L 16 23 12 12 23 16 19 18 26 25 25 26 18 19 Z'/>";
break;case "3TH":c[1]="<path id='3TH' filter='url(#f1)' fill='"+b+"' stroke='none' stroke-width='0' d='M 83.7 48.3 L 94 48.3 94 32.95 Q 94 26.65 89.5 22.1 85.05 17.7 78.65 17.7 L 78.55 17.7 Q 78.35 17.7 78.15 17.7 L 73.6 17.7 73.6 8 63.4 8 63.4 17.7 49.7 17.7 49.7 8 39.5 8 39.5 17.7 34.05 17.7",c[1]+="Q 34.35 16.35 34.35 14.8 L 34.35 14.7 Q 34.35 12.45 33.65 10.45 32.7 7.7 30.55 5.55 30.15 5.1 29.6 4.7 26.1 1.7 21.25 1.7 18.3 1.7 15.8 2.85 13.75 3.75 12 5.55 8.3 9.35 8.2 14.6 8.2 14.7 8.2 14.8 L 18.4 14.8 18.4 14.7",
c[1]+="Q 18.4 13.55 19.2 12.75 20.05 11.9 21.15 11.9 L 21.35 11.9 Q 22.5 11.9 23.35 12.75 24.05 13.55 24.15 14.7 L 24.15 14.8 Q 24.15 15.95 23.35 16.85 22.5 17.6 21.35 17.7",c[1]+="L 18.4 17.7 18.4 27.9 21.6 27.9 Q 23.45 28 24.9 29.35 25.5 30.05 25.9 30.85 26.3 31.8 26.3 32.95 26.3 35.1 24.9 36.55 23.45 38 21.35 38.1 L 21.25 38.1 Q 19.1 38.1 17.65 36.55 16.1 35.1 16.1 32.95 16.1 32.85 16.1 32.75 L 6 32.75",c[1]+="Q 6 32.85 6 32.95 6 39.3 10.45 43.75 12.8 46.15 15.8 47.25 18.3 48.3 21.25 48.3 L 21.35 48.3 Q 26 48.2 29.6 45.8 30.95 44.9 32.1 43.75 36.5 39.3 36.5 32.95 36.5 31.9 36.4 30.85 36.2 29.35 35.8 27.9 L 39.5 27.9 39.5 32.75 Q 39.5 32.85 39.5 32.95 39.5 39.3 44.05 43.75 48.45 48.3 54.85 48.3 L 60.45 48.3 60.45 38.1 54.75 38.1",
c[1]+="Q 52.7 38.1 51.15 36.55 49.7 35.1 49.7 32.95 L 49.7 27.9 54.75 27.9 Q 54.85 27.9 54.95 27.9 L 63.4 27.9 63.4 48.3 73.6 48.3 73.6 32.95 Q 73.6 30.85 75.05 29.35 76.3 28.2 77.85 27.9 78.15 27.9 78.55 27.9 L 78.65 27.9 Q 80.85 27.9 82.25 29.35 83.7 30.85 83.7 32.95 L 83.7 48.3 Z'/>"}c[2]="</g></svg>";return c.join("\n")},addUI:function(){B=document.createElement("div");B.style.cssText=h;B.style.right="0";N=document.createElement("div");N.style.cssText=r;N.name="right";N.addEventListener("mouseover",
editor.mid_over,!1);N.addEventListener("mouseout",editor.mid_out,!1);N.addEventListener("mousedown",editor.mid_down,!1);document.body.appendChild(B);document.body.appendChild(N);gui.init(B,tb);Ka=Pa=!0},removeUI:function(){Pa&&(gui.dispose(),N.removeEventListener("mouseover",editor.mid_over),N.removeEventListener("mouseout",editor.mid_out),N.removeEventListener("mousedown",editor.mid_down),document.body.removeChild(N),document.body.removeChild(B),Ka=Pa=!1)},addCodeEditor:function(){t=document.createElement("div");
t.style.cssText=h;t.style.left="0";document.body.appendChild(t);O=document.createElement("div");O.style.cssText=r;document.body.appendChild(O);O.name="left";O.addEventListener("mouseover",editor.mid_over,!1);O.addEventListener("mouseout",editor.mid_out,!1);O.addEventListener("mousedown",editor.mid_down,!1);g=document.createElement("div");g.style.cssText=u;t.appendChild(g);D=document.createElement("div");D.style.cssText=n;t.appendChild(D);P=document.createElement("div");P.style.cssText=C;P.innerHTML=
editor.icon("save",ha,30);t.appendChild(P);P.addEventListener("mouseover",editor.save_over,!1);P.addEventListener("mouseout",editor.save_out,!1);P.addEventListener("click",editor.save,!1);editor.addCode(ca,!0);M=CodeMirror(g,{value:Qa,mode:"text/"+l,theme:"monokai",lineNumbers:!0,matchBrackets:!0,indentWithTabs:!1,styleActiveLine:!1,tabSize:4,indentUnit:4});M.on("change",function(){editor.onChange()});M.on("focus",function(){lb=!0;view&&view.needFocus()});M.on("blur",function(){lb=!1});M.on("drop",
function(){kb?kb=!1:M.setValue("")});M.on("dragstart",function(){kb=!0});Ca=!0},setMode:function(a){l=a;Ca&&M.setOption("mode","glsl"===l?"text/x-"+l:"text/"+l)},removeCodeEditor:function(){g.removeChild(M.getWrapperElement());M=null;O.removeEventListener("mouseover",editor.mid_over);O.removeEventListener("mouseout",editor.mid_out);O.removeEventListener("mousedown",editor.mid_down);P.removeEventListener("mouseover",editor.save_over);P.removeEventListener("mouseout",editor.save_out);P.removeEventListener("click",
editor.save);t.removeChild(D);t.removeChild(g);t.removeChild(P);document.body.removeChild(O);document.body.removeChild(t);Ca=!1},uiReset:function(){var a=Pa?!0:!1;editor.hideUI();ka&&(Ka=a);editor.Bdesative(w[2]);ka=!1;tb=null},setOption:function(a){tb=a;ka=!0;this.Bdefault(w[2]);Ka&&this.showUI()},hideUI:function(){Pa&&this.removeUI();va=!1;fb=fa;fa=0;this.Bdefault(w[2]);this.resize()},showUI:function(){ka&&(Pa||this.addUI(),va=!0,fa=fb?fb:310,this.Bactive(w[2]),this.resize())},hide:function(){Ca&&
this.removeCodeEditor();Q=!1;ua=ea;ea=0;this.Bdefault(w[1]);this.resize()},show:function(){Ca||this.addCodeEditor();Q=!0;ea=ua?ua:Math.floor(window.innerWidth-window.innerWidth/1.618);this.resize();M.refresh()},resizeMenu:function(a){$.style.width=(a||window.innerWidth-ea-fa)+"px"},resize:function(a){a&&(X&&(ea=a.clientX+10,ea=100>ea?100:ea),Ia&&(fa=window.innerWidth-a.clientX+10,fa=100>fa?100:fa));view&&view.setLeft(ea,fa);null!==Ha&&(Ha.s[0].left=ea+70+"px",Ha.needZone());ga.style.left=ea+"px";
L.style.right=fa+"px";$.style.left=ea+"px";sa.style.right=fa+"px";Pa&&(N.style.right=fa-10+"px",B.style.width=fa-10+"px",gui.resize(fa));Ca&&(O.style.left=ea-10+"px",t.style.width=ea-10+"px")},log:function(a){b.textContent=a;c.textContent=a},tell:function(a){m.textContent=a;F.textContent=a},makeBigMenu:function(){for(var a=["DEMO","CODE","UI","PAUSE"],b,c,d=0;d<a.length;d++)c=a[d],b=document.createElement("div"),b.style.cssText=x,b.addEventListener("click",editor["click"+c],!1),b.style.color=ha,b.name=
c,"PAUSE"===c&&(c="&#10074;&#10074;",b.style.width="30px"),"UI"===c&&(b.style.width="30px"),b.innerHTML=c,$.appendChild(b),w.push(b);for(d=w.length;d--;)w[d].addEventListener("mouseover",editor.Bover,!1),w[d].addEventListener("mouseout",editor.Bout,!1)},clickDEMO:function(a){a.preventDefault();Ja?editor.hideBigMenu():editor.showBigMenu()},clickCODE:function(a){a.preventDefault();Q?editor.hide():editor.show()},clickPAUSE:function(a){a.preventDefault();ia?(this.innerHTML="&#10074;&#10074;",ia=!1):(this.innerHTML=
"&#9654;",ia=!0);view&&(view.pause=ia)},clickUI:function(a){a.preventDefault();va?editor.hideUI():editor.showUI()},showBigMenu:function(){var a,b;a=Array.isArray(demos);$.style.background="rgba(21,21,21,0.75)";U.style.backgroundImage=z;Ja=!0;if(a)for(demos.sort(),b=demos.length,a=0;a<b;a++)editor.addButtonMenu(demos[a],demos[a]===ca);else for(var c in demos)for(editor.addRubric(c),demos[c].sort(),b=demos[c].length,a=0;a<b;a++)editor.addButtonMenu(demos[c][a],demos[c][a]===ca)},hideBigMenu:function(){$.style.background=
"none";$.style.borderBottom="none";U.style.backgroundImage="none";Ja=!1;for(var a=U.childNodes.length,b;a--;)b=U.childNodes[a],b.isButton&&(b.removeEventListener("click",editor.demoSelect),b.removeEventListener("mouseover",editor.MBover),b.removeEventListener("mouseout",editor.MBout)),U.removeChild(b);editor.Bdefault(w[0])},addRubric:function(a){var b=document.createElement("div");b.style.cssText=q;b.innerHTML=a;U.appendChild(b)},addButtonMenu:function(a,b){var c=document.createElement("div");c.style.cssText=
s;c.innerHTML="&bull; "+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase();c.name=a;b?(c.style.color="#3f3f3f",c.style.pointerEvents="none"):(c.isButton=!0,c.addEventListener("click",editor.demoSelect,!1),c.addEventListener("mouseover",editor.MBover,!1),c.addEventListener("mouseout",editor.MBout,!1));U.appendChild(c)},demoSelect:function(a){a.preventDefault();editor.hideBigMenu();editor.load("demos/"+a.target.name+".js")},MBover:function(a){a.preventDefault();a.target.style.color=ha},MBout:function(a){a.preventDefault();
a.target.style.color="#dedede"},Bover:function(a){a.preventDefault();a.target.style.background=ha;a.target.style.color="#000000";a.target.style.textShadow="1px 1px "+ha},Bout:function(a){a.preventDefault();var b=0;"CODE"===a.target.name&&Q&&(b=1);"DEMO"===a.target.name&&Ja&&(b=1);"UI"===a.target.name&&va&&(b=1);b?editor.Bactive(a.target):editor.Bdefault(a.target)},Bdefault:function(a){a.style.background="none";a.style.color=ha;a.style.textShadow="1px 1px #000000";a.style.pointerEvents="auto"},Bactive:function(a){a.style.background=
"#3f3f3f";a.style.color="#999999";a.style.textShadow="1px 1px #333333"},Bdesative:function(a){a.style.background="none";a.style.color="#3f3f3f";a.style.pointerEvents="none"},mid_over:function(a){a.preventDefault();this.style.background=ha},mid_out:function(a){a.preventDefault();a=a.target.name;"left"!==a||X||(this.style.background="none");"right"!==a||Ia||(this.style.background="none")},mid_down:function(a){a.preventDefault();a=a.target.name;"left"===a&&(X=!0);"right"===a&&(Ia=!0);document.addEventListener("mouseup",
editor.mid_up,!1);document.addEventListener("mousemove",editor.resize,!1)},mid_up:function(a){Ia=X=!1;document.removeEventListener("mouseup",editor.mid_up,!1);document.removeEventListener("mousemove",editor.resize,!1)},clearMenuCode:function(){for(var a=D.childNodes.length,b;a--;)b=D.childNodes[a],b.removeEventListener("mousedown",editor.codeDown),D.removeChild(b)},selectMenuCode:function(){for(var a=D.childNodes.length,b;a--;)b=D.childNodes[a],b.style.borderBottom=b.name===Za?"1px solid #222322":
"none"},addCode:function(a,b){var c=document.createElement("div");c.style.cssText=G;c.name=a;c.innerHTML=a;c.addEventListener("mousedown",editor.codeDown);b&&(c.style.borderBottom="1px solid #222322");D.appendChild(c)},codeDown:function(a){a=a.target.name;a!==Za&&(Za=a,editor.selectMenuCode(),M.setValue(d[a]))},save_over:function(a){a.preventDefault();P.innerHTML=editor.icon("save","#000",30);P.style.background=ha},save_out:function(a){a.preventDefault();P.innerHTML=editor.icon("save",ha,30);P.style.background=
"none"},save:function(a){a.preventDefault();a=new Blob([Qa],{type:"text/plain"});saveAs(a,ca+".js")},clearTmpCode:function(a){d={}},getChannelNumber:function(a){var b=0;a=a.substring(a.length-1);"A"===a&&(b=1);"B"===a&&(b=2);"C"===a&&(b=3);"D"===a&&(b=4);"V"===a&&(b=5);"E"===a&&(b=6);return b},load:function(a){var b=a.substring(a.lastIndexOf("/")+1,a.lastIndexOf("."));a.substring(a.lastIndexOf(".")+1);editor.getChannelNumber(b);var c=new XMLHttpRequest;c.overrideMimeType("text/plain; charset=x-user-defined");
c.open("GET",a,!0);c.onload=function(){d[b]=c.responseText;editor.uiReset();Ca?(editor.clearMenuCode(),editor.addCode(b,!0),ca=b,M.setValue(d[b])):(ca=b,Qa=d[b],editor.inject())};c.send()},unFocus:function(){Ca&&M.getInputField().blur();view&&view.haveFocus()},getFocus:function(){return lb},onChange:function(){clearTimeout(J);Qa=M.getValue();this.validate()&&(J=setTimeout(function(){editor.inject()},300))},inject:function(a){a=a||0;if(0===a){var b=!0;location.hash.substr(1)===ca&&(b=!1);location.hash=
ca;K.innerHTML=ca.charAt(0).toUpperCase()+ca.substring(1).toLowerCase()}var c=document.createElement("script");c.language="javascript";c.type="text/javascript";c.text=Qa;document.getElementsByTagName("BODY").item(a).appendChild(c);0===a&&A(ca,b)},validate:function(a){return M.operation(function(){for(;0<Wa.length;)M.removeLineClass(Wa.shift(),"background","errorLine");for(var a=Xa.length;a--;)M.removeLineWidget(Xa[a]);Xa.length=0;var b=Qa;try{for(var c=esprima.parse(b,{tolerant:!0}).errors,a=c.length;a--;){var d=
c[a],g=document.createElement("div");g.className="esprima-error";g.textContent=d.message.replace(/Line [0-9]+: /,"");var h=d.lineNumber-1;Wa.push(h);M.addLineClass(h,"background","errorLine");var l=M.addLineWidget(h,g);Xa.push(l)}}catch(m){g=document.createElement("div"),g.className="esprima-error",g.textContent=m.message.replace(/Line [0-9]+: /,""),h=m.lineNumber-1,Wa.push(h),M.addLineClass(h,"background","errorLine"),l=M.addLineWidget(h,g),Xa.push(l)}return 0===Wa.length})},setLink:function(a){Ya=
a;this.addGithubLink()},addGithubLink:function(){sa=document.createElement("div");sa.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; right:0; top:0; width:1px; height:1px; pointer-events:none;";sa.innerHTML="<svg width='60' height='60' viewBox='0 0 250 250' style='fill:rgba(255,255,255,0.05); color:rgba(0,0,0,0.3); position: absolute; top: 0; border: 0; right: 0;'>\n<path d='M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z' id='octo' onmouseover='editor.Gover();' onmouseout='editor.Gout();' onmousedown='editor.Gdown();' style='cursor:pointer; pointer-events:auto;'></path>\n<path d='M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2' fill='currentColor' style='transform-origin: 130px 106px; pointer-events:none;' id='octo-arm'></path>\n<path d='M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z' fill='currentColor' id='octo-body' style='pointer-events:none;'></path></svg>";
document.body.appendChild(sa);Da=document.getElementById("octo");Y=document.getElementById("octo-arm")},Gover:function(){Da.setAttribute("fill",ha);Y.style.webkitAnimationName="octocat-wave";Y.style.webkitAnimationDuration="560ms"},Gout:function(){Da.setAttribute("fill","rgba(255,255,255,0.05)");Y.style.webkitAnimationName="none"},Gdown:function(){Ya&&window.location.assign("https://github.com/lo-th/"+Ya)},joyMove:function(a){user.key[0]=a[0];user.key[1]=a[1]},addJoystick:function(a){a=a||{};user.setSameAxis(void 0!==
a.sameAxis?a.sameAxis:!1);Ha=UIL.add(user,"axeL",{type:"joystick",target:document.body,pos:{left:ea+70+"px",top:"auto",bottom:"10px"},name:"MOVE",w:150,multiplicator:1,precision:2,fontColor:"#308AFF",mode:1}).onChange(editor.joyMove).listen()},removeJoystick:function(){Ha.clear();Ha=null},screenChange:function(){editor.isFullScreen=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?!0:!1;a.innerHTML=editor.icon(editor.isFullScreen?
"scrOut":"scrIn","#787978",30,30)},toggleFullScreen:function(){if(editor.isFullScreen)"exitFullscreen"in document?document.exitFullscreen():"webkitExitFullscreen"in document?document.webkitExitFullscreen():"mozCancelFullScreen"in document?document.mozCancelFullScreen():"msExitFullscreen"in document&&document.msExitFullscreen();else if("fullscreenEnabled"in document||"webkitFullscreenEnabled"in document||"mozFullScreenEnabled"in document||"msFullscreenEnabled"in document)if(document.fullscreenEnabled||
document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){var a=document.body;"requestFullscreen"in a?a.requestFullscreen():"webkitRequestFullscreen"in a?a.webkitRequestFullscreen():"mozRequestFullScreen"in a?a.mozRequestFullScreen():"msRequestFullscreen"in a&&a.msRequestFullscreen()}}}}();
